{"source":"(window.webpackJsonp=window.webpackJsonp||[]).push([[20],{405:function(e,t,a){\"use strict\";function o(e){if(null==e||\"\"==e)return\"\";var t=new Date(e),a=\"\"+(t.getMonth()+1),o=\"\"+t.getDate(),r=t.getFullYear();return a.length<2&&(a=\"0\"+a),o.length<2&&(o=\"0\"+o),[r,a,o].join(\"-\")}a.d(t,\"a\",function(){return o})},851:function(e,t,a){\"use strict\";a.r(t);var o=a(405),r={data:function(){var r=this;return{customerPage:1,SearchValidateCustomer:{customer_name:\"\",customer_mobile_phone:\"\"},customerLoading:!1,sortField:\"updatedate\",order:\"desc\",search_model:\"\",table_loading:!1,SearchValidate:{date:[],customer_name:\"\",customer_mobile_phone:\"\",customerStatus:[],customer_area:\"\"},ishandleSubmit:!1,isXiaoshou:!1,modal_add:!1,addTag:!1,followbysTag:!1,loading:!1,pageTotal:new Number,pageTotal2:new Number,customerTotal:new Number,customerid:\"\",pagea:1,pageSizea:10,pageTotala:new Number,data2:[],data3:[],data33:[],qudaotype:[],customerlabelGroup:[],followbysGroup:[],followbysGroup2:[],areaValue:[],xiaoshou:[],customertypeValue:[],importlevelValue:[],page:1,pageSize:\"10\",labelpagesize:\"10\",labelpage:\"1\",formValidate:{customerName:\"\",customerTel:\"\",customerMobilePhone:\"\",customerWechat:\"\",customerEmail:\"\",customerQQ:\"\",customerArea:\"\",customerLevel:\"\",customerTags:\"\",customerMemo:\"\",channelTypeId:\"\"},columns3:[{type:\"selection\",width:60,align:\"center\"},{title:\"用户名\",key:\"username\"},{title:\"真实姓名\",key:\"realname\"},{title:\"电话\",key:\"mobilephone\"}],columns4:[{type:\"selection\",width:60,align:\"center\"},{title:\"标签\",key:\"labelName\"}],ruleValidate:{customerTel:[{validator:function(e,t,a){\"\"==t||null==t?a():/\\d{3}-\\d{8}|\\d{4}-\\d{7}/.test(t)?a():a(new Error(\"固话格式不正确\"))},trigger:\"change\"}],customerQQ:[{validator:function(e,t,a){var o=RegExp(/^[1-9][0-9]{4,9}$/);\"\"==t||null==t?a():o.test(t)?a():a(new Error(\"QQ格式不正确\"))},trigger:\"change\"}],customerWechat:[{validator:function(e,t,a){\"\"==t||null==t?a():/^[a-zA-Z\\d_]{5,}$/.test(t)?a():a(new Error(\"微信格式不正确\"))},trigger:\"change\"}],customerEmail:[{validator:function(e,t,a){\"\"==t||null==t?a():/^([0-9A-Za-z\\-_\\.]+)@([0-9a-z]+\\.[a-z]{2,3}(\\.[a-z]{2})?)$/g.test(t)?a():a(new Error(\"邮箱格式不正确\"))},trigger:\"change\"}],customerName:[{required:!0,trigger:\"change\",message:\"客户名称不能为空\"}],customerArea:[{required:!0,trigger:\"change\",message:\"请选择区域\"}],customerStatus:[{required:!0,validator:function(e,t,a){\"\"==t||null==t?a(new Error(\"请选择客户状态\")):a()},trigger:\"change\"}],customerMobilePhone:[{required:!0,validator:function(e,t,a){if(\"\"==t||null==t)a(new Error(\"电话不能为空\"));else if(/^1\\d{10}$/.test(t)){var o=\"/channel/customer/phoneIsExist?customerMobilePhone=\"+t;r.GetData(o,function(e){1==e.data.data?a(new Error(\"抱歉，该号码已经存在\")):a()})}else a(new Error(\"电话格式不正确\"))},trigger:\"change\"}]},customerColumns:[{title:\"客户名称\",key:\"customer_name\",minWidth:120},{title:\"联系方式\",key:\"people\",render:function(t,e){return t(\"Poptip\",{props:{trigger:\"hover\",title:\"联系方式\",placement:\"bottom\"}},[t(\"span\",r.customerData[e.index].customer_mobile_phone+\"    \"),t(\"Icon\",{props:{type:\"arrow-down-b\"}}),t(\"div\",{slot:\"content\"},[t(\"ul\",r.customerData[e.index].people.map(function(e){return[t(\"li\",{style:{padding:\"4px\"}},\"手机：\"+e.customer_mobile_phone),t(\"li\",{style:{padding:\"4px\"}},\"固话：\"+e.customer_tel),t(\"li\",{style:{padding:\"4px\"}},\"Q  Q：\"+e.customerqq),t(\"li\",{style:{padding:\"4px\"}},\"微信：\"+e.customer_wechat)]}))])])},minWidth:150},{title:\"客户状态\",key:\"customer_status\",minWidth:150},{title:\"地区\",key:\"customer_area\",minWidth:80},{title:\"跟进人\",key:\"followbyname\",minWidth:120},{title:\"创建人\",key:\"createrealname\",minWidth:120},{title:\"更新时间\",key:\"updatedate\",minWidth:150},{title:\"创建时间\",key:\"createdate\",minWidth:150},{title:\"操作\",key:\"action\",fixed:\"right\",width:70,align:\"center\",render:function(e,t){return e(\"div\",[e(\"Button\",{props:{type:\"text\",size:\"small\"},directives:[{name:\"permission\",value:\"channelC.cheek\"}],style:{marginRight:\"5px\"},on:{click:function(){r.$store.commit(\"open_gobal_customer_detail_modal\",{ID:t.row.customer_id})}}},\"查看\")])}}],columns:[{title:\"客户名称\",key:\"customer_name\",minWidth:120,sortable:!0},{title:\"联系方式\",key:\"people\",render:function(t,e){return t(\"Poptip\",{props:{trigger:\"hover\",title:\"联系方式\",placement:\"bottom\"}},[t(\"span\",r.data2[e.index].customer_mobile_phone+\"    \"),t(\"Icon\",{props:{type:\"arrow-down-b\"}}),t(\"div\",{slot:\"content\"},[t(\"ul\",r.data2[e.index].people.map(function(e){return[t(\"li\",{style:{padding:\"4px\"}},\"手机：\"+e.customer_mobile_phone),t(\"li\",{style:{padding:\"4px\"}},\"固话：\"+e.customer_tel),t(\"li\",{style:{padding:\"4px\"}},\"Q  Q：\"+e.customerqq),t(\"li\",{style:{padding:\"4px\"}},\"微信：\"+e.customer_wechat)]}))])])},minWidth:150},{title:\"客户状态\",key:\"customer_status\",minWidth:150,sortable:!0},{title:\"线索状态\",key:\"clue_status\",minWidth:120,sortable:!0},{title:\"地区\",key:\"customer_area\",minWidth:80,sortable:!0},{title:\"销售\",key:\"followbyname\",minWidth:120,sortable:!0},{title:\"创建人\",key:\"createrealname\",minWidth:120,sortable:!0},{title:\"更新时间\",key:\"updatedate\",minWidth:150,sortable:!0},{title:\"创建时间\",key:\"createdate\",minWidth:150,sortable:!0},{title:\"操作\",key:\"action\",fixed:\"right\",width:70,align:\"center\",render:function(e,t){return e(\"div\",[e(\"Button\",{props:{type:\"text\",size:\"small\"},directives:[{name:\"permission\",value:\"channelC.cheek\"}],style:{marginRight:\"5px\"},on:{click:function(){r.$store.commit(\"open_gobal_customer_detail_modal\",{ID:t.row.customer_id})}}},\"查看\")])}}],customerTypeArr:[],area:[],customerType:[],customerData:[]}},methods:{sort:function(e){\"\"==e.key?this.sortField=\"updatedate\":\"customer_area\"==e.key?this.sortField=\"area\":\"customer_status\"==e.key?this.sortField=\"customertype\":this.sortField=e.key,\"normal\"==e.order?(this.order=\"\",this.sortField=\"updatedate\"):this.order=e.order,this.getData()},handleReset:function(){var e=this;e.SearchValidate.customer_name=\"\",e.SearchValidate.customer_mobile_phone=\"\",e.SearchValidate.customerStatus=\"\",e.SearchValidate.date=\"\",e.SearchValidate.customer_area=\"\",e.getData(),e.SearchValidateCustomer.customer_name=\"\",e.SearchValidateCustomer.customer_mobile_phone=\"\",e.get_customer_data(),e.ishandleSubmit=!1},Search:function(){this.page=1,this.getData()},getDataCenter:function(){var l=this;this.$GetDataCenter(\"area,customerTypes\",function(e){l.area=e.data.data.area,l.customerType=e.data.data.customerTypes,l.customerTypeArr=[];for(var t=0;t<l.customerType.length;t++){var a={};if(null!=l.customerType[t].children)for(var o=0;o<l.customerType[t].children.length;o++)(a={}).id=l.customerType[t].children[o].id,a.typecode=l.customerType[t].children[o].typecode,a.typename=l.customerType[t].children[o].typename,a.pid=l.customerType[t].children[o].pid,a.ptypename=l.customerType[t].typename,a.ptypecode=l.customerType[t].typecode,l.customerTypeArr.push(a);else(a={}).id=l.customerType[t].id,a.typecode=l.customerType[t].typecode,a.ptypename=l.customerType[t].typename,a.typename=\"\",a.pid=0,l.customerTypeArr.push(a);if(l.customerType[t].value=l.customerType[t].id,l.customerType[t].label=l.customerType[t].typename,null!=l.customerType[t].children)for(var r=0;r<l.customerType[t].children.length;r++)l.customerType[t].children[r].value=l.customerType[t].children[r].id,l.customerType[t].children[r].label=l.customerType[t].children[r].typename}})},findAreaText:function(e){for(var t=0;t<this.area.length;t++)if(this.area[t].typecode==e&&\"\"!=e)return this.area[t].typename},findCustomerType:function(e){if(\"\"==e||null==e)return\"\";var t=e.split(\"-\"),a=this;if(\"\"==t[1]||null==t[1]){for(var o=0;o<a.customerTypeArr.length;o++)if(a.customerTypeArr[o].id==t[0]&&\"\"!=t[0])return a.customerTypeArr[o].ptypename+\" - \"+a.customerTypeArr[o].typename}else for(var r=0;r<a.customerTypeArr.length;r++)if(a.customerTypeArr[r].id==t[1]&&\"\"!=t[1])return a.customerTypeArr[r].ptypename+\" - \"+a.customerTypeArr[r].typename},getCannelType:function(){var a=this;this.$Get(\"api/channel/type/queryUserChannel\",{params:{type:\"qdyh\"}},function(e){a.formValidate.channelTypeId=e.data.data[0].id,a.qudaotype=[];for(var t=0;t<e.data.data.length;t++)a.qudaotype.push(e.data.data[t])})},downloadExcel:function(){var e={page:\"1\",pageSize:\"1000000\",customer_name:this.SearchValidate.customer_name,customer_mobile_phone:this.SearchValidate.customer_mobile_phone,customer_area:this.SearchValidate.customer_area,export:\"Y\",exportField:encodeURI(JSON.stringify([{field:\"customer_name\",title:\"客户名称\"},{field:\"customertype\",title:\"客户状态\",format:\"customerType\"},{field:\"clue_status\",title:\"线索状态\",format:\"channelcluet\"},{field:\"area\",title:\"地区\",format:\"area\"},{field:\"followbyname\",title:\"销售\"},{field:\"createrealname\",title:\"创建人\"},{field:\"createdate\",title:\"创建时间\"},{field:\"updatedate\",title:\"更新时间\"}]))},t=this.$MergeURL(\"api/channel/customer/list\",e);window.open(t)},getData:function(){var l=this;l.table_loading=!0;var s=[],e=\"\";e=\"\"==l.SearchValidate.customerStatus||null==l.SearchValidate.customerStatus?\"\":l.SearchValidate.customerStatus.join(\"-\");var t={params:{sortField:l.sortField,order:l.order,page:l.page,pageSize:l.pageSize,customer_name:l.SearchValidate.customer_name,customer_mobile_phone:l.SearchValidate.customer_mobile_phone,customerStatus:e,bUpdatedate:Object(o.a)(l.SearchValidate.date[0]),eUpdatedate:Object(o.a)(l.SearchValidate.date[1]),customer_area:l.SearchValidate.customer_area}};this.$GetDataCenter(\"channelcluet\",function(e){s=e.data.data.channelcluet}),l.$http.get(\"api/channel/customer/list\",t).then(function(e){!function(e){var t=e.data.data;l.pageTotal=t.total,l.data2=[];for(var a=0;a<t.rows.length;a++){for(var o=\"\",r=0;r<s.length;r++)t.rows[a].clue_status==s[r].typecode&&(o=s[r].typename);l.data2.push({cluestatus:t.rows[a].cluestatus,followbyname:t.rows[a].followbyname,customer_name:t.rows[a].customer_name,channel_name:t.rows[a].channel_name,clue_status:o,createdate:t.rows[a].createdate.substr(0,10),customer_area:l.findAreaText(t.rows[a].area),customer_email:t.rows[a].customer_email,customer_level:t.rows[a].customer_level,customer_memo:t.rows[a].customer_memo,customer_status:l.findCustomerType(t.rows[a].customertype),customer_tags:t.rows[a].customer_tags,customer_id:t.rows[a].customer_id,updatedate:t.rows[a].updatedate.substr(0,10),createrealname:t.rows[a].createrealname,customer_mobile_phone:t.rows[a].customer_mobile_phone,people:[{customer_mobile_phone:t.rows[a].customer_mobile_phone,customer_tel:t.rows[a].customer_tel,customer_wechat:t.rows[a].customer_wechat,customerqq:t.rows[a].customerqq}]})}l.table_loading=!1}(e)})},get_customer_data:function(){var o=this;o.customerLoading=!0;\"\"==o.SearchValidate.customerStatus||null==o.SearchValidate.customerStatus||o.SearchValidate.customerStatus.join(\"-\");var e={params:{page:o.customerPage,pageSize:10}};o.$http.get(\"api/customer/list\",e).then(function(e){!function(e){var t=e.data.data;o.customerTotal=t.total,o.customerData=[];for(var a=0;a<t.rows.length;a++)o.customerData.push({followbyname:t.rows[a].followbyname,customer_name:t.rows[a].NAME,createdate:t.rows[a].CREATEDATE.substr(0,10),customer_area:o.findAreaText(t.rows[a].AREA),customer_email:t.rows[a].email,customer_memo:t.rows[a].backup,customer_status:o.findCustomerType(t.rows[a].customerType),customer_id:t.rows[a].ID,updatedate:t.rows[a].updatedate.substr(0,10),createrealname:t.rows[a].createbyname,customer_mobile_phone:t.rows[a].TEL,people:[{customer_mobile_phone:t.rows[a].TEL,customer_wechat:t.rows[a].weixin,customerqq:t.rows[a].qq}]});o.customerLoading=!1}(e)})},SearchCustomer:function(){this.customerPage=1,this.get_customer_data()},pageChangeCustomer:function(e){this.customerPage=e,this.get_customer_data()},pageChange:function(e){this.page=e,this.getData()},pageSizeChange:function(e){this.pageSize=e,this.getData()},examine:function(e){localStorage.setItem(\"customerTag\",e.customer_tags),this.$store.commit(\"open_gobal_customer_detail_modal\",{ID:e.customer_id})},selectRow:function(e){this.customerid=e.customer_id},handleSubmit:function(e){var o=this,r=this;this.loading=!0,this.$refs[e].validate(function(e){if(e){if(null!=r.customerlabelGroup){for(var t=[],a=0;a<r.customerlabelGroup.length;a++)t.push(r.customerlabelGroup[a].id);r.formValidate.customerTags=t.toString()}\"\"!=r.formValidate.customerTel&&null!=r.formValidate.customerTel||\"\"!=r.formValidate.customerMobilePhone&&null!=r.formValidate.customerMobilePhone||\"\"!=r.formValidate.customerWechat&&null!=r.formValidate.customerWechat||\"\"!=r.formValidate.customerQQ&&null!=r.formValidate.weixin?r.$Post(l,r.formValidate,s,n):(o.loading=!1,o.$Message.error(\"电话、固话、QQ、微信必须填写一个\"))}else o.loading=!1});var l=\"/api/channel/customer/create\";function s(e){r.getData(),r.modal_add=!1,r.loading=!1,r.cancel(\"formValidate\")}function n(e){r.loading=!1}},cancel:function(e){this.customerlabelGroup=[],this.followbysGroup=[],this.$refs[e].resetFields()},getLabelData:function(){var n=this;n.data3=[],this.$http.get(\"/api/system/label/list?page=1&pageSize=10\").then(function(e){var t=e.data.data,a=t.rows.length;n.pageTotal2=t.total;for(var o=[],r=0;r<a;r++){var l={};l.labelName=t.rows[r].labelName,l.id=t.rows[r].id;for(var s=0;s<n.customerlabelGroup.length;s++)l.labelName==n.customerlabelGroup[s].labelName&&(l._checked=!0,o.push(l));n.data3.push(l)}}).catch(function(e){})},getfollowbysData:function(){var l=this,e=\"/user/list?page=\"+l.pagea+\"&pageSize=\"+l.pageSizea;this.GetData(e,function(e){var t=e.data.data;l.addCannelUser=!0,l.pageTotala=t.total,l.data33=[];for(var a=0;a<t.rows.length;a++){for(var o={},r=0;r<l.followbysGroup.length;r++)if(l.followbysGroup[r].id==t.rows[a].id){o._checked=!0;break}o.id=t.rows[a].id,o.mobilephone=t.rows[a].mobilephone,o.realname=t.rows[a].realname,o.username=t.rows[a].username,l.data33.push(o)}})},pageChangea:function(e){var t=this;t.pagea=e;for(var a=0;a<t.followbysGroup.length;a++)t.followbysGroup2.push(t.followbysGroup[a]);t.followbysGroup=[],t.getfollowbysData()},pageSizeChangea:function(e){this.pageSizea=e,this.getfollowbysData()},selectionChange:function(e){var t=this;if(0==t.customerlabelGroup.length)t.customerlabelGroup=e;else for(var a=0;a<e.length;a++){for(var o=0,r=0;r<t.customerlabelGroup.length&&e[a].id!=t.customerlabelGroup[r].id;r++)o++;o==t.customerlabelGroup.length&&t.customerlabelGroup.push({id:e[a].id,labelName:e[a].labelName})}},selectCancel:function(e,t){e:for(var a=0;a<this.customerlabelGroup.length;a++)if(t.id==this.customerlabelGroup[a].id){this.customerlabelGroup.splice(a,1);break e}},addUserClick:function(e){this.followbysGroup=[];for(var t=0;t<e.length;t++){var a={};a.id=e[t].id,a.realname=e[t].realname,this.followbysGroup.push(a)}},ok2:function(){},cancel2:function(){},pageChange2:function(e){var n=this;n.labelpage=e;var t=\"/api/system/label/list?page=\"+n.labelpage+\"&pageSize=\"+n.labelpagesize;this.$http.get(t).then(function(e){n.$backToLogin(e),n.data3=[];var t=e.data.data,a=t.rows.length;n.pageTotal2=t.total;for(var o=[],r=0;r<a;r++){var l={};l.labelName=t.rows[r].labelName,l.id=t.rows[r].id;for(var s=0;s<n.customerlabelGroup.length;s++)l.labelName==n.customerlabelGroup[s].labelName&&(l._checked=!0,o.push(l));n.data3.push(l)}})},pageSizeChange2:function(e){var n=this;n.labelpagesize=e;var t=\"/api/system/label/list?page=\"+n.labelpage+\"&pageSize=\"+n.labelpagesize;this.$http.get(t).then(function(e){n.$backToLogin(e),n.data3=[];var t=e.data.data,a=t.rows.length;n.pageTotal2=t.total;for(var o=[],r=0;r<a;r++){var l={};l.labelName=t.rows[r].labelName,l.id=t.rows[r].id;for(var s=0;s<n.customerlabelGroup.length;s++)l.labelName==n.customerlabelGroup[s].labelName&&(l._checked=!0,o.push(l));n.data3.push(l)}})},AddUserClick:function(){for(var e=0;e<this.followbysGroup.length;e++)this.followbysGroup2.push(this.followbysGroup[e]);this.followbysGroup=[]},radioChange:function(e){var a=this,t={params:{channelTypeId:e,type:\"xs\"}};this.$Get(\"api/channel/user/queryChannelUser\",t,function(e){for(var t=0;t<e.data.data.length;t++)a.isXiaoshou=!0,a.xiaoshou.push(e.data.data[t])})},handleClose2:function(e){for(var t=0;t<this.customerlabelGroup.length;t++)if(this.customerlabelGroup[t].labelname==e.name){var a=this.customerlabelGroup.indexOf(e);-1<a&&this.customerlabelGroup.splice(a,1)}}},mounted:function(){this.getDataCenter(),this.getData(),this.get_customer_data()}},l=a(4),s=Object(l.a)(r,function(){var a=this,e=a.$createElement,o=a._self._c||e;return o(\"div\",[o(\"Tabs\",{attrs:{value:\"name1\"}},[o(\"TabPane\",{attrs:{label:\"我的客户\",name:\"name1\"}},[o(\"Card\",{staticStyle:{\"min-width\":\"800px\"}},[o(\"Row\",{staticStyle:{\"margin-bottom\":\"10px\"}},[o(\"Collapse\",{model:{value:a.search_model,callback:function(e){a.search_model=e},expression:\"search_model\"}},[o(\"Panel\",{attrs:{name:\"1\"}},[o(\"Icon\",{staticStyle:{\"margin-left\":\"20px\",\"margin-right\":\"5px\"},attrs:{type:\"search\"}}),a._v(\"\\n                                    筛选\\n                                \\n                                \"),o(\"div\",{attrs:{slot:\"content\"},on:{keydown:function(e){return\"button\"in e||!a._k(e.keyCode,\"enter\",13,e.key,\"Enter\")?a.SearchCustomer(e):null}},slot:\"content\"},[o(\"Form\",{ref:\"SearchValidateCustomer\",staticStyle:{\"margin-top\":\"15px\"},attrs:{model:a.SearchValidateCustomer,\"label-width\":80}},[o(\"Row\",{staticStyle:{height:\"56px\"},attrs:{gutter:16}},[o(\"Col\",{attrs:{span:\"8\"}},[o(\"FormItem\",{attrs:{label:\"客户名称：\",prop:\"customer_name\"}},[o(\"Input\",{attrs:{size:\"small\"},model:{value:a.SearchValidateCustomer.customer_name,callback:function(e){a.$set(a.SearchValidateCustomer,\"customer_name\",e)},expression:\"SearchValidateCustomer.customer_name\"}})],1)],1),a._v(\" \"),o(\"Col\",{attrs:{span:\"8\"}},[o(\"FormItem\",{attrs:{label:\"联系方式：\",prop:\"customer_mobile_phone\"}},[o(\"Input\",{attrs:{size:\"small\"},model:{value:a.SearchValidateCustomer.customer_mobile_phone,callback:function(e){a.$set(a.SearchValidateCustomer,\"customer_mobile_phone\",e)},expression:\"SearchValidateCustomer.customer_mobile_phone\"}})],1)],1)],1),a._v(\" \"),o(\"center\",[o(\"FormItem\",{staticStyle:{\"margin-top\":\"5px\"}},[o(\"Button\",{attrs:{type:\"primary\"},on:{click:a.SearchCustomer}},[a._v(\"搜索\")]),a._v(\" \"),o(\"Button\",{staticStyle:{\"margin-left\":\"8px\"},attrs:{type:\"ghost\"},on:{click:function(e){a.handleReset(\"SearchValidateCustomer\")}}},[a._v(\"\\n                                                            重置\\n                                                        \")])],1)],1)],1)],1)],1)],1)],1),a._v(\" \"),o(\"Row\",{staticStyle:{\"margin-top\":\"10px\"}},[o(\"Table\",{attrs:{\"highlight-row\":\"\",size:\"small\",columns:a.customerColumns,data:a.customerData,loading:a.customerLoading},on:{\"on-current-change\":a.selectRow,\"on-row-dblclick\":a.examine}}),a._v(\" \"),o(\"Page\",{staticStyle:{\"margin-top\":\"10px\",\"margin-bottom\":\"10px\"},attrs:{size:\"small\",total:a.customerTotal,\"show-total\":\"\",\"show-elevator\":\"\",current:a.customerPage},on:{\"update:current\":function(e){a.customerPage=e},\"on-change\":a.pageChangeCustomer}})],1)],1)],1),a._v(\" \"),o(\"TabPane\",{attrs:{label:\"已领取\",name:\"name2\"}},[o(\"Card\",{staticStyle:{\"min-width\":\"800px\"}},[o(\"Row\",{staticStyle:{\"margin-bottom\":\"10px\"}},[o(\"Collapse\",{model:{value:a.search_model,callback:function(e){a.search_model=e},expression:\"search_model\"}},[o(\"Panel\",{attrs:{name:\"1\"}},[o(\"Icon\",{staticStyle:{\"margin-left\":\"20px\",\"margin-right\":\"5px\"},attrs:{type:\"search\"}}),a._v(\"\\n                                    筛选\\n                                \\n                                \"),o(\"div\",{attrs:{slot:\"content\"},on:{keydown:function(e){return\"button\"in e||!a._k(e.keyCode,\"enter\",13,e.key,\"Enter\")?a.Search(e):null}},slot:\"content\"},[o(\"Form\",{ref:\"SearchValidate\",staticStyle:{\"margin-top\":\"15px\"},attrs:{model:a.SearchValidate,\"label-width\":80}},[o(\"Row\",{staticStyle:{height:\"56px\"},attrs:{gutter:16}},[o(\"Col\",{attrs:{span:\"8\"}},[o(\"FormItem\",{attrs:{label:\"客户名称：\",prop:\"customer_name\"}},[o(\"Input\",{attrs:{size:\"small\"},model:{value:a.SearchValidate.customer_name,callback:function(e){a.$set(a.SearchValidate,\"customer_name\",e)},expression:\"SearchValidate.customer_name\"}})],1)],1),a._v(\" \"),o(\"Col\",{attrs:{span:\"8\"}},[o(\"FormItem\",{attrs:{label:\"联系方式：\",prop:\"customer_mobile_phone\"}},[o(\"Input\",{attrs:{size:\"small\"},model:{value:a.SearchValidate.customer_mobile_phone,callback:function(e){a.$set(a.SearchValidate,\"customer_mobile_phone\",e)},expression:\"SearchValidate.customer_mobile_phone\"}})],1)],1),a._v(\" \"),o(\"Col\",{attrs:{span:\"8\"}},[o(\"FormItem\",{attrs:{label:\"客户状态：\",prop:\"customerStatus\"}},[o(\"Cascader\",{staticStyle:{\"margin-top\":\"5px\",width:\"100%\"},attrs:{trigger:\"hover\",transfer:\"\",data:a.customerType,size:\"small\"},model:{value:a.SearchValidate.customerStatus,callback:function(e){a.$set(a.SearchValidate,\"customerStatus\",e)},expression:\"SearchValidate.customerStatus\"}})],1)],1)],1),a._v(\" \"),o(\"Row\",{attrs:{gutter:16}},[o(\"Col\",{attrs:{span:\"8\"}},[o(\"FormItem\",{attrs:{label:\"区域：\",prop:\"customer_area\"}},[o(\"Select\",{attrs:{transfer:\"\",size:\"small\"},on:{\"on-change\":a.Search},model:{value:a.SearchValidate.customer_area,callback:function(e){a.$set(a.SearchValidate,\"customer_area\",e)},expression:\"SearchValidate.customer_area\"}},[o(\"Option\",{attrs:{value:\"gz\"}},[a._v(\"广州\")]),a._v(\" \"),o(\"Option\",{attrs:{value:\"sz\"}},[a._v(\"深圳\")]),a._v(\" \"),o(\"Option\",{attrs:{value:\"dg\"}},[a._v(\"东莞\")]),a._v(\" \"),o(\"Option\",{attrs:{value:\"lz\"}},[a._v(\"兰州\")]),a._v(\" \"),o(\"Option\",{attrs:{value:\"zh\"}},[a._v(\"珠海\")]),a._v(\" \"),o(\"Option\",{attrs:{value:\"zz\"}},[a._v(\"郑州\")]),a._v(\" \"),o(\"Option\",{attrs:{value:\"sh\"}},[a._v(\"上海\")]),a._v(\" \"),o(\"Option\",{attrs:{value:\"zs\"}},[a._v(\"中山\")]),a._v(\" \"),o(\"Option\",{attrs:{value:\"fs\"}},[a._v(\"佛山\")]),a._v(\" \"),o(\"Option\",{attrs:{value:\"qt\"}},[a._v(\"其他\")])],1)],1)],1)],1),a._v(\" \"),o(\"center\",[o(\"FormItem\",{staticStyle:{\"margin-top\":\"5px\"}},[o(\"Button\",{attrs:{type:\"primary\"},on:{click:a.Search}},[a._v(\"搜索\")]),a._v(\" \"),o(\"Button\",{staticStyle:{\"margin-left\":\"8px\"},attrs:{type:\"ghost\"},on:{click:function(e){a.handleReset(\"SearchValidate\")}}},[a._v(\"\\n                                                            重置\\n                                                        \")])],1)],1)],1)],1)],1)],1)],1),a._v(\" \"),o(\"ButtonGroup\",[o(\"Button\",{directives:[{name:\"permission\",rawName:\"v-permission\",value:[\"channelC.add\"],expression:\"['channelC.add']\"}],attrs:{type:\"primary\",icon:\"plus\"},on:{click:function(e){a.getCannelType(),a.modal_add=!0}}},[a._v(\"录入\")])],1),a._v(\" \"),o(\"Row\",{staticStyle:{\"margin-top\":\"10px\"}},[o(\"Table\",{attrs:{\"highlight-row\":\"\",size:\"small\",columns:a.columns,data:a.data2,loading:a.table_loading},on:{\"on-current-change\":a.selectRow,\"on-row-dblclick\":a.examine,\"on-sort-change\":a.sort}}),a._v(\" \"),o(\"Page\",{staticStyle:{\"margin-top\":\"10px\",\"margin-bottom\":\"10px\"},attrs:{size:\"small\",total:a.pageTotal,\"show-total\":\"\",\"show-sizer\":\"\",\"show-elevator\":\"\",current:a.page},on:{\"update:current\":function(e){a.page=e},\"on-change\":a.pageChange,\"on-page-size-change\":a.pageSizeChange}})],1)],1)],1)],1),a._v(\" \"),o(\"Modal\",{attrs:{title:\"录入\"},model:{value:a.modal_add,callback:function(e){a.modal_add=e},expression:\"modal_add\"}},[o(\"Form\",{ref:\"formValidate\",attrs:{rules:a.ruleValidate,model:a.formValidate,\"label-width\":80}},[o(\"Row\",{staticStyle:{height:\"56px\"},attrs:{gutter:16}},[o(\"Col\",{attrs:{span:\"12\"}},[o(\"FormItem\",{attrs:{label:\"客户名称\",prop:\"customerName\"}},[o(\"Input\",{attrs:{size:\"small\"},model:{value:a.formValidate.customerName,callback:function(e){a.$set(a.formValidate,\"customerName\",e)},expression:\"formValidate.customerName\"}})],1)],1),a._v(\" \"),o(\"Col\",{attrs:{span:\"12\"}},[o(\"FormItem\",{attrs:{label:\"电话\",prop:\"customerMobilePhone\"}},[o(\"Input\",{attrs:{size:\"small\"},model:{value:a.formValidate.customerMobilePhone,callback:function(e){a.$set(a.formValidate,\"customerMobilePhone\",e)},expression:\"formValidate.customerMobilePhone\"}})],1)],1)],1),a._v(\" \"),o(\"Row\",{staticStyle:{height:\"56px\"},attrs:{gutter:16}},[o(\"Col\",{attrs:{span:\"12\"}},[o(\"FormItem\",{attrs:{label:\"固话\",prop:\"customerTel\"}},[o(\"Input\",{attrs:{size:\"small\"},model:{value:a.formValidate.customerTel,callback:function(e){a.$set(a.formValidate,\"customerTel\",e)},expression:\"formValidate.customerTel\"}})],1)],1),a._v(\" \"),o(\"Col\",{attrs:{span:\"12\"}},[o(\"FormItem\",{attrs:{label:\"QQ\",prop:\"customerQQ\"}},[o(\"Input\",{attrs:{size:\"small\"},model:{value:a.formValidate.customerQQ,callback:function(e){a.$set(a.formValidate,\"customerQQ\",e)},expression:\"formValidate.customerQQ\"}})],1)],1)],1),a._v(\" \"),o(\"Row\",{staticStyle:{height:\"56px\"},attrs:{gutter:16}},[o(\"Col\",{attrs:{span:\"12\"}},[o(\"FormItem\",{attrs:{label:\"微信\",prop:\"customerWechat\"}},[o(\"Input\",{attrs:{size:\"small\"},model:{value:a.formValidate.customerWechat,callback:function(e){a.$set(a.formValidate,\"customerWechat\",e)},expression:\"formValidate.customerWechat\"}})],1)],1),a._v(\" \"),o(\"Col\",{attrs:{span:\"12\"}},[o(\"FormItem\",{attrs:{label:\"邮箱\",prop:\"customerEmail\"}},[o(\"Input\",{attrs:{size:\"small\"},model:{value:a.formValidate.customerEmail,callback:function(e){a.$set(a.formValidate,\"customerEmail\",e)},expression:\"formValidate.customerEmail\"}})],1)],1)],1),a._v(\" \"),o(\"FormItem\",{attrs:{label:\"标签\",prop:\"customerTags\"}},[a._l(a.customerlabelGroup,function(t){return o(\"Tag\",{key:t.id,attrs:{name:t.id,id:t.id,closable:\"\"},on:{\"on-close\":function(e){a.handleClose2(t)}}},[a._v(\"\\n                    \"+a._s(t.labelName)+\"\\n                \")])}),a._v(\" \"),o(\"Button\",{attrs:{icon:\"ios-plus-empty\",type:\"dashed\",size:\"small\"},on:{click:function(e){a.getLabelData(),a.addTag=!0}}},[a._v(\"添加\")])],2),a._v(\" \"),o(\"FormItem\",{attrs:{label:\"渠道类型\",prop:\"channelTypeId\"}},[o(\"RadioGroup\",{on:{\"on-change\":a.radioChange},model:{value:a.formValidate.channelTypeId,callback:function(e){a.$set(a.formValidate,\"channelTypeId\",e)},expression:\"formValidate.channelTypeId\"}},a._l(a.qudaotype,function(e){return o(\"Radio\",{key:e.id,attrs:{label:e.id,id:e.id}},[a._v(a._s(e.channel_type_name))])}),1)],1),a._v(\" \"),o(\"FormItem\",{attrs:{label:\"备注\",prop:\"customerMemo\"}},[o(\"Input\",{attrs:{size:\"small\",type:\"textarea\"},model:{value:a.formValidate.customerMemo,callback:function(e){a.$set(a.formValidate,\"customerMemo\",e)},expression:\"formValidate.customerMemo\"}})],1)],1),a._v(\" \"),o(\"div\",{attrs:{slot:\"footer\"},slot:\"footer\"},[o(\"Button\",{attrs:{type:\"primary\",loading:a.loading},on:{click:function(e){a.handleSubmit(\"formValidate\")}}},[a._v(\"新增\")]),a._v(\" \"),o(\"Button\",{attrs:{type:\"ghost\"},on:{click:function(e){a.cancel(\"formValidate\")}}},[a._v(\"重置\")])],1)],1),a._v(\" \"),o(\"Modal\",{attrs:{title:\"添加标签\"},on:{\"on-ok\":a.ok2,\"on-cancel\":a.cancel2},model:{value:a.addTag,callback:function(e){a.addTag=e},expression:\"addTag\"}},[o(\"Table\",{ref:\"selection\",attrs:{border:\"\",columns:a.columns4,data:a.data3},on:{\"on-select-cancel\":a.selectCancel,\"on-selection-change\":a.selectionChange}}),a._v(\" \"),o(\"Page\",{staticStyle:{\"margin-top\":\"10px\"},attrs:{size:\"small\",total:a.pageTotal2,\"show-total\":\"\",\"show-sizer\":\"\",\"show-elevator\":\"\"},on:{\"on-change\":a.pageChange2,\"on-page-size-change\":a.pageSizeChange2}})],1),a._v(\" \"),o(\"Modal\",{attrs:{title:\"添加跟进人\",width:\"40%\"},on:{\"on-ok\":a.AddUserClick,\"on-cancel\":a.cancel2},model:{value:a.followbysTag,callback:function(e){a.followbysTag=e},expression:\"followbysTag\"}},[o(\"Table\",{attrs:{\"highlight-row\":\"\",columns:a.columns3,data:a.data33},on:{\"on-selection-change\":a.addUserClick}}),a._v(\" \"),o(\"Page\",{staticStyle:{\"margin-top\":\"10px\"},attrs:{size:\"small\",total:a.pageTotala,\"show-total\":\"\",\"show-sizer\":\"\",\"show-elevator\":\"\"},on:{\"on-change\":a.pageChangea,\"on-page-size-change\":a.pageSizeChangea}})],1)],1)},[],!1,null,null,null);s.options.__file=\"channelCustomer_table.vue\";var n={name:\"channelCustomer_index\",components:{channelTable:s.exports},data:function(){return{modal:!1,customerid:\"\",isExamine:!1}},methods:{isExamineChange:function(e){this.customerid=e,this.isExamine=!0,this.modal=!0},cancel:function(){this.customerid=\"\",this.isExamine=!1},ok:function(){},isEdit:function(){}}},i=Object(l.a)(n,function(){var e=this,t=e.$createElement,a=e._self._c||t;return a(\"div\",[a(\"channel-table\",{on:{isExamine:e.isExamineChange}})],1)},[],!1,null,null,null);i.options.__file=\"channelCustomer.vue\";t.default=i.exports}}]);"}