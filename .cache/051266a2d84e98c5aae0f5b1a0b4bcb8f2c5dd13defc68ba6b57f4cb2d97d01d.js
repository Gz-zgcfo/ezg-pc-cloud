{"source":"(window.webpackJsonp=window.webpackJsonp||[]).push([[25],{459:function(e,a,t){},732:function(e,a,t){\"use strict\";var l=t(459);t.n(l).a},867:function(e,a,t){\"use strict\";t.r(a);var l={name:\"cluesLabels_index\",data:function(){var t=this;return{isEidt:!1,modal1:!1,modal2:!1,modal3:!1,loading:!0,issendValue:[],formValidate:{labelname:\"\",labelcode:\"\",labeltype:\"\",typecode:\"\",labelmemo:\"\"},formValidate2:{labelname:\"\",labelcode:\"\",labeltype:\"\",typecode:\"\",labelmemo:\"\"},formValidate3:{labelname:\"\",labelcode:\"\",labeltype:\"\",typecode:\"\",labelmemo:\"\"},ruleValidate:{labelname:[{required:!0,trigger:\"blur\",message:\"标签名称不能为空\"}],labelcode:[{required:!0,trigger:\"blur\",message:\"标签编码不能为空\"}],labeltype:[{required:!0,trigger:\"change\",message:\"请选择标签类别\"}]},columns:[{type:\"index\",width:60,align:\"center\"},{title:\"标签类型\",key:\"labelType\"},{title:\"类别编码\",key:\"typecode\"},{title:\"标签名称\",key:\"labelName\"},{title:\"标签编码\",key:\"labelCode\"},{title:\"创建时间\",key:\"createDate\"},{title:\"操作\",key:\"action\",align:\"center\",width:180,render:function(e,a){return e(\"div\",[e(\"Button\",{props:{type:\"text\",size:\"small\",permission:\"['cluesL.detail']\"},style:{marginRight:\"5px\"},on:{click:function(){t.detail(a.row)}}},\"详情\"),e(\"Button\",{props:{type:\"text\",size:\"small\",permission:\"['cluesL.edit']\"},style:{marginRight:\"5px\"},on:{click:function(){t.edit(a)}}},\"修改\")])}}],data:[],pageTotal:new Number,pageSize:10,customerid:\"\",currentPage:1}},methods:{getTableData:function(){var t=this;t.data=[],t.currentPage=1,this.GetData(\"/system/label/list?page=1&pageSize=10&sortField=id&order=desc\",function(e){t.pageTotal=e.data.data.total;for(var a=0;a<e.data.data.rows.length;a++)t.data.push({createDate:e.data.data.rows[a].createDate,id:e.data.data.rows[a].id,labelCode:e.data.data.rows[a].labelCode,labelName:e.data.data.rows[a].labelName,labelType:e.data.data.rows[a].labelType,typecode:e.data.data.rows[a].typecode})})},pageChange:function(e){var t=this,a=\"/system/label/list?page=\"+e+\"&pageSize=\"+t.pageSize+\"&sortField=id&order=desc\";t.data=[],this.GetData(a,function(e){t.pageTotal=e.data.data.total;for(var a=0;a<e.data.data.rows.length;a++)t.data.push({createDate:e.data.data.rows[a].createDate,id:e.data.data.rows[a].id,labelCode:e.data.data.rows[a].labelCode,labelName:e.data.data.rows[a].labelName,labelType:e.data.data.rows[a].labelType,typecode:e.data.data.rows[a].typecode})})},pageSizeChange:function(e){var t=this,a=\"/system/label/list?page=1&pageSize=\"+e+\"&sortField=id&order=desc\";t.pageSize=e,t.data=[],this.GetData(a,function(e){t.pageTotal=e.data.data.total;for(var a=0;a<e.data.data.rows.length;a++)t.data.push({createDate:e.data.data.rows[a].createDate,id:e.data.data.rows[a].id,labelCode:e.data.data.rows[a].labelCode,labelName:e.data.data.rows[a].labelName,labelType:e.data.data.rows[a].labelType,typecode:e.data.data.rows[a].typecode})})},detail:function(e){var t=this,a=\"/system/label/findLabelById/\"+e.id;t.modal2=!0,this.GetData(a,function(e){var a=e.data.data;t.formValidate2.id=a.id,t.formValidate2.labelcode=a.labelCode,t.formValidate2.labelmemo=a.labelMemo,t.formValidate2.labelname=a.labelName,t.formValidate2.labeltype=a.labelType,t.formValidate2.typecode=a.typeCode})},edit:function(e){var t=this,a=\"/system/label/findLabelById/\"+e.row.id;t.modal3=!0,this.GetData(a,function(e){var a=e.data.data;t.formValidate3.id=a.id,t.formValidate3.labelcode=a.labelCode,t.formValidate3.labelmemo=a.labelMemo,t.formValidate3.labelname=a.labelName,t.formValidate3.labeltype=a.labelType,t.formValidate3.typecode=a.typeCode})},ok:function(e){var a=this,t=this;setTimeout(function(){a.loading=!1,a.$refs[e].validate(function(e){if(e){a.PostData(\"/system/label/saveLabel\",t.formValidate,function(e){t.$Message.success(\"更新成功!\"),t.getTableData(),t.cancel(\"formValidate\"),t.modal1=!1})}else a.$nextTick(function(){a.loading=!0})})},2e3)},ok2:function(e){var a=this,t=this;setTimeout(function(){a.loading=!1;a.PostData(\"/system/label/updateLabel\",t.formValidate3,function(e){t.$Message.success(\"更新成功!\"),t.getTableData(),t.cancel(\"formValidate3\"),t.modal3=!1})},2e3)},cancel:function(e){this.$refs[e].resetFields()}},mounted:function(){this.getTableData()}},o=(t(732),t(4)),i=Object(o.a)(l,function(){var a=this,e=a.$createElement,t=a._self._c||e;return t(\"div\",[t(\"Card\",[t(\"Row\",[t(\"ButtonGroup\",[t(\"Button\",{directives:[{name:\"permission\",rawName:\"v-permission\",value:[\"cluesL.add\"],expression:\"['cluesL.add']\"}],attrs:{type:\"primary\",icon:\"ios-color-wand-outline\"},on:{click:function(e){a.modal1=!0}}},[a._v(\"新增\")])],1)],1),a._v(\" \"),t(\"Row\",{staticStyle:{\"margin-top\":\"10px\"}},[t(\"Table\",{attrs:{\"highlight-row\":\"\",size:\"small\",columns:a.columns,data:a.data},on:{\"on-row-dblclick\":a.detail}}),a._v(\" \"),t(\"Page\",{staticStyle:{\"margin-top\":\"10px\"},attrs:{size:\"small\",total:a.pageTotal,current:a.currentPage,\"show-total\":\"\",\"show-sizer\":\"\",\"show-elevator\":\"\"},on:{\"update:current\":function(e){a.currentPage=e},\"on-change\":a.pageChange,\"on-page-size-change\":a.pageSizeChange}})],1)],1),a._v(\" \"),t(\"Modal\",{attrs:{title:\"新增\",\"class-name\":\"vertical-center-modal\",loading:a.loading},on:{\"on-ok\":function(e){a.ok(\"formValidate\")},\"on-cancel\":function(e){a.cancel(\"formValidate\")}},model:{value:a.modal1,callback:function(e){a.modal1=e},expression:\"modal1\"}},[t(\"Form\",{ref:\"formValidate\",attrs:{model:a.formValidate,rules:a.ruleValidate,\"label-width\":70}},[t(\"FormItem\",{attrs:{label:\"标签名称\",prop:\"labelname\"}},[t(\"Input\",{model:{value:a.formValidate.labelname,callback:function(e){a.$set(a.formValidate,\"labelname\",e)},expression:\"formValidate.labelname\"}})],1),a._v(\" \"),t(\"FormItem\",{attrs:{label:\"标签编码\",prop:\"labelcode\"}},[t(\"Input\",{model:{value:a.formValidate.labelcode,callback:function(e){a.$set(a.formValidate,\"labelcode\",e)},expression:\"formValidate.labelcode\"}})],1),a._v(\" \"),t(\"FormItem\",{attrs:{label:\"标签类型\",prop:\"labeltype\"}},[t(\"Select\",{staticStyle:{width:\"200px\"},attrs:{transfer:\"\",transfer:\"\"},model:{value:a.formValidate.labeltype,callback:function(e){a.$set(a.formValidate,\"labeltype\",e)},expression:\"formValidate.labeltype\"}},[t(\"Option\",{attrs:{value:\"shangshilei\"}},[a._v(\"商事类\")]),a._v(\" \"),t(\"Option\",{attrs:{value:\"kuaijilei\"}},[a._v(\"会计类\")]),a._v(\" \"),t(\"Option\",{attrs:{value:\"qihualei\"}},[a._v(\"企划类\")]),a._v(\" \"),t(\"Option\",{attrs:{value:\"shenjilei\"}},[a._v(\"审计类\")])],1)],1),a._v(\" \"),t(\"FormItem\",{attrs:{label:\"类别编码\",prop:\"typecode\"}},[t(\"Input\",{model:{value:a.formValidate.typecode,callback:function(e){a.$set(a.formValidate,\"typecode\",e)},expression:\"formValidate.typecode\"}})],1),a._v(\" \"),t(\"FormItem\",{attrs:{label:\"标签说明\",prop:\"labelmemo\"}},[t(\"Input\",{attrs:{size:\"small\",type:\"textarea\"},model:{value:a.formValidate.labelmemo,callback:function(e){a.$set(a.formValidate,\"labelmemo\",e)},expression:\"formValidate.labelmemo\"}})],1)],1)],1),a._v(\" \"),t(\"Modal\",{attrs:{title:\"详情\",\"class-name\":\"vertical-center-modal\"},model:{value:a.modal2,callback:function(e){a.modal2=e},expression:\"modal2\"}},[t(\"Form\",{ref:\"formValidate2\",attrs:{model:a.formValidate2,\"label-width\":70}},[t(\"FormItem\",{attrs:{label:\"标签名称\",prop:\"labelname\"}},[t(\"Input\",{attrs:{disabled:\"\"},model:{value:a.formValidate2.labelname,callback:function(e){a.$set(a.formValidate2,\"labelname\",e)},expression:\"formValidate2.labelname\"}})],1),a._v(\" \"),t(\"FormItem\",{attrs:{label:\"标签编码\",prop:\"labelcode\"}},[t(\"Input\",{attrs:{disabled:\"\"},model:{value:a.formValidate2.labelcode,callback:function(e){a.$set(a.formValidate2,\"labelcode\",e)},expression:\"formValidate2.labelcode\"}})],1),a._v(\" \"),t(\"FormItem\",{attrs:{label:\"标签类型\",prop:\"labeltype\"}},[t(\"Select\",{staticStyle:{width:\"200px\"},attrs:{transfer:\"\",disabled:\"\",transfer:\"\"},model:{value:a.formValidate2.labeltype,callback:function(e){a.$set(a.formValidate2,\"labeltype\",e)},expression:\"formValidate2.labeltype\"}},[t(\"Option\",{attrs:{value:\"shangshilei\"}},[a._v(\"商事类\")]),a._v(\" \"),t(\"Option\",{attrs:{value:\"kuaijilei\"}},[a._v(\"会计类\")]),a._v(\" \"),t(\"Option\",{attrs:{value:\"qihualei\"}},[a._v(\"企划类\")]),a._v(\" \"),t(\"Option\",{attrs:{value:\"shenjilei\"}},[a._v(\"审计类\")])],1)],1),a._v(\" \"),t(\"FormItem\",{attrs:{label:\"类别编码\",prop:\"typecode\"}},[t(\"Input\",{attrs:{disabled:\"\"},model:{value:a.formValidate2.typecode,callback:function(e){a.$set(a.formValidate2,\"typecode\",e)},expression:\"formValidate2.typecode\"}})],1),a._v(\" \"),t(\"FormItem\",{attrs:{label:\"标签说明\",prop:\"labelmemo\"}},[t(\"Input\",{attrs:{size:\"small\",type:\"textarea\",disabled:\"\"},model:{value:a.formValidate2.labelmemo,callback:function(e){a.$set(a.formValidate2,\"labelmemo\",e)},expression:\"formValidate2.labelmemo\"}})],1)],1)],1),a._v(\" \"),t(\"Modal\",{attrs:{title:\"修改\",\"class-name\":\"vertical-center-modal\",loading:a.loading},on:{\"on-ok\":function(e){a.ok2(\"formValidate3\")},\"on-cancel\":function(e){a.cancel(\"formValidate3\")}},model:{value:a.modal3,callback:function(e){a.modal3=e},expression:\"modal3\"}},[t(\"Form\",{ref:\"formValidate3\",attrs:{model:a.formValidate3,\"label-width\":70}},[t(\"FormItem\",{attrs:{label:\"标签名称\",prop:\"labelname\"}},[t(\"Input\",{model:{value:a.formValidate3.labelname,callback:function(e){a.$set(a.formValidate3,\"labelname\",e)},expression:\"formValidate3.labelname\"}})],1),a._v(\" \"),t(\"FormItem\",{attrs:{label:\"标签编码\",prop:\"labelcode\"}},[t(\"Input\",{model:{value:a.formValidate3.labelcode,callback:function(e){a.$set(a.formValidate3,\"labelcode\",e)},expression:\"formValidate3.labelcode\"}})],1),a._v(\" \"),t(\"FormItem\",{attrs:{label:\"标签类型\",prop:\"labeltype\"}},[t(\"Select\",{staticStyle:{width:\"200px\"},attrs:{transfer:\"\",transfer:\"\"},model:{value:a.formValidate3.labeltype,callback:function(e){a.$set(a.formValidate3,\"labeltype\",e)},expression:\"formValidate3.labeltype\"}},[t(\"Option\",{attrs:{value:\"shangshilei\"}},[a._v(\"商事类\")]),a._v(\" \"),t(\"Option\",{attrs:{value:\"kuaijilei\"}},[a._v(\"会计类\")]),a._v(\" \"),t(\"Option\",{attrs:{value:\"qihualei\"}},[a._v(\"企划类\")]),a._v(\" \"),t(\"Option\",{attrs:{value:\"shenjilei\"}},[a._v(\"审计类\")])],1)],1),a._v(\" \"),t(\"FormItem\",{attrs:{label:\"类别编码\",prop:\"typecode\"}},[t(\"Input\",{attrs:{disabled:\"\"},model:{value:a.formValidate3.typecode,callback:function(e){a.$set(a.formValidate3,\"typecode\",e)},expression:\"formValidate3.typecode\"}})],1),a._v(\" \"),t(\"FormItem\",{attrs:{label:\"标签说明\",prop:\"labelmemo\"}},[t(\"Input\",{attrs:{size:\"small\",type:\"textarea\"},model:{value:a.formValidate3.labelmemo,callback:function(e){a.$set(a.formValidate3,\"labelmemo\",e)},expression:\"formValidate3.labelmemo\"}})],1)],1)],1)],1)},[],!1,null,null,null);i.options.__file=\"cluesLabels.vue\";a.default=i.exports}}]);"}