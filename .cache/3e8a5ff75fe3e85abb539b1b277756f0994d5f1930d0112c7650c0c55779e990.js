{"source":"(window.webpackJsonp=window.webpackJsonp||[]).push([[38],{814:function(a,t,e){\"use strict\";e.r(t);var o={data:function(){return{data:[],header:[{title:\"公司名称\",key:\"companyname\"}],total:0,page:1,pageSize:10,loading:!1,search_model:\"\",formValidateSearch:{companyName:\"\",type:\"\"}}},methods:{Search:function(){this.page=1,this.get_data()},pageChange:function(a){this.page=a,this.get_data()},handleReset:function(){this.page=1,this.$refs.formValidateSearch.resetFields(),this.get_data()},get_data:function(){var t=this;t.loading=!0;var a=void 0;a=\"notInRelation\"==t.formValidateSearch.type?{params:{page:t.page,pageSize:t.pageSize,companyName:t.formValidateSearch.companyName,notInRelation:\"1\"}}:\"inRelation\"==t.formValidateSearch.type?{params:{page:t.page,pageSize:t.pageSize,companyName:t.formValidateSearch.companyName,inRelation:\"1\"}}:{params:{page:t.page,pageSize:t.pageSize,companyName:t.formValidateSearch.companyName}},this.$Get(\"api/customer/company/gdetax/companyList\",a,function(a){t.loading=!1,t.total=a.data.data.total,t.data=a.data.data.rows})}},created:function(){this.get_data()}},n=e(4),r=Object(n.a)(o,function(){var t=this,a=t.$createElement,e=t._self._c||a;return e(\"div\",[e(\"Row\",{staticStyle:{\"margin-bottom\":\"10px\"}},[e(\"Collapse\",{model:{value:t.search_model,callback:function(a){t.search_model=a},expression:\"search_model\"}},[e(\"Panel\",{attrs:{name:\"1\"}},[e(\"Icon\",{staticStyle:{\"margin-left\":\"20px\",\"margin-right\":\"5px\"},attrs:{type:\"search\"}}),t._v(\"\\n                        筛选\\n                    \"),e(\"div\",{attrs:{slot:\"content\"},on:{keydown:function(a){return\"button\"in a||!t._k(a.keyCode,\"enter\",13,a.key,\"Enter\")?t.Search(a):null}},slot:\"content\"},[e(\"Form\",{ref:\"formValidateSearch\",attrs:{model:t.formValidateSearch,\"label-width\":100}},[e(\"Row\",{attrs:{gutter:16}},[e(\"Col\",{attrs:{span:\"8\"}},[e(\"FormItem\",{attrs:{label:\"企业名称：\",prop:\"companyName\"}},[e(\"Input\",{attrs:{size:\"small\"},model:{value:t.formValidateSearch.companyName,callback:function(a){t.$set(t.formValidateSearch,\"companyName\",a)},expression:\"formValidateSearch.companyName\"}})],1)],1),t._v(\" \"),e(\"Col\",{attrs:{span:\"8\"}},[e(\"FormItem\",{attrs:{label:\"关联关系：\",prop:\"type\"}},[e(\"Select\",{attrs:{size:\"small\"},model:{value:t.formValidateSearch.type,callback:function(a){t.$set(t.formValidateSearch,\"type\",a)},expression:\"formValidateSearch.type\"}},[e(\"Option\",{attrs:{value:\"all\"}},[t._v(\"全部\")]),t._v(\" \"),e(\"Option\",{attrs:{value:\"inRelation\"}},[t._v(\"关联\")]),t._v(\" \"),e(\"Option\",{attrs:{value:\"notInRelation\"}},[t._v(\"不关联\")])],1)],1)],1)],1),t._v(\" \"),e(\"center\",[e(\"FormItem\",[e(\"Button\",{attrs:{type:\"primary\"},on:{click:t.Search}},[t._v(\"搜索\")]),t._v(\" \"),e(\"Button\",{staticStyle:{\"margin-left\":\"8px\"},attrs:{type:\"ghost\"},on:{click:t.handleReset}},[t._v(\"重置\")])],1)],1)],1)],1)],1)],1)],1),t._v(\" \"),e(\"Row\",{staticStyle:{\"margin-top\":\"10px\"}},[e(\"Table\",{attrs:{loading:t.loading,\"highlight-row\":\"\",size:\"small\",border:\"\",columns:t.header,data:t.data}}),t._v(\" \"),e(\"Page\",{staticStyle:{\"margin-top\":\"10px\",\"padding-bottom\":\"10px\"},attrs:{size:\"small\",total:t.total,\"show-total\":\"\",\"show-elevator\":\"\",current:t.page},on:{\"update:current\":function(a){t.page=a},\"on-change\":t.pageChange}})],1)],1)},[],!1,null,null,null);r.options.__file=\"cycleCompany.vue\";var l=r.exports,i={data:function(){return{data:[],header:[{title:\"序号\",type:\"index\",minWidth:90},{title:\"服务人员\",key:\"kj_name\",minWidth:120},{title:\"企业名称\",key:\"qybdname\",minWidth:250,render:function(a,t){return a(\"div\",t.row.qybdname.split(\"（\")[0])}},{title:\"用户名\",key:\"user_name\",minWidth:150},{title:\"报税税期\",key:\"bs_month\",minWidth:150}],total:0,page:1,pageSize:10,loading:!1,search_model:\"\",formValidateSearch:{companyName:\"\",type:\"\"}}},methods:{Search:function(){this.page=1,this.get_data()},pageChange:function(a){this.page=a,this.get_data()},handleReset:function(){this.page=1,this.$refs.formValidateSearch.resetFields(),this.get_data()},get_data:function(){var t=this;t.loading=!0;var a=void 0;a=\"notInRelation\"==t.formValidateSearch.type?{params:{page:t.page,pageSize:t.pageSize,qybdName:t.formValidateSearch.companyName,notInRelation:\"1\"}}:\"inRelation\"==t.formValidateSearch.type?{params:{page:t.page,pageSize:t.pageSize,qybdName:t.formValidateSearch.companyName,inRelation:\"1\"}}:{params:{page:t.page,pageSize:t.pageSize,qybdName:t.formValidateSearch.companyName}},this.$Get(\"api/customer/company/gdetax/etaxQyList\",a,function(a){t.loading=!1,t.total=a.data.data.total,t.data=a.data.data.rows})}},created:function(){this.get_data()}},s=Object(n.a)(i,function(){var t=this,a=t.$createElement,e=t._self._c||a;return e(\"div\",[e(\"Row\",{staticStyle:{\"margin-bottom\":\"10px\"}},[e(\"Collapse\",{model:{value:t.search_model,callback:function(a){t.search_model=a},expression:\"search_model\"}},[e(\"Panel\",{attrs:{name:\"1\"}},[e(\"Icon\",{staticStyle:{\"margin-left\":\"20px\",\"margin-right\":\"5px\"},attrs:{type:\"search\"}}),t._v(\"\\n                        筛选\\n                    \"),e(\"div\",{attrs:{slot:\"content\"},on:{keydown:function(a){return\"button\"in a||!t._k(a.keyCode,\"enter\",13,a.key,\"Enter\")?t.Search(a):null}},slot:\"content\"},[e(\"Form\",{ref:\"formValidateSearch\",attrs:{model:t.formValidateSearch,\"label-width\":100}},[e(\"Row\",{attrs:{gutter:16}},[e(\"Col\",{attrs:{span:\"8\"}},[e(\"FormItem\",{attrs:{label:\"企业名称：\",prop:\"companyName\"}},[e(\"Input\",{attrs:{size:\"small\"},model:{value:t.formValidateSearch.companyName,callback:function(a){t.$set(t.formValidateSearch,\"companyName\",a)},expression:\"formValidateSearch.companyName\"}})],1)],1),t._v(\" \"),e(\"Col\",{attrs:{span:\"8\"}},[e(\"FormItem\",{attrs:{label:\"关联关系：\",prop:\"type\"}},[e(\"Select\",{attrs:{size:\"small\"},model:{value:t.formValidateSearch.type,callback:function(a){t.$set(t.formValidateSearch,\"type\",a)},expression:\"formValidateSearch.type\"}},[e(\"Option\",{attrs:{value:\"all\"}},[t._v(\"全部\")]),t._v(\" \"),e(\"Option\",{attrs:{value:\"inRelation\"}},[t._v(\"关联\")]),t._v(\" \"),e(\"Option\",{attrs:{value:\"notInRelation\"}},[t._v(\"不关联\")])],1)],1)],1)],1),t._v(\" \"),e(\"center\",[e(\"FormItem\",[e(\"Button\",{attrs:{type:\"primary\"},on:{click:t.Search}},[t._v(\"搜索\")]),t._v(\" \"),e(\"Button\",{staticStyle:{\"margin-left\":\"8px\"},attrs:{type:\"ghost\"},on:{click:t.handleReset}},[t._v(\"重置\")])],1)],1)],1)],1)],1)],1)],1),t._v(\" \"),e(\"Row\",{staticStyle:{\"margin-top\":\"10px\"}},[e(\"Table\",{attrs:{loading:t.loading,\"highlight-row\":\"\",size:\"small\",border:\"\",columns:t.header,data:t.data}}),t._v(\" \"),e(\"Page\",{staticStyle:{\"margin-top\":\"10px\",\"padding-bottom\":\"10px\"},attrs:{size:\"small\",total:t.total,\"show-total\":\"\",\"show-elevator\":\"\",current:t.page},on:{\"update:current\":function(a){t.page=a},\"on-change\":t.pageChange}})],1)],1)},[],!1,null,null,null);s.options.__file=\"companyList.vue\";var c=s.exports,m={props:{relationData:{type:[Object,String],default:{companyid:\"\",id:\"\",qyname:\"\",companyname:\"\",kj:\"\"}}},data:function(){return{companyList:[],companyLoading:!1,openUpdateRelation:!0,ruleValidate:{},loading:!1}},methods:{valid:function(){var t=this;this.$refs.relationData.validate(function(a){a?t.create_account():t.loading=!1})},create_account:function(){var t=this;t.loading=!0;var a={id:t.relationData.id,companyId:t.relationData.companyid,kj:t.relationData.kj};this.$Post(\"api/customer/company/gdetax/updateEtaxQyAndCompany\",a,function(a){t.loading=!1,t.close()},function(a){t.loading=!1})},close:function(){this.$emit(\"close\")},get_company_list:function(a){var t=this,e=\"api/customer/company/list?page=1&pageSize=10&companyname=\"+a;this.$Get(e,{},function(a){t.companyList=a.data.data.rows})}},created:function(){this.get_company_list(this.relationData.companyname)}},d=Object(n.a)(m,function(){var t=this,a=t.$createElement,e=t._self._c||a;return e(\"div\",[e(\"Modal\",{attrs:{title:\"修改关联关系\",width:\"500\"},on:{\"on-cancel\":t.close},model:{value:t.openUpdateRelation,callback:function(a){t.openUpdateRelation=a},expression:\"openUpdateRelation\"}},[e(\"Form\",{ref:\"relationData\",attrs:{rules:t.ruleValidate,model:t.relationData,\"label-width\":150,\"label-position\":\"right\"}},[e(\"Row\",{attrs:{gutter:16}},[e(\"Col\",{attrs:{span:\"24\"}},[e(\"FormItem\",{attrs:{label:\"税务系统企业名称：\",prop:\"qyname\"}},[e(\"Input\",{attrs:{size:\"small\",readonly:\"\"},model:{value:t.relationData.qyname,callback:function(a){t.$set(t.relationData,\"qyname\",a)},expression:\"relationData.qyname\"}})],1)],1)],1),t._v(\" \"),e(\"Row\",{attrs:{gutter:16}},[e(\"Col\",{attrs:{span:\"24\"}},[e(\"FormItem\",{attrs:{label:\"系统对应企业名称：\",prop:\"companyid\"}},[e(\"Select\",{staticStyle:{width:\"200px\"},attrs:{placeholder:\"输入公司名称搜索\",filterable:\"\",remote:\"\",\"remote-method\":t.get_company_list,loading:t.companyLoading,size:\"small\"},model:{value:t.relationData.companyid,callback:function(a){t.$set(t.relationData,\"companyid\",a)},expression:\"relationData.companyid\"}},t._l(t.companyList,function(a){return e(\"Option\",{key:a.id,attrs:{value:a.id}},[t._v(t._s(a.companyname))])}),1)],1)],1)],1),t._v(\" \"),e(\"Row\",{attrs:{gutter:16}},[e(\"Col\",{attrs:{span:\"24\"}},[e(\"FormItem\",{attrs:{label:\"会计名称：\",prop:\"kj\"}},[e(\"Input\",{attrs:{size:\"small\"},model:{value:t.relationData.kj,callback:function(a){t.$set(t.relationData,\"kj\",a)},expression:\"relationData.kj\"}})],1)],1)],1)],1),t._v(\" \"),e(\"div\",{attrs:{slot:\"footer\"},slot:\"footer\"},[e(\"Button\",{attrs:{type:\"primary\",loading:t.loading},on:{click:t.valid}},[t._v(\"修改\")])],1)],1)],1)},[],!1,null,null,null);d.options.__file=\"updateRelation.vue\";var p={components:{updateRelation:d.exports},data:function(){var e=this;return{data:[],header:[{title:\"序号\",type:\"index\",width:90},{title:\"系统公司名称\",key:\"companyname\",minWidth:250},{title:\"税务局公司名称\",key:\"qyname\",minWidth:300},{title:\"服务人员\",key:\"kj\",minWidth:120},{title:\"操作\",minWidth:150,render:function(a,t){return a(\"div\",[a(\"Button\",{props:{size:\"small\",type:\"primary\"},on:{click:function(){e.currentRow=t.row,e.openUpdateRelation=!0}}},\"修改\"),a(\"Button\",{props:{type:\"warning\",size:\"small\"},style:{marginLeft:\"5px\"}},[a(\"Poptip\",{props:{transfer:!0,confirm:!0,title:\"您确定要删除此关系吗！\"},on:{\"on-ok\":function(){e.del_realation(t.row.id)}}},\"删除\")])])}}],total:0,page:1,pageSize:10,loading:!1,search_model:\"\",formValidateSearch:{companyName:\"\",kj:\"\",qyname:\"\"},currentRow:\"\",openUpdateRelation:!1}},methods:{Search:function(){this.page=1,this.get_data()},pageChange:function(a){this.page=a,this.get_data()},handleReset:function(){this.page=1,this.$refs.formValidateSearch.resetFields(),this.get_data()},get_data:function(){var t=this;t.loading=!0;var a={params:{page:t.page,pageSize:t.pageSize,companyName:t.formValidateSearch.companyName,kj:t.formValidateSearch.kj,qyname:t.formValidateSearch.qyname}};this.$Get(\"api/customer/company/gdetax/etaxQyAndCompanyList\",a,function(a){t.loading=!1,t.total=a.data.data.total,t.data=a.data.data.rows})},del_realation:function(a){var t=this,e={params:{id:a}};this.$Get(\"api/customer/company/gdetax/delEtaxQyAndCompany\",e,function(a){t.get_data()})},close_update_relation:function(){this.openUpdateRelation=!1,this.get_data()}},created:function(){this.get_data()}},u=Object(n.a)(p,function(){var t=this,a=t.$createElement,e=t._self._c||a;return e(\"div\",[e(\"Row\",{staticStyle:{\"margin-bottom\":\"10px\"}},[e(\"Collapse\",{model:{value:t.search_model,callback:function(a){t.search_model=a},expression:\"search_model\"}},[e(\"Panel\",{attrs:{name:\"1\"}},[e(\"Icon\",{staticStyle:{\"margin-left\":\"20px\",\"margin-right\":\"5px\"},attrs:{type:\"search\"}}),t._v(\"\\n                        筛选\\n                    \"),e(\"div\",{attrs:{slot:\"content\"},on:{keydown:function(a){return\"button\"in a||!t._k(a.keyCode,\"enter\",13,a.key,\"Enter\")?t.Search(a):null}},slot:\"content\"},[e(\"Form\",{ref:\"formValidateSearch\",attrs:{model:t.formValidateSearch,\"label-width\":120}},[e(\"Row\",{attrs:{gutter:16}},[e(\"Col\",{attrs:{span:\"8\"}},[e(\"FormItem\",{attrs:{label:\"系统企业名称：\",prop:\"companyName\"}},[e(\"Input\",{attrs:{size:\"small\"},model:{value:t.formValidateSearch.companyName,callback:function(a){t.$set(t.formValidateSearch,\"companyName\",a)},expression:\"formValidateSearch.companyName\"}})],1)],1),t._v(\" \"),e(\"Col\",{attrs:{span:\"8\"}},[e(\"FormItem\",{attrs:{label:\"税务局企业名称：\",prop:\"qyname\"}},[e(\"Input\",{attrs:{size:\"small\"},model:{value:t.formValidateSearch.qyname,callback:function(a){t.$set(t.formValidateSearch,\"qyname\",a)},expression:\"formValidateSearch.qyname\"}})],1)],1),t._v(\" \"),e(\"Col\",{attrs:{span:\"8\"}},[e(\"FormItem\",{attrs:{label:\"服务人员：\",prop:\"kj\"}},[e(\"Input\",{attrs:{size:\"small\"},model:{value:t.formValidateSearch.kj,callback:function(a){t.$set(t.formValidateSearch,\"kj\",a)},expression:\"formValidateSearch.kj\"}})],1)],1)],1),t._v(\" \"),e(\"center\",[e(\"FormItem\",[e(\"Button\",{attrs:{type:\"primary\"},on:{click:t.Search}},[t._v(\"搜索\")]),t._v(\" \"),e(\"Button\",{staticStyle:{\"margin-left\":\"8px\"},attrs:{type:\"ghost\"},on:{click:t.handleReset}},[t._v(\"重置\")])],1)],1)],1)],1)],1)],1)],1),t._v(\" \"),e(\"Row\",{staticStyle:{\"margin-top\":\"10px\"}},[e(\"Table\",{attrs:{loading:t.loading,\"highlight-row\":\"\",size:\"small\",border:\"\",columns:t.header,data:t.data}}),t._v(\" \"),e(\"Page\",{staticStyle:{\"margin-top\":\"10px\",\"padding-bottom\":\"10px\"},attrs:{size:\"small\",total:t.total,\"show-total\":\"\",\"show-elevator\":\"\",current:t.page},on:{\"update:current\":function(a){t.page=a},\"on-change\":t.pageChange}})],1),t._v(\" \"),t.openUpdateRelation?e(\"update-relation\",{attrs:{relationData:t.currentRow},on:{close:t.close_update_relation}}):t._e()],1)},[],!1,null,null,null);u.options.__file=\"relation.vue\";var h=u.exports,f={data:function(){return{openCreateAccount:!0,formValidate:{userName:\"\",passWord:\"\",realName:\"\"},ruleValidate:{userName:[{required:!0,trigger:\"change\",message:\"账号不能为空\"}],passWord:[{required:!0,message:\"密码不能为空\",trigger:\"change\"}]},loading:!1}},methods:{valid:function(){var t=this;this.$refs.formValidate.validate(function(a){a?t.create_account():t.loading=!1})},create_account:function(){var t=this;t.loading=!0;var a={userName:t.formValidate.userName,passWord:t.formValidate.passWord,realName:t.formValidate.realName};this.$Post(\"api/customer/company/gdetax/addEtaxAccounter\",a,function(a){t.loading=!1,t.close()},function(a){t.loading=!1})},close:function(){this.$emit(\"close\")}}},g=Object(n.a)(f,function(){var t=this,a=t.$createElement,e=t._self._c||a;return e(\"div\",[e(\"Modal\",{attrs:{title:\"新增账号\",width:\"500\"},on:{\"on-cancel\":t.close},model:{value:t.openCreateAccount,callback:function(a){t.openCreateAccount=a},expression:\"openCreateAccount\"}},[e(\"Form\",{ref:\"formValidate\",attrs:{rules:t.ruleValidate,model:t.formValidate,\"label-width\":120,\"label-position\":\"right\"}},[e(\"Row\",{attrs:{gutter:16}},[e(\"Col\",{attrs:{span:\"24\"}},[e(\"FormItem\",{attrs:{label:\"账号：\",prop:\"userName\"}},[e(\"Input\",{attrs:{size:\"small\"},model:{value:t.formValidate.userName,callback:function(a){t.$set(t.formValidate,\"userName\",a)},expression:\"formValidate.userName\"}})],1)],1)],1),t._v(\" \"),e(\"Row\",{attrs:{gutter:16}},[e(\"Col\",{attrs:{span:\"24\"}},[e(\"FormItem\",{attrs:{label:\"密码：\",prop:\"passWord\"}},[e(\"Input\",{attrs:{size:\"small\"},model:{value:t.formValidate.passWord,callback:function(a){t.$set(t.formValidate,\"passWord\",a)},expression:\"formValidate.passWord\"}})],1)],1)],1),t._v(\" \"),e(\"Row\",{attrs:{gutter:16}},[e(\"Col\",{attrs:{span:\"24\"}},[e(\"FormItem\",{attrs:{label:\"会计名称：\",prop:\"realName\"}},[e(\"Input\",{attrs:{size:\"small\"},model:{value:t.formValidate.realName,callback:function(a){t.$set(t.formValidate,\"realName\",a)},expression:\"formValidate.realName\"}})],1)],1)],1)],1),t._v(\" \"),e(\"div\",{attrs:{slot:\"footer\"},slot:\"footer\"},[e(\"Button\",{attrs:{type:\"primary\",loading:t.loading},on:{click:t.valid}},[t._v(\"新增\")]),t._v(\" \"),e(\"Button\",{staticStyle:{\"margin-left\":\"8px\"},attrs:{type:\"ghost\"},on:{click:t.close}},[t._v(\"关闭\")])],1)],1)],1)},[],!1,null,null,null);g.options.__file=\"createAccount.vue\";var _=g.exports,y={props:{formValidate:{type:[Object,String],default:{user_name:\"\",pass_word:\"\",real_name:\"\"}}},data:function(){return{openCreateAccount:!0,ruleValidate:{user_name:[{required:!0,trigger:\"change\",message:\"账号不能为空\"}],pass_word:[{required:!0,message:\"密码不能为空\",trigger:\"change\"}]},loading:!1}},methods:{valid:function(){var t=this;this.$refs.formValidate.validate(function(a){a?t.create_account():t.loading=!1})},create_account:function(){var t=this;t.loading=!0;var a={userName:t.formValidate.user_name,passWord:t.formValidate.pass_word,realName:t.formValidate.real_name};this.$Post(\"api/customer/company/gdetax/updateEtaxAccounter\",a,function(a){t.loading=!1,t.close(!0)},function(a){t.loading=!1})},close:function(a){this.$emit(\"close\",a)}}},v=Object(n.a)(y,function(){var t=this,a=t.$createElement,e=t._self._c||a;return e(\"div\",[e(\"Modal\",{attrs:{title:\"修改账号\",width:\"500\"},on:{\"on-cancel\":t.close},model:{value:t.openCreateAccount,callback:function(a){t.openCreateAccount=a},expression:\"openCreateAccount\"}},[e(\"Form\",{ref:\"formValidate\",attrs:{rules:t.ruleValidate,model:t.formValidate,\"label-width\":120,\"label-position\":\"right\"}},[e(\"Row\",{attrs:{gutter:16}},[e(\"Col\",{attrs:{span:\"24\"}},[e(\"FormItem\",{attrs:{label:\"账号：\",prop:\"user_name\"}},[e(\"Input\",{attrs:{size:\"small\",readonly:\"\"},model:{value:t.formValidate.user_name,callback:function(a){t.$set(t.formValidate,\"user_name\",a)},expression:\"formValidate.user_name\"}})],1)],1)],1),t._v(\" \"),e(\"Row\",{attrs:{gutter:16}},[e(\"Col\",{attrs:{span:\"24\"}},[e(\"FormItem\",{attrs:{label:\"密码：\",prop:\"pass_word\"}},[e(\"Input\",{attrs:{size:\"small\"},model:{value:t.formValidate.pass_word,callback:function(a){t.$set(t.formValidate,\"pass_word\",a)},expression:\"formValidate.pass_word\"}})],1)],1)],1),t._v(\" \"),e(\"Row\",{attrs:{gutter:16}},[e(\"Col\",{attrs:{span:\"24\"}},[e(\"FormItem\",{attrs:{label:\"会计名称：\",prop:\"real_name\"}},[e(\"Input\",{attrs:{size:\"small\"},model:{value:t.formValidate.real_name,callback:function(a){t.$set(t.formValidate,\"real_name\",a)},expression:\"formValidate.real_name\"}})],1)],1)],1)],1),t._v(\" \"),e(\"div\",{attrs:{slot:\"footer\"},slot:\"footer\"},[e(\"Button\",{attrs:{type:\"primary\",loading:t.loading},on:{click:t.valid}},[t._v(\"修改\")]),t._v(\" \"),e(\"Button\",{staticStyle:{\"margin-left\":\"8px\"},attrs:{type:\"ghost\"},on:{click:t.close}},[t._v(\"关闭\")])],1)],1)],1)},[],!1,null,null,null);v.options.__file=\"updateAccount.vue\";var S={components:{createAccount:_,updateAccount:v.exports},data:function(){var e=this;return{openCreateAccount:!1,data:[],header:[{title:\"序号\",type:\"index\",width:90},{title:\"账号用户名\",key:\"user_name\",minWidth:250},{title:\"密码\",key:\"pass_word\",minWidth:300},{title:\"备注\",key:\"accounter_name\",minWidth:120},{title:\"服务人员\",key:\"real_name\",minWidth:120},{title:\"操作\",minWidth:150,render:function(a,t){return a(\"div\",[a(\"Button\",{props:{size:\"small\",type:\"primary\"},on:{click:function(){e.currentRow=t.row,e.openUpdateAccount=!0}}},\"编辑\"),a(\"Button\",{props:{type:\"warning\",size:\"small\"},style:{marginLeft:\"5px\"}},[a(\"Poptip\",{props:{transfer:!0,confirm:!0,title:\"您确定要删除此附件吗！\"},on:{\"on-ok\":function(){e.del_account(t.row.user_name)}}},\"删除\")])])}}],total:0,page:1,pageSize:10,loading:!1,search_model:\"\",formValidateSearch:{userName:\"\",realname:\"\"},currentRow:\"\",openUpdateAccount:!1}},methods:{Search:function(){this.page=1,this.get_data()},pageChange:function(a){this.page=a,this.get_data()},handleReset:function(){this.page=1,this.$refs.formValidateSearch.resetFields(),this.get_data()},get_data:function(){var t=this;t.loading=!0;var a={params:{page:t.page,pageSize:t.pageSize,userName:t.formValidateSearch.userName,realName:t.formValidateSearch.realName,sortField:\"id\",order:\"desc\"}};this.$Get(\"api/customer/company/gdetax/etaxAccounterList\",a,function(a){t.loading=!1,t.total=a.data.data.total,t.data=a.data.data.rows})},closeCreateAccount:function(){this.openCreateAccount=!1,this.get_data()},closeUpdateAccount:function(){this.openUpdateAccount=!1,this.get_data()},del_account:function(a){var t=this,e={params:{userName:a}};this.$Get(\"api/customer/company/gdetax/delEtaxAccounter\",e,function(a){t.get_data()})}},created:function(){this.get_data()}},b=Object(n.a)(S,function(){var t=this,a=t.$createElement,e=t._self._c||a;return e(\"div\",[e(\"Row\",{staticStyle:{\"margin-bottom\":\"10px\"}},[e(\"Collapse\",{model:{value:t.search_model,callback:function(a){t.search_model=a},expression:\"search_model\"}},[e(\"Panel\",{attrs:{name:\"1\"}},[e(\"Icon\",{staticStyle:{\"margin-left\":\"20px\",\"margin-right\":\"5px\"},attrs:{type:\"search\"}}),t._v(\"\\n                        筛选\\n                    \"),e(\"div\",{attrs:{slot:\"content\"},on:{keydown:function(a){return\"button\"in a||!t._k(a.keyCode,\"enter\",13,a.key,\"Enter\")?t.Search(a):null}},slot:\"content\"},[e(\"Form\",{ref:\"formValidateSearch\",attrs:{model:t.formValidateSearch,\"label-width\":120}},[e(\"Row\",{attrs:{gutter:16}},[e(\"Col\",{attrs:{span:\"8\"}},[e(\"FormItem\",{attrs:{label:\"账号用户名：\",prop:\"userName\"}},[e(\"Input\",{attrs:{size:\"small\"},model:{value:t.formValidateSearch.userName,callback:function(a){t.$set(t.formValidateSearch,\"userName\",a)},expression:\"formValidateSearch.userName\"}})],1)],1),t._v(\" \"),e(\"Col\",{attrs:{span:\"8\"}},[e(\"FormItem\",{attrs:{label:\"服务人员：\",prop:\"realName\"}},[e(\"Input\",{attrs:{size:\"small\"},model:{value:t.formValidateSearch.realName,callback:function(a){t.$set(t.formValidateSearch,\"realName\",a)},expression:\"formValidateSearch.realName\"}})],1)],1)],1),t._v(\" \"),e(\"center\",[e(\"FormItem\",[e(\"Button\",{attrs:{type:\"primary\"},on:{click:t.Search}},[t._v(\"搜索\")]),t._v(\" \"),e(\"Button\",{staticStyle:{\"margin-left\":\"8px\"},attrs:{type:\"ghost\"},on:{click:t.handleReset}},[t._v(\"重置\")])],1)],1)],1)],1)],1)],1)],1),t._v(\" \"),e(\"Row\",[e(\"Button\",{attrs:{type:\"primary\"},on:{click:function(a){t.openCreateAccount=!0}}},[t._v(\"新增\")])],1),t._v(\" \"),e(\"Row\",{staticStyle:{\"margin-top\":\"10px\"}},[e(\"Table\",{attrs:{loading:t.loading,\"highlight-row\":\"\",size:\"small\",border:\"\",columns:t.header,data:t.data}}),t._v(\" \"),e(\"Page\",{staticStyle:{\"margin-top\":\"10px\",\"padding-bottom\":\"10px\"},attrs:{size:\"small\",total:t.total,\"show-total\":\"\",\"show-elevator\":\"\",current:t.page},on:{\"update:current\":function(a){t.page=a},\"on-change\":t.pageChange}})],1),t._v(\" \"),t.openCreateAccount?e(\"create-account\",{on:{close:t.closeCreateAccount}}):t._e(),t._v(\" \"),t.openUpdateAccount?e(\"update-account\",{attrs:{formValidate:t.currentRow},on:{close:t.closeUpdateAccount}}):t._e()],1)},[],!1,null,null,null);b.options.__file=\"accountList.vue\";var V={name:\"etaxAccount\",components:{cycleCompany:l,companyList:c,relation:h,accountList:b.exports},data:function(){return{tabIndex:\"1\"}}},x=Object(n.a)(V,function(){var t=this,a=t.$createElement,e=t._self._c||a;return e(\"div\",[e(\"Card\",[e(\"Tabs\",{model:{value:t.tabIndex,callback:function(a){t.tabIndex=a},expression:\"tabIndex\"}},[e(\"TabPane\",{attrs:{label:\"税务局账号列表\",name:\"1\"}},[e(\"account-list\")],1),t._v(\" \"),e(\"TabPane\",{attrs:{label:\"税务局企业列表\",name:\"2\"}},[e(\"company-list\")],1),t._v(\" \"),e(\"TabPane\",{attrs:{label:\"税务局账号企业关联\",name:\"3\"}},[e(\"relation\")],1),t._v(\" \"),e(\"TabPane\",{attrs:{label:\"在服企业\",name:\"4\"}},[e(\"cycle-company\")],1)],1)],1)],1)},[],!1,null,null,null);x.options.__file=\"index.vue\";t.default=x.exports}}]);"}