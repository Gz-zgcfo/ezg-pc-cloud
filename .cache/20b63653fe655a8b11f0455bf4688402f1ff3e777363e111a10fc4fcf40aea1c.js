{"source":"(window.webpackJsonp=window.webpackJsonp||[]).push([[47],{470:function(e,t,a){},754:function(e,t,a){\"use strict\";var r=a(470);a.n(r).a},833:function(e,t,a){\"use strict\";a.r(t);var r={name:\"unFinishApproveList\",props:{},data:function(){var a=this;return{search_model:\"\",tableLoading:!1,total:0,header:[{title:\"订单号码\",key:\"ordercode\",minWidth:160},{title:\"归属公司\",key:\"companyname\",minWidth:300},{title:\"客户名称\",key:\"name\",minWidth:120},{title:\"客户电话\",key:\"tel\",minWidth:120},{title:\"创建人\",key:\"crealname\",minWidth:100},{title:\"跟进人\",key:\"frealname\",minWidth:100},{title:\"创建时间\",key:\"createdate\",minWidth:100},{title:\"缴费时间\",key:\"payTime\",minWidth:100},{title:\"缴费渠道\",key:\"paydirName\",minWidth:100},{title:\"订单价格\",key:\"paynumber\",minWidth:100},{title:\"已付款\",key:\"realnumber\",minWidth:100},{title:\"余款\",key:\"neednumber\",minWidth:100},{title:\"当前流程\",key:\"ProcessType\",minWidth:100},{title:\"操作\",key:\"action\",fixed:\"right\",minWidth:100,render:function(e,t){return e(\"div\",[e(\"Button\",{props:{type:\"warning\",size:\"small\"},style:{marginRight:\"2px\"},directives:[{name:\"permission\",value:\"orderA.recordN\"}],on:{click:function(){a.open_approve_log(t)}}},\"审批记录\")])}}],data:[],page:1,pageSize:10,formValidateSearch:{ordercode:\"\",companyname:\"\",customername:\"\",customertel:\"\",crealname:\"\"},payDirs:[],payDirs_Map:new Map,selectRow:\"\"}},methods:{download_excel:function(){var e=this,t={page:\"1\",pageSize:\"1000000\",isAudit:\"N\",sortField:\"id\",order:\"desc\",ordercode:e.formValidateSearch.ordercode,companyname:e.formValidateSearch.companyname,customername:e.formValidateSearch.customername,customertel:e.formValidateSearch.customertel,crealname:e.formValidateSearch.crealname,export:\"Y\",exportField:encodeURI(JSON.stringify([{field:\"ordercode\",title:\"订单号码\"},{field:\"companyname\",title:\"公司名称\"},{field:\"name\",title:\"客户名称\"},{field:\"crealname\",title:\"创建人\"},{field:\"frealname\",title:\"跟进人\"},{field:\"base_createdate\",title:\"创建时间\"},{field:\"payTime\",title:\"缴费时间\"},{field:\"base_paydir\",title:\"缴费渠道\",format:\"payDirs\"},{field:\"paynumber\",title:\"订单总价\"},{field:\"realnumber\",title:\"已付款\"},{field:\"neednumber\",title:\"余款\"},{field:\"ProcessType\",title:\"当前流程\"}]))},a=this.$MergeURL(\"api/order/auditList\",t);window.open(a)},get_table_data:function(){var a=this;a.tableLoading=!0;var e={params:{isAudit:\"N\",sortField:\"id\",order:\"desc\",page:a.page,pageSize:a.pageSize,ordercode:a.formValidateSearch.ordercode,companyname:a.formValidateSearch.companyname,customername:a.formValidateSearch.customername,customertel:a.formValidateSearch.customertel,crealname:a.formValidateSearch.crealname}};this.$Get(\"api/order/auditList\",e,function(e){a.data=e.data.data.rows,a.total=e.data.data.total;for(var t=0;t<a.data.length;t++)a.data[t].base_createdate&&(a.data[t].createdate=a.data[t].base_createdate.slice(0,10)),a.data[t].paydirName=a.payDirs_Map.get(a.data[t].base_paydir);a.tableLoading=!1})},search:function(){this.page=1,this.get_table_data()},page_change:function(e){this.page=e,this.get_table_data()},page_size_change:function(e){this.pageSize=e,this.get_table_data()},handleReset:function(e){this.page=1,this.$refs[e].resetFields(),this.get_table_data()},select_row:function(e){this.selectRow=e},to_do_work_flow:function(e){e?this.$bus.emit(\"ORDER_APPROVE_DEALWITH\",e.id):this.$Message.warning(\"请选择一行！\")},open_approve_log:function(e){this.$bus.emit(\"ORDER_APPROVELIST_LOG\",e.row.id)},get_data_center:function(){var t=this;this.$GetDataCenter(\"payDirs\",function(e){t.payDirs=e.data.data.payDirs,t.payDirs_Map=t.$array2map(t.payDirs),t.get_table_data()})}},created:function(){var t=this;t.get_data_center(),t.$bus.on(\"UPDATE_ORDER_DATA\",function(e){t.get_table_data()})},mounted:function(){}},i=a(4),o=Object(i.a)(r,function(){var t=this,e=t.$createElement,a=t._self._c||e;return a(\"div\",[a(\"Card\",[a(\"Row\",{staticStyle:{\"margin-bottom\":\"10px\"}},[a(\"Collapse\",{model:{value:t.search_model,callback:function(e){t.search_model=e},expression:\"search_model\"}},[a(\"Panel\",{attrs:{name:\"1\"}},[a(\"Icon\",{staticStyle:{\"margin-left\":\"20px\",\"margin-right\":\"5px\"},attrs:{type:\"search\"}}),t._v(\"\\n                        筛选\\n                    \"),a(\"div\",{attrs:{slot:\"content\"},on:{keydown:function(e){return\"button\"in e||!t._k(e.keyCode,\"enter\",13,e.key,\"Enter\")?t.search(e):null}},slot:\"content\"},[a(\"Form\",{ref:\"formValidateSearch\",staticStyle:{\"margin-top\":\"15px\"},attrs:{model:t.formValidateSearch,\"label-width\":80}},[a(\"Row\",{attrs:{gutter:16}},[a(\"Col\",{attrs:{span:\"8\"}},[a(\"FormItem\",{attrs:{label:\"订单号码：\",prop:\"ordercode\"}},[a(\"Input\",{attrs:{size:\"small\"},model:{value:t.formValidateSearch.ordercode,callback:function(e){t.$set(t.formValidateSearch,\"ordercode\",e)},expression:\"formValidateSearch.ordercode\"}})],1)],1),t._v(\" \"),a(\"Col\",{attrs:{span:\"8\"}},[a(\"FormItem\",{attrs:{label:\"公司名称：\",prop:\"companyname\"}},[a(\"Input\",{attrs:{size:\"small\"},model:{value:t.formValidateSearch.companyname,callback:function(e){t.$set(t.formValidateSearch,\"companyname\",e)},expression:\"formValidateSearch.companyname\"}})],1)],1),t._v(\" \"),a(\"Col\",{attrs:{span:\"8\"}},[a(\"FormItem\",{attrs:{label:\"客户名称：\",prop:\"customername\"}},[a(\"Input\",{attrs:{size:\"small\"},model:{value:t.formValidateSearch.customername,callback:function(e){t.$set(t.formValidateSearch,\"customername\",e)},expression:\"formValidateSearch.customername\"}})],1)],1)],1),t._v(\" \"),a(\"Row\",{attrs:{gutter:16}},[a(\"Col\",{attrs:{span:\"8\"}},[a(\"FormItem\",{attrs:{label:\"客户电话：\",prop:\"customertel\"}},[a(\"Input\",{attrs:{size:\"small\"},model:{value:t.formValidateSearch.customertel,callback:function(e){t.$set(t.formValidateSearch,\"customertel\",e)},expression:\"formValidateSearch.customertel\"}})],1)],1),t._v(\" \"),a(\"Col\",{attrs:{span:\"8\"}},[a(\"FormItem\",{attrs:{label:\"创建人：\",prop:\"crealname\"}},[a(\"Input\",{attrs:{size:\"small\"},model:{value:t.formValidateSearch.crealname,callback:function(e){t.$set(t.formValidateSearch,\"crealname\",e)},expression:\"formValidateSearch.crealname\"}})],1)],1)],1),t._v(\" \"),a(\"center\",[a(\"FormItem\",[a(\"Button\",{attrs:{type:\"primary\"},on:{click:t.search}},[t._v(\"搜索\")]),t._v(\" \"),a(\"Button\",{staticStyle:{\"margin-left\":\"8px\"},attrs:{type:\"ghost\"},on:{click:function(e){t.handleReset(\"formValidateSearch\")}}},[t._v(\"重置\")])],1)],1)],1)],1)],1)],1)],1),t._v(\" \"),a(\"Row\",[a(\"ButtonGroup\",[a(\"Button\",{directives:[{name:\"permission\",rawName:\"v-permission\",value:[\"orderA.transaction\"],expression:\"['orderA.transaction']\"}],attrs:{type:\"primary\",icon:\"ios-crop\",name:\"order_approve_submit\"},on:{click:function(e){t.to_do_work_flow(t.selectRow)}}},[t._v(\"办理审批\")]),t._v(\" \"),a(\"Button\",{directives:[{name:\"permission\",rawName:\"v-permission\",value:[\"orderA.exportN\"],expression:\"['orderA.exportN']\"}],attrs:{type:\"primary\",icon:\"ios-color-filter-outline\"},on:{click:t.download_excel}},[t._v(\"导出Excel\")]),t._v(\" \"),a(\"Button\",{attrs:{type:\"primary\",icon:\"ios-color-filter-outline\"},on:{click:t.get_table_data}},[t._v(\"刷新\")])],1)],1),t._v(\" \"),a(\"Row\",{staticStyle:{\"margin-top\":\"10px\"}},[a(\"Table\",{attrs:{\"highlight-row\":\"\",border:\"\",columns:t.header,data:t.data,size:\"small\",loading:t.tableLoading},on:{\"on-row-click\":t.select_row,\"on-row-dblclick\":t.to_do_work_flow}}),t._v(\" \"),a(\"Page\",{staticStyle:{\"margin-top\":\"10px\"},attrs:{size:\"small\",total:t.total,\"show-total\":\"\",\"show-sizer\":\"\",current:t.page,transfer:\"\",\"show-elevator\":\"\"},on:{\"update:current\":function(e){t.page=e},\"on-change\":t.page_change,\"on-page-size-change\":t.page_size_change}})],1)],1)],1)},[],!1,null,null,null);o.options.__file=\"unApproveList.vue\";var l=o.exports,n={name:\"FinishApproveList\",props:{},data:function(){var a=this;return{search_model:\"\",tableLoading:!1,total:0,header:[{title:\"订单号码\",key:\"ordercode\",minWidth:160},{title:\"归属公司\",key:\"companyname\",minWidth:300},{title:\"客户名称\",key:\"name\",minWidth:120},{title:\"客户电话\",key:\"tel\",minWidth:120},{title:\"创建人\",key:\"crealname\",minWidth:100},{title:\"跟进人\",key:\"frealname\",minWidth:100},{title:\"创建时间\",key:\"createdate\",minWidth:100},{title:\"缴费时间\",key:\"payTime\",minWidth:100},{title:\"缴费渠道\",key:\"paydirName\",minWidth:100},{title:\"订单价格\",key:\"paynumber\",minWidth:100},{title:\"已付款\",key:\"realnumber\",minWidth:100},{title:\"余款\",key:\"neednumber\",minWidth:100},{title:\"当前流程\",key:\"ProcessType\",minWidth:100},{title:\"更新时间\",key:\"updatedate\",minWidth:100},{title:\"操作\",key:\"action\",fixed:\"right\",minWidth:150,render:function(e,t){return e(\"div\",[e(\"Button\",{props:{type:\"primary\",size:\"small\"},directives:[{name:\"permission\",value:\"orderA.detail\"}],style:{marginRight:\"5px\"},on:{click:function(){a.order_detail(t)}}},\"详情\"),e(\"Button\",{props:{type:\"warning\",size:\"small\"},directives:[{name:\"permission\",value:\"orderA.recordN\"}],on:{click:function(){a.open_approve_log(t)}}},\"审批记录\")])}}],data:[],page:1,pageSize:10,formValidateSearch:{ordercode:\"\",companyname:\"\",customername:\"\",customertel:\"\",crealname:\"\"},payDirs:[],payDirs_Map:new Map,selectRow:\"\"}},methods:{download_excel:function(){var e=this,t={page:\"1\",pageSize:\"1000000\",isAudit:\"Y\",sortField:\"id\",order:\"desc\",ordercode:e.formValidateSearch.ordercode,companyname:e.formValidateSearch.companyname,customername:e.formValidateSearch.customername,customertel:e.formValidateSearch.customertel,crealname:e.formValidateSearch.crealname,export:\"Y\",exportField:encodeURI(JSON.stringify([{field:\"ordercode\",title:\"订单号码\"},{field:\"companyname\",title:\"公司名称\"},{field:\"name\",title:\"客户名称\"},{field:\"crealname\",title:\"创建人\"},{field:\"frealname\",title:\"跟进人\"},{field:\"base_createdate\",title:\"创建时间\"},{field:\"payTime\",title:\"缴费时间\"},{field:\"base_paydir\",title:\"缴费渠道\",format:\"payDirs\"},{field:\"paynumber\",title:\"订单总价\"},{field:\"realnumber\",title:\"已付款\"},{field:\"neednumber\",title:\"余款\"},{field:\"ProcessType\",title:\"当前流程\"},{field:\"updatedate\",title:\"更新时间\"}]))},a=this.$MergeURL(\"api/order/auditList\",t);window.open(a)},get_table_data:function(){var a=this;a.tableLoading=!0;var e={params:{isAudit:\"Y\",sortField:\"id\",order:\"desc\",page:a.page,pageSize:a.pageSize,ordercode:a.formValidateSearch.ordercode,companyname:a.formValidateSearch.companyname,customername:a.formValidateSearch.customername,customertel:a.formValidateSearch.customertel,crealname:a.formValidateSearch.crealname}};this.$Get(\"api/order/auditList\",e,function(e){a.data=e.data.data.rows,a.total=e.data.data.total;for(var t=0;t<a.data.length;t++)a.data[t].base_createdate&&(a.data[t].createdate=a.data[t].base_createdate.slice(0,10)),a.data[t].updatedate&&(a.data[t].updatedate=a.data[t].updatedate.slice(0,10)),a.data[t].paydirName=a.payDirs_Map.get(a.data[t].base_paydir);a.tableLoading=!1})},search:function(){this.page=1,this.get_table_data()},page_change:function(e){this.page=e,this.get_table_data()},page_size_change:function(e){this.pageSize=e,this.get_table_data()},handleReset:function(e){this.page=1,this.$refs[e].resetFields(),this.get_table_data()},select_row:function(e){this.selectRow=e},open_approve_log:function(e){this.$bus.emit(\"ORDER_APPROVELIST_LOG\",e.row.id)},order_detail:function(e){this.$bus.emit(\"OPEN_ORDER_DETAIL\",e.row.id)},get_data_center:function(){var t=this;this.$GetDataCenter(\"payDirs\",function(e){t.payDirs=e.data.data.payDirs,t.payDirs_Map=t.$array2map(t.payDirs),t.get_table_data()})}},created:function(){var t=this;t.get_data_center(),t.$bus.on(\"UPDATE_ORDER_DATA\",function(e){t.get_table_data()})},mounted:function(){}},s=Object(i.a)(n,function(){var t=this,e=t.$createElement,a=t._self._c||e;return a(\"div\",[a(\"Card\",[a(\"Row\",{staticStyle:{\"margin-bottom\":\"10px\"}},[a(\"Collapse\",{model:{value:t.search_model,callback:function(e){t.search_model=e},expression:\"search_model\"}},[a(\"Panel\",{attrs:{name:\"1\"}},[a(\"Icon\",{staticStyle:{\"margin-left\":\"20px\",\"margin-right\":\"5px\"},attrs:{type:\"search\"}}),t._v(\"\\n                        筛选\\n                    \"),a(\"div\",{attrs:{slot:\"content\"},on:{keydown:function(e){return\"button\"in e||!t._k(e.keyCode,\"enter\",13,e.key,\"Enter\")?t.search(e):null}},slot:\"content\"},[a(\"Form\",{ref:\"formValidateSearch\",staticStyle:{\"margin-top\":\"15px\"},attrs:{model:t.formValidateSearch,\"label-width\":80}},[a(\"Row\",{attrs:{gutter:16}},[a(\"Col\",{attrs:{span:\"8\"}},[a(\"FormItem\",{attrs:{label:\"订单号码：\",prop:\"ordercode\"}},[a(\"Input\",{attrs:{size:\"small\"},model:{value:t.formValidateSearch.ordercode,callback:function(e){t.$set(t.formValidateSearch,\"ordercode\",e)},expression:\"formValidateSearch.ordercode\"}})],1)],1),t._v(\" \"),a(\"Col\",{attrs:{span:\"8\"}},[a(\"FormItem\",{attrs:{label:\"公司名称：\",prop:\"companyname\"}},[a(\"Input\",{attrs:{size:\"small\"},model:{value:t.formValidateSearch.companyname,callback:function(e){t.$set(t.formValidateSearch,\"companyname\",e)},expression:\"formValidateSearch.companyname\"}})],1)],1),t._v(\" \"),a(\"Col\",{attrs:{span:\"8\"}},[a(\"FormItem\",{attrs:{label:\"客户名称：\",prop:\"customername\"}},[a(\"Input\",{attrs:{size:\"small\"},model:{value:t.formValidateSearch.customername,callback:function(e){t.$set(t.formValidateSearch,\"customername\",e)},expression:\"formValidateSearch.customername\"}})],1)],1)],1),t._v(\" \"),a(\"Row\",{attrs:{gutter:16}},[a(\"Col\",{attrs:{span:\"8\"}},[a(\"FormItem\",{attrs:{label:\"客户电话：\",prop:\"customertel\"}},[a(\"Input\",{attrs:{size:\"small\"},model:{value:t.formValidateSearch.customertel,callback:function(e){t.$set(t.formValidateSearch,\"customertel\",e)},expression:\"formValidateSearch.customertel\"}})],1)],1),t._v(\" \"),a(\"Col\",{attrs:{span:\"8\"}},[a(\"FormItem\",{attrs:{label:\"创建人：\",prop:\"crealname\"}},[a(\"Input\",{attrs:{size:\"small\"},model:{value:t.formValidateSearch.crealname,callback:function(e){t.$set(t.formValidateSearch,\"crealname\",e)},expression:\"formValidateSearch.crealname\"}})],1)],1)],1),t._v(\" \"),a(\"center\",[a(\"FormItem\",[a(\"Button\",{attrs:{type:\"primary\"},on:{click:t.search}},[t._v(\"搜索\")]),t._v(\" \"),a(\"Button\",{staticStyle:{\"margin-left\":\"8px\"},attrs:{type:\"ghost\"},on:{click:function(e){t.handleReset(\"formValidateSearch\")}}},[t._v(\"重置\")])],1)],1)],1)],1)],1)],1)],1),t._v(\" \"),a(\"Row\",[a(\"ButtonGroup\",[a(\"Button\",{directives:[{name:\"permission\",rawName:\"v-permission\",value:[\"orderA.exportN\"],expression:\"['orderA.exportN']\"}],attrs:{type:\"primary\",icon:\"ios-color-filter-outline\"},on:{click:t.download_excel}},[t._v(\"导出Excel\")]),t._v(\" \"),a(\"Button\",{attrs:{type:\"primary\",icon:\"ios-color-filter-outline\"},on:{click:t.get_table_data}},[t._v(\"刷新\")])],1)],1),t._v(\" \"),a(\"Row\",{staticStyle:{\"margin-top\":\"10px\"}},[a(\"Table\",{attrs:{\"highlight-row\":\"\",border:\"\",columns:t.header,data:t.data,size:\"small\",loading:t.tableLoading},on:{\"on-row-click\":t.select_row}}),t._v(\" \"),a(\"Page\",{staticStyle:{\"margin-top\":\"10px\"},attrs:{size:\"small\",total:t.total,\"show-total\":\"\",\"show-sizer\":\"\",current:t.page,transfer:\"\",\"show-elevator\":\"\"},on:{\"update:current\":function(e){t.page=e},\"on-change\":t.page_change,\"on-page-size-change\":t.page_size_change}})],1)],1)],1)},[],!1,null,null,null);s.options.__file=\"approveList.vue\";var d=s.exports,m={props:[\"payDirs\"],data:function(){return{accoutError:!1,openApproveDealWith:!1,kjdj:!1,formValidateDetail:{CompanyName:\"\",name:\"\",payTime:\"\",paynumber:\"\",realnumber:\"\",paydir:\"\",gdsreport:\"\"},submitLoading:!1,banlishenpi:{agree:\"1\",desc:\"\"},errMsg:\"\",orderItem:[],orderItemHeader:[{title:\"序号\",type:\"index\",minWidth:60,align:\"center\"},{title:\"产品名\",key:\"product\",minWidth:150},{title:\"产品属性\",key:\"propertys\",minWidth:250,render:function(e,t){return e(\"div\",{domProps:{innerHTML:t.row.propertys}})}},{title:\"产品价格\",key:\"oaprice\",minWidth:100},{title:\"产品数量（个/月）\",key:\"productnumber\",minWidth:150},{title:\"销售价格\",key:\"paynumber\",minWidth:100},{title:\"赠送数量\",key:\"givethenumber\",minWidth:100},{title:\"服务开始税期\",key:\"servicestartdate\",minWidth:120},{title:\"服务部门\",key:\"departname\",minWidth:140},{title:\"单价/月\",key:\"unitprice\",minWidth:90},{title:\"备注\",key:\"memo\",minWidth:300,render:function(e,t){return e(\"div\",{domProps:{innerHTML:t.row.memo}})}}]}},methods:{check_order:function(t){var a=this,e={params:{orderId:t}};a.$Get(\"api/order/cycle/check/order/exception\",e,function(e){1==e.data.data.hasException&&(a.accoutError=!0,a.errMsg=e.data.data.msg,a.banlishenpi.agree=\"0\"),a.get_data(t)},function(e){a.accoutError=!1})},get_data:function(e){var a=this,t=\"api/order/detail/\"+e;this.$Get(t,{},function(e){a.formValidateDetail=e.data.data,a.orderItem=a.formValidateDetail.items;for(var t=0;t<a.orderItem.length;t++)if(\"会计到家\"==a.orderItem[t].product){a.kjdj=!0;break}})},submit:function(){var t=this;t.submitLoading=!0,t.$ButtonCollect(\"order_approve_submit\");var e={params:{bId:t.formValidateDetail.id,bType:10,auditFlag:t.banlishenpi.agree,auditMemo:t.banlishenpi.desc}};this.$Get(\"api/activiti/toDoWorkFlowByBid\",e,function(e){t.openApproveDealWith=!1,t.$Message.success(e.data.msg),t.banlishenpi.agree=\"1\",t.banlishenpi.desc=\"\",t.submitLoading=!1,t.$bus.emit(\"UPDATE_ORDER_DATA\",!0)},function(e){t.$Message.error(e),t.submitLoading=!1})},kuaiji:function(){}},created:function(){var t=this;this.$bus.on(\"ORDER_APPROVE_DEALWITH\",function(e){t.check_order(e),t.openApproveDealWith=!0})}},c=Object(i.a)(m,function(){var a=this,e=a.$createElement,r=a._self._c||e;return r(\"div\",[r(\"Modal\",{attrs:{title:\"办理审批\",width:\"100%\",styles:{height:\"100%\",top:\"0px\"}},model:{value:a.openApproveDealWith,callback:function(e){a.openApproveDealWith=e},expression:\"openApproveDealWith\"}},[r(\"Form\",{ref:\"formValidateDetail\",attrs:{model:a.formValidateDetail,\"label-width\":100}},[r(\"Row\",{attrs:{gutter:16}},[r(\"Col\",{attrs:{span:\"8\"}},[r(\"FormItem\",{attrs:{label:\"归属公司\",prop:\"CompanyName\"}},[r(\"Input\",{attrs:{size:\"small\",readonly:\"\"},model:{value:a.formValidateDetail.CompanyName,callback:function(e){a.$set(a.formValidateDetail,\"CompanyName\",e)},expression:\"formValidateDetail.CompanyName\"}})],1)],1),a._v(\" \"),r(\"Col\",{attrs:{span:\"8\"}},[r(\"FormItem\",{attrs:{label:\"归属客户\",prop:\"name\"}},[r(\"Input\",{attrs:{size:\"small\",readonly:\"\"},model:{value:a.formValidateDetail.name,callback:function(e){a.$set(a.formValidateDetail,\"name\",e)},expression:\"formValidateDetail.name\"}})],1)],1),a._v(\" \"),r(\"Col\",{attrs:{span:\"8\"}},[r(\"FormItem\",{attrs:{label:\"缴费时间\",prop:\"payTime\"}},[r(\"Input\",{attrs:{size:\"small\",readonly:\"\"},model:{value:a.formValidateDetail.payTime,callback:function(e){a.$set(a.formValidateDetail,\"payTime\",e)},expression:\"formValidateDetail.payTime\"}})],1)],1)],1),a._v(\" \"),r(\"Row\",{attrs:{gutter:16}},[r(\"Col\",{attrs:{span:\"8\"}},[r(\"FormItem\",{attrs:{label:\"订单总价\",prop:\"paynumber\"}},[r(\"Input\",{attrs:{size:\"small\",readonly:\"\"},model:{value:a.formValidateDetail.paynumber,callback:function(e){a.$set(a.formValidateDetail,\"paynumber\",e)},expression:\"formValidateDetail.paynumber\"}})],1)],1),a._v(\" \"),r(\"Col\",{attrs:{span:\"8\"}},[r(\"FormItem\",{attrs:{label:\"已付款\",prop:\"realnumber\"}},[r(\"Input\",{attrs:{size:\"small\",readonly:\"\"},model:{value:a.formValidateDetail.realnumber,callback:function(e){a.$set(a.formValidateDetail,\"realnumber\",e)},expression:\"formValidateDetail.realnumber\"}})],1)],1),a._v(\" \"),r(\"Col\",{attrs:{span:\"8\"}},[r(\"FormItem\",{attrs:{label:\"缴费渠道\",prop:\"payDir\"}},[r(\"Select\",{attrs:{transfer:\"\",disabled:\"\",size:\"small\"},model:{value:a.formValidateDetail.paydir,callback:function(e){a.$set(a.formValidateDetail,\"paydir\",e)},expression:\"formValidateDetail.paydir\"}},a._l(a.payDirs,function(e,t){return r(\"Option\",{key:t,attrs:{value:e.typecode}},[a._v(a._s(e.typename))])}),1)],1)],1)],1),a._v(\" \"),r(\"Row\",{attrs:{gutter:16}},[r(\"Col\",{attrs:{span:\"8\"}},[r(\"FormItem\",{attrs:{label:\"国地税报道\",prop:\"GDSreport\"}},[r(\"Select\",{attrs:{transfer:\"\",disabled:\"\",size:\"small\"},model:{value:a.formValidateDetail.gdsreport,callback:function(e){a.$set(a.formValidateDetail,\"gdsreport\",e)},expression:\"formValidateDetail.gdsreport\"}},[r(\"Option\",{attrs:{value:\"ybd\"}},[a._v(\"已报道\")]),a._v(\" \"),r(\"Option\",{attrs:{value:\"wbd\"}},[a._v(\"未报道\")]),a._v(\" \"),r(\"Option\",{attrs:{value:\"bybd\"}},[a._v(\"不用报道\")])],1)],1)],1)],1),a._v(\" \"),r(\"Table\",{attrs:{border:\"\",columns:a.orderItemHeader,data:a.orderItem,size:\"small\"}})],1),a._v(\" \"),r(\"Tabs\",[r(\"TabPane\",{attrs:{label:\"任务处理\",icon:\"clipboard\"}},[r(\"Form\",{ref:\"banlishenpi\",staticStyle:{\"margin-top\":\"5px\"},attrs:{model:a.banlishenpi,\"label-width\":120}},[r(\"FormItem\",{attrs:{label:\"审批备注\",prop:\"desc\"}},[r(\"Input\",{attrs:{type:\"textarea\",autosize:{minRows:2,maxRows:5}},model:{value:a.banlishenpi.desc,callback:function(e){a.$set(a.banlishenpi,\"desc\",e)},expression:\"banlishenpi.desc\"}})],1),a._v(\" \"),r(\"FormItem\",{attrs:{label:\"是否同意审批\",prop:\"agree\"}},[r(\"RadioGroup\",{model:{value:a.banlishenpi.agree,callback:function(e){a.$set(a.banlishenpi,\"agree\",e)},expression:\"banlishenpi.agree\"}},[r(\"Radio\",{attrs:{label:\"1\"}},[a._v(\"同意\")]),a._v(\" \"),r(\"Radio\",{attrs:{label:\"0\"}},[a._v(\"驳回\")])],1)],1)],1)],1)],1),a._v(\" \"),r(\"div\",{attrs:{slot:\"footer\"},slot:\"footer\"},[r(\"Button\",{attrs:{type:\"primary\",loading:a.submitLoading},on:{click:a.submit}},[a._v(\"提交\")])],1)],1),a._v(\" \"),r(\"Modal\",{attrs:{title:\"账期异常警示\",width:\"500\",\"mask-closable\":!1,closable:!1},model:{value:a.accoutError,callback:function(e){a.accoutError=e},expression:\"accoutError\"}},[r(\"Row\",[r(\"center\",[r(\"Icon\",{staticStyle:{color:\"red\",\"font-size\":\"40px\"},attrs:{type:\"alert\"}})],1),a._v(\" \"),r(\"center\",[r(\"h2\",{staticStyle:{color:\"red\",\"margin-top\":\"20px\"}},[a._v(\"该订单账期存在异常，请修正！\")])]),a._v(\" \"),r(\"h3\",{domProps:{innerHTML:a._s(a.errMsg)}})],1),a._v(\" \"),r(\"div\",{attrs:{slot:\"footer\"},slot:\"footer\"},[r(\"Button\",{attrs:{type:\"primary\"},on:{click:function(e){a.accoutError=!1}}},[a._v(\"确认\")])],1)],1)],1)},[],!1,null,null,null);c.options.__file=\"dealWithApprove.vue\";var p=c.exports,u={props:[\"payDirs\"],data:function(){return{openOrderDetail:!1,formValidateDetail:{CompanyName:\"\",name:\"\",payTime:\"\",paynumber:\"\",realnumber:\"\",paydir:\"\",gdsreport:\"\"},orderItem:[],orderItemHeader:[{title:\"序号\",type:\"index\",minWidth:60,align:\"center\"},{title:\"产品名\",key:\"product\",minWidth:150},{title:\"产品属性\",key:\"propertys\",minWidth:250,render:function(e,t){return e(\"div\",{domProps:{innerHTML:t.row.propertys}})}},{title:\"产品价格\",key:\"oaprice\",minWidth:100},{title:\"产品数量（个/月）\",key:\"productnumber\",minWidth:150},{title:\"销售价格\",key:\"paynumber\",minWidth:100},{title:\"赠送数量\",key:\"givethenumber\",minWidth:100},{title:\"服务开始税期\",key:\"servicestartdate\",minWidth:120},{title:\"服务部门\",key:\"departname\",minWidth:140},{title:\"单价/月\",key:\"unitprice\",minWidth:90},{title:\"备注\",key:\"memo\",minWidth:300,render:function(e,t){var a=new RegExp(\"</br>\",\"g\");return e(\"div\",[e(\"Input\",{props:{value:t.row.memo.replace(a,\"\\n\"),autosize:!0,type:\"textarea\",size:\"small\",readonly:!0},style:{width:\"100%\"}})])}}]}},methods:{get_data:function(e){var a=this,t=\"api/order/detail/\"+e;this.$Get(t,{},function(e){a.formValidateDetail=e.data.data,a.orderItem=a.formValidateDetail.items;for(var t=0;t<a.orderItem.length;t++)if(\"会计到家\"==a.orderItem[t].product){a.kjdj=!0;break}})}},created:function(){var t=this;this.$bus.on(\"OPEN_ORDER_DETAIL\",function(e){t.get_data(e),t.openOrderDetail=!0})}},f=(a(754),Object(i.a)(u,function(){var a=this,e=a.$createElement,r=a._self._c||e;return r(\"div\",[r(\"Modal\",{attrs:{title:\"查看\",width:\"100%\"},model:{value:a.openOrderDetail,callback:function(e){a.openOrderDetail=e},expression:\"openOrderDetail\"}},[r(\"Form\",{ref:\"formValidateDetail\",attrs:{model:a.formValidateDetail,\"label-width\":100}},[r(\"Row\",{attrs:{gutter:16}},[r(\"Col\",{attrs:{span:\"8\"}},[r(\"FormItem\",{attrs:{label:\"归属公司\",prop:\"CompanyName\"}},[r(\"Input\",{attrs:{size:\"small\",readonly:\"\"},model:{value:a.formValidateDetail.CompanyName,callback:function(e){a.$set(a.formValidateDetail,\"CompanyName\",e)},expression:\"formValidateDetail.CompanyName\"}})],1)],1),a._v(\" \"),r(\"Col\",{attrs:{span:\"8\"}},[r(\"FormItem\",{attrs:{label:\"归属客户\",prop:\"name\"}},[r(\"Input\",{attrs:{size:\"small\",readonly:\"\"},model:{value:a.formValidateDetail.name,callback:function(e){a.$set(a.formValidateDetail,\"name\",e)},expression:\"formValidateDetail.name\"}})],1)],1),a._v(\" \"),r(\"Col\",{attrs:{span:\"8\"}},[r(\"FormItem\",{attrs:{label:\"缴费时间\",prop:\"payTime\"}},[r(\"Input\",{attrs:{size:\"small\",readonly:\"\"},model:{value:a.formValidateDetail.payTime,callback:function(e){a.$set(a.formValidateDetail,\"payTime\",e)},expression:\"formValidateDetail.payTime\"}})],1)],1)],1),a._v(\" \"),r(\"Row\",{attrs:{gutter:16}},[r(\"Col\",{attrs:{span:\"8\"}},[r(\"FormItem\",{attrs:{label:\"订单总价\",prop:\"paynumber\"}},[r(\"Input\",{attrs:{size:\"small\",readonly:\"\"},model:{value:a.formValidateDetail.paynumber,callback:function(e){a.$set(a.formValidateDetail,\"paynumber\",e)},expression:\"formValidateDetail.paynumber\"}})],1)],1),a._v(\" \"),r(\"Col\",{attrs:{span:\"8\"}},[r(\"FormItem\",{attrs:{label:\"已付款\",prop:\"realnumber\"}},[r(\"Input\",{attrs:{size:\"small\",readonly:\"\"},model:{value:a.formValidateDetail.realnumber,callback:function(e){a.$set(a.formValidateDetail,\"realnumber\",e)},expression:\"formValidateDetail.realnumber\"}})],1)],1),a._v(\" \"),r(\"Col\",{attrs:{span:\"8\"}},[r(\"FormItem\",{attrs:{label:\"缴费渠道\",prop:\"payDir\"}},[r(\"Select\",{attrs:{transfer:\"\",disabled:\"\",size:\"small\"},model:{value:a.formValidateDetail.paydir,callback:function(e){a.$set(a.formValidateDetail,\"paydir\",e)},expression:\"formValidateDetail.paydir\"}},a._l(a.payDirs,function(e,t){return r(\"Option\",{key:t,attrs:{value:e.typecode}},[a._v(a._s(e.typename))])}),1)],1)],1)],1),a._v(\" \"),r(\"Row\",{attrs:{gutter:16}},[r(\"Col\",{attrs:{span:\"8\"}},[r(\"FormItem\",{attrs:{label:\"国地税报道\",prop:\"GDSreport\"}},[r(\"Select\",{attrs:{transfer:\"\",disabled:\"\",size:\"small\"},model:{value:a.formValidateDetail.gdsreport,callback:function(e){a.$set(a.formValidateDetail,\"gdsreport\",e)},expression:\"formValidateDetail.gdsreport\"}},[r(\"Option\",{attrs:{value:\"ybd\"}},[a._v(\"已报道\")]),a._v(\" \"),r(\"Option\",{attrs:{value:\"wbd\"}},[a._v(\"未报道\")]),a._v(\" \"),r(\"Option\",{attrs:{value:\"bybd\"}},[a._v(\"不用报道\")])],1)],1)],1)],1),a._v(\" \"),r(\"Table\",{attrs:{id:\"show-order-item\",border:\"\",columns:a.orderItemHeader,data:a.orderItem,size:\"small\"}})],1),a._v(\" \"),r(\"div\",{attrs:{slot:\"footer\"},slot:\"footer\"})],1)],1)},[],!1,null,null,null));f.options.__file=\"orderDetail.vue\";var h={name:\"orderApprove_index\",components:{unApproveList:l,approveList:d,dealWithApprove:p,orderDetail:f.exports},data:function(){return{payDirs:[]}},methods:{get_data_center:function(){var t=this;this.$GetDataCenter(\"payDirs\",function(e){t.payDirs=e.data.data.payDirs})}},created:function(){this.get_data_center()}},y=Object(i.a)(h,function(){var e=this,t=e.$createElement,a=e._self._c||t;return a(\"div\",[a(\"div\",{staticStyle:{\"min-width\":\"900px\"}},[a(\"Tabs\",{attrs:{value:\"name1\"}},[a(\"TabPane\",{attrs:{label:\"订单审批\",name:\"name1\"}},[a(\"un-approve-list\")],1),e._v(\" \"),a(\"TabPane\",{attrs:{label:\"查看已审批\",name:\"name2\"}},[a(\"approve-list\")],1)],1)],1),e._v(\" \"),a(\"deal-with-approve\",{attrs:{payDirs:e.payDirs}}),e._v(\" \"),a(\"order-detail\",{attrs:{payDirs:e.payDirs}})],1)},[],!1,null,null,null);y.options.__file=\"index.vue\";t.default=y.exports}}]);"}