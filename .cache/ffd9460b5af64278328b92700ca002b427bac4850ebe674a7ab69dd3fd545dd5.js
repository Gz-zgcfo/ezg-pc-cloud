{"source":"(window.webpackJsonp=window.webpackJsonp||[]).push([[26,15],{106:function(t,e,a){\"use strict\";var i=a(86);a.n(i).a},380:function(t,e,a){\"use strict\";a.r(e);var i=a(83),r=a.n(i),n={components:{VePie:r.a},props:{date:{type:Array},type:{type:String}},data:function(){return this.chartSettings={legendName:{},opacity:.5},{chartData:{columns:[\"name\",\"value\"],rows:[]}}},methods:{get_pie_chart:function(){var t=this,e={params:{begin_date:t.date[0],end_date:t.date[1],resulttype:t.type}};this.$Get(\"api/order/bussiness/index/field/analysis/report\",e,function(e){t.chartData.rows=e.data.data})}},created:function(){this.get_pie_chart()},watch:{date:\"get_pie_chart\",type:\"get_pie_chart\"}},s=a(2),o=Object(s.a)(n,function(){var t=this.$createElement;return(this._self._c||t)(\"ve-pie\",{attrs:{data:this.chartData,settings:this.chartSettings}})},[],!1,null,null,null);o.options.__file=\"field_anaylist.vue\";var l=o.exports,d={components:{VePie:r.a},props:{date:{type:Array},type:{type:String}},data:function(){return this.chartSettings={legendName:{},opacity:.5},{chartData:{columns:[\"name\",\"value\"],rows:[]}}},methods:{get_pie_chart:function(){var t=this,e={params:{begin_date:t.date[0],end_date:t.date[1],resulttype:t.type}};this.$Get(\"api/order/bussiness/index/work/order/analysis/report\",e,function(e){t.chartData.rows=e.data.data})}},created:function(){this.get_pie_chart()},watch:{date:\"get_pie_chart\",type:\"get_pie_chart\"}},p=Object(s.a)(d,function(){var t=this.$createElement;return(this._self._c||t)(\"ve-pie\",{attrs:{data:this.chartData,settings:this.chartSettings}})},[],!1,null,null,null);p.options.__file=\"workorder_anaylist.vue\";var c=p.exports,u={props:{date:{type:Array},type:{type:String}},data:function(){return{table_loading:!1,pageTotal:new Number,page:1,pageSize:10,header:[{title:\"服务人员\",key:\"realname\"},{title:\"命中外勤\",key:\"hit\"},{title:\"有效外勤\",key:\"valid\"},{title:\"无效外勤\",key:\"invalid\"},{title:\"完成工单\",key:\"finished_workorder\"},{title:\"新增工单\",key:\"new_workorder\"},{title:\"其他\",key:\"other\"}],data:[]}},methods:{getData:function(){var t=this;t.table_loading=!0;var e={params:{begin_date:t.date[0],end_date:t.date[1],resulttype:t.type}};this.$Get(\"api/order/bussiness/index/work/order/analysis/list\",e,function(e){t.table_loading=!1,t.data=e.data.data})}},created:function(){this.getData()},watch:{date:\"getData\",type:\"getData\"}},h=Object(s.a)(u,function(){var t=this.$createElement,e=this._self._c||t;return e(\"div\",[e(\"Table\",{attrs:{columns:this.header,data:this.data,loading:this.table_loading}})],1)},[],!1,null,null,null);h.options.__file=\"personSumTable.vue\";var y=h.exports,m={components:{},data:function(){return{data:[],columns:[{title:\"用户名\",key:\"realname\",minWidth:120},{title:\"全部\",key:\"all_num\",minWidth:120},{title:\"公司注册\",key:\"gszc_num\",minWidth:120},{title:\"公司注销\",key:\"zx_num\",minWidth:120},{title:\"变更\",key:\"bgfw_num\",minWidth:120},{title:\"其他\",key:\"other_num\",minWidth:129}]}},methods:{get_data:function(){var t=this;t.loading=!0,this.$Get(\"api/order/bussiness/index/work/order/product/type/report\",{params:{page:1,pageSize:10}},function(e){t.loading=!1,t.data=e.data.data.rows})}},created:function(){this.get_data()}},_=Object(s.a)(m,function(){var t=this.$createElement,e=this._self._c||t;return e(\"div\",[e(\"Table\",{attrs:{columns:this.columns,data:this.data}})],1)},[],!1,null,null,null);_.options.__file=\"detailAnalysis.vue\";var g={components:{fieldAnaylist:l,workorderAnaylist:c,personSumTable:y,detailAnalysis:_.exports},data:function(){return{count:\"\",teamCount:\"\",index:\"\",operatorId:\"\",validTimes:\"\",avagPersonValid:\"\",avagTeamValid:\"\",details:\"\",type:\"\",dataRange:[],dateTemp:[],dataAnalyz:[],workorderTip:!1,header:[{title:\"工单状态\",key:\"name\"},{title:\"数量\",key:\"value\"}]}},methods:{date_change:function(t){this.dateTemp=[],this.dateTemp.push(t[0]),this.dateTemp.push(t[1])},open_every_analyz:function(){var t=this;this.$http.get(\"api/order/bussiness/index/work/order/analysis/dataReport\").then(function(e){\"40000\"==e.data.msgCode?(t.workorderTip=!0,t.dataAnalyz=e.data.data):t.workorderTip=!1}).catch(function(e){t.workorderTip=!1})},to_workorder_list:function(){this.$router.push({name:\"commercialTaskManagement\"})}},created:function(){this.open_every_analyz()}},v=(a(106),Object(s.a)(g,function(){var t=this,e=t.$createElement,a=t._self._c||e;return a(\"div\",{staticStyle:{\"min-width\":\"1100px\"}},[a(\"Row\",[a(\"Col\",{staticStyle:{\"background-color\":\"#FFFFFF\",padding:\"10px\"},attrs:{span:\"24\"}},[a(\"div\",[a(\"Col\",{staticStyle:{padding:\"20px\"},attrs:{span:\"24\"}},[a(\"center\",[a(\"h2\",[t._v(\"外勤及工单分析\")])])],1),t._v(\" \"),a(\"Col\",{staticStyle:{\"padding-bottom\":\"20px\"},attrs:{span:\"24\"}},[a(\"center\",[a(\"Select\",{staticStyle:{width:\"150px\",\"margin-right\":\"20px\"},attrs:{size:\"small\",placeholder:\"所有\"},model:{value:t.type,callback:function(e){t.type=e},expression:\"type\"}},[a(\"Option\",{attrs:{value:\"\"}},[t._v(\"所有\")]),t._v(\" \"),a(\"Option\",{attrs:{value:\"invalid\"}},[t._v(\"无效\")]),t._v(\" \"),a(\"Option\",{attrs:{value:\"valid\"}},[t._v(\"有效\")]),t._v(\" \"),a(\"Option\",{attrs:{value:\"hit\"}},[t._v(\"命中\")])],1),t._v(\" \"),a(\"DatePicker\",{staticStyle:{width:\"200px\"},attrs:{size:\"small\",type:\"daterange\",placeholder:\"选择日期\",placement:\"bottom\"},on:{\"on-change\":t.date_change},model:{value:t.dataRange,callback:function(e){t.dataRange=e},expression:\"dataRange\"}})],1)],1)],1)])],1),t._v(\" \"),a(\"Row\",{staticClass:\"margin-top-10\",attrs:{gutter:10}},[a(\"Col\",{style:{marginBottom:\"10px\"},attrs:{span:\"12\"}},[a(\"Card\",{staticStyle:{height:\"500px\"}},[a(\"p\",{staticClass:\"card-title\",attrs:{slot:\"title\"},slot:\"title\"},[a(\"Icon\",{attrs:{type:\"android-map\"}}),t._v(\"\\n                    外勤分析\\n                \")],1),t._v(\" \"),a(\"div\",{staticClass:\"data-source-row\"},[a(\"field-anaylist\",{attrs:{date:t.dateTemp,type:t.type}})],1)])],1),t._v(\" \"),a(\"Col\",{style:{marginBottom:\"10px\"},attrs:{span:\"12\"}},[a(\"Card\",{staticStyle:{height:\"500px\"}},[a(\"p\",{staticClass:\"card-title\",attrs:{slot:\"title\"},slot:\"title\"},[a(\"Icon\",{attrs:{type:\"android-map\"}}),t._v(\"\\n                    工单分析\\n                \")],1),t._v(\" \"),a(\"div\",{staticClass:\"data-source-row\"},[a(\"workorder-anaylist\",{attrs:{date:t.dateTemp,type:t.type}})],1)])],1)],1),t._v(\" \"),a(\"Row\",{staticClass:\"margin-top-10\",staticStyle:{height:\"600px\"},attrs:{gutter:10}},[a(\"Col\",{style:{marginBottom:\"10px\"},attrs:{span:\"24\"}},[a(\"Card\",{staticStyle:{height:\"600px\"}},[a(\"div\",{staticClass:\"data-source-row\"},[a(\"person-sum-table\",{attrs:{date:t.dateTemp,type:t.type}})],1)])],1)],1),t._v(\" \"),a(\"Row\",{staticClass:\"margin-top-10\",staticStyle:{height:\"600px\"},attrs:{gutter:10}},[a(\"Col\",{style:{marginBottom:\"10px\"},attrs:{span:\"24\"}},[a(\"Card\",{staticStyle:{height:\"600px\"}},[a(\"div\",{staticClass:\"data-source-row\"},[a(\"detail-analysis\")],1)])],1)],1),t._v(\" \"),a(\"Modal\",{attrs:{title:\"工单提醒\",width:\"400\",closable:!1,\"mask-closable\":!1},model:{value:t.workorderTip,callback:function(e){t.workorderTip=e},expression:\"workorderTip\"}},[a(\"Row\",{attrs:{gutter:16}},[a(\"Table\",{ref:\"selection\",attrs:{\"highlight-row\":\"\",size:\"small\",columns:t.header,data:t.dataAnalyz}})],1),t._v(\" \"),a(\"Row\",{staticStyle:{\"margin-top\":\"20px\"},attrs:{gutter:16}},[a(\"center\",[a(\"Button\",{attrs:{type:\"error\"},on:{click:function(e){t.workorderTip=!1}}},[t._v(\"我知道了！\")]),t._v(\" \"),a(\"Button\",{staticStyle:{\"margin-left\":\"20px\"},attrs:{type:\"primary\"},on:{click:t.to_workorder_list}},[t._v(\"查看详情\")])],1)],1),t._v(\" \"),a(\"div\",{attrs:{slot:\"footer\"},slot:\"footer\"})],1)],1)},[],!1,null,null,null));v.options.__file=\"commercialIndex.vue\";e.default=v.exports},83:function(t,e,a){t.exports=a(77)(218)},86:function(t,e,a){}}]);"}