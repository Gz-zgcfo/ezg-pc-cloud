{"source":"(window.webpackJsonp=window.webpackJsonp||[]).push([[23],{455:function(e,t,a){},724:function(e,t,a){\"use strict\";var r=a(455);a.n(r).a},865:function(e,t,a){\"use strict\";a.r(t);var r={name:\"clueControl_index\",data:function(){var r=this;return{check_depart_id:\"\",departTree:[],tableLoading:!1,page:1,pageTotal:0,headers:[{title:\"用户\",key:\"realname\",minWidth:150},{title:\"线索领取上限\",key:\"realname\",minWidth:180,render:function(e,t){var a=r;return e(\"div\",[e(\"Input\",{props:{value:r.tableData[t.index].customer_receipt_max_num,autosize:!0,type:\"text\",size:\"small\"},class:{clueNum:!0},on:{\"on-blur\":function(e){a.save_new_clue_num(t.row.id,e.target.value)},\"on-enter\":function(e){a.save_new_clue_num(t.row.id,e.target.value)}},style:{width:\"100%\"}})])}}],tableData:[]}},methods:{getAllDepartTree:function(){var i=this;this.$Get(\"api/system/depart/tree/list\",{},function(e){i.departTree=e.data.data;for(var t=0;t<i.departTree.length;t++)if(i.departTree[t].title=i.departTree[t].departname,i.departTree[t].children)for(var a=0;a<i.departTree[t].children.length;a++)if(i.departTree[t].children[a].title=i.departTree[t].children[a].departname,i.departTree[t].children[a].children)for(var r=0;r<i.departTree[t].children[a].children.length;r++)if(i.departTree[t].children[a].children[r].title=i.departTree[t].children[a].children[r].departname,i.departTree[t].children[a].children[r].children)for(var n=0;n<i.departTree[t].children[a].children[r].children.length;n++)i.departTree[t].children[a].children[r].children[n].title=i.departTree[t].children[a].children[r].children[n].departname})},getCheckedNodes:function(e){0==e.length?this.check_depart_id=\"\":this.check_depart_id=e[0].ID,this.page=1,this.get_data()},get_data:function(){var t=this,e={params:{page:t.page,pageSize:10,departid:t.check_depart_id}};this.$Get(\"api/user/list\",e,function(e){t.tableData=e.data.data.rows,t.pageTotal=e.data.data.total})},page_change:function(e){this.page=e,this.get_data()},save_new_clue_num:function(e,t){var a=this,r={id:e,customerReceiptMaxNum:t};this.$Post(\"api/user/update/detail\",r,function(e){a.get_data()},function(e){a.get_data()})}},mounted:function(){this.getAllDepartTree(),this.get_data()}},n=(a(724),a(4)),i=Object(n.a)(r,function(){var t=this,e=t.$createElement,a=t._self._c||e;return a(\"div\",[a(\"Card\",[a(\"Row\",[a(\"Col\",{attrs:{span:\"6\"}},[a(\"div\",{staticStyle:{\"padding-bottom\":\"30px\",\"padding-top\":\"15px\"}},[t._v(\"部门：\")]),t._v(\" \"),a(\"Tree\",{ref:\"departTree\",attrs:{data:t.departTree,\"show-checkbox\":\"\"},on:{\"on-check-change\":t.getCheckedNodes}})],1),t._v(\" \"),a(\"Col\",{attrs:{span:\"18\"}},[a(\"Table\",{attrs:{columns:t.headers,data:t.tableData,size:\"small\"}}),t._v(\" \"),a(\"Page\",{staticStyle:{\"margin-top\":\"10px\"},attrs:{size:\"small\",total:t.pageTotal,current:t.page,\"show-total\":\"\",\"show-elevator\":\"\"},on:{\"update:current\":function(e){t.page=e},\"on-change\":t.page_change}})],1)],1)],1)],1)},[],!1,null,null,null);i.options.__file=\"index.vue\";t.default=i.exports}}]);"}