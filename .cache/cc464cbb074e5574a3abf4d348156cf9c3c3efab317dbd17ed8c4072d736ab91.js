{"source":"(window.webpackJsonp=window.webpackJsonp||[]).push([[46],{137:function(t,a,e){},290:function(t,a,e){\"use strict\";var n=e(137);e.n(n).a},398:function(t,a,e){\"use strict\";e.r(a);var n=e(25),s={props:{taskKind:{type:[String,Array]},taskStage:{type:[String,Array]}},data:function(){var t=this;return{search_model:\"\",seacrhFormInline:{task_stage:\"\",task_kind:\"\",executor_name:\"\",plan_date:[]},loading:!1,header:[{title:\"任务对象\",key:\"companyName\",minWidth:180},{title:\"任务名称\",key:\"task_name\",minWidth:150},{title:\"执行人\",key:\"executor_name\",minWidth:120},{title:\"任务阶段\",key:\"task_stage_name\",minWidth:120},{title:\"安排时间\",key:\"plan_date\",minWidth:180},{title:\"操作\",minWidth:180,render:function(a,e){return a(\"div\",[a(\"Button\",{props:{type:\"text\",size:\"small\"},on:{click:function(){t.open_task_detail(e.row)}}},\"查看\"),a(\"Button\",{props:{type:\"text\",size:\"small\"},directives:[{name:\"permission\",value:\"mission.delete\"}],on:{click:function(){t.delete_task(e.row.id)}}},\"删除\")])}}],data:[],total:0,page:1,pageSize:10}},methods:{open_detail:function(t){},select_row:function(t){},pageChange:function(t){this.page=t,this.get_data()},get_data:function(){var t=this;t.loading=!0;var a={params:{page:t.page,pageSize:t.pageSize,sortField:\"plan_date\",task_stage:t.seacrhFormInline.task_stage,task_kind:t.seacrhFormInline.task_kind,executor_name:t.seacrhFormInline.executor_name,bplan_date:Object(n.a)(t.seacrhFormInline.plan_date[0]),eplan_date:Object(n.a)(t.seacrhFormInline.plan_date[1])}};this.$Get(\"api/task/list\",a,function(a){t.loading=!1,t.data=a.data.data.rows,t.total=a.data.data.total})},search:function(){this.get_data()},reset:function(){this.$refs.seacrhFormInline.resetFields(),this.get_data()},delete_task:function(t){var a=this,e={params:{taskId:t}};this.$Get(\"api/task/deleteTask\",e,function(t){a.get_data()})},open_task_detail:function(t){this.$bus.emit(\"OPEN_TASK_DETAIL\",t)}},created:function(){var t=this;this.get_data(),t.$bus.on(\"UPDATE_TASK_LIST_DEMO\",function(a){t.get_data()})}},o=e(2),i=Object(o.a)(s,function(){var t=this,a=t.$createElement,e=t._self._c||a;return e(\"Card\",[e(\"Row\",{staticStyle:{\"margin-bottom\":\"10px\"}},[e(\"Collapse\",{model:{value:t.search_model,callback:function(a){t.search_model=a},expression:\"search_model\"}},[e(\"Panel\",{attrs:{name:\"1\"}},[e(\"Icon\",{staticStyle:{\"margin-left\":\"20px\",\"margin-right\":\"5px\"},attrs:{type:\"search\"}}),t._v(\"\\n                筛选\\n                \"),e(\"div\",{attrs:{slot:\"content\"},on:{keydown:function(a){return\"button\"in a||!t._k(a.keyCode,\"enter\",13,a.key,\"Enter\")?t.search(a):null}},slot:\"content\"},[e(\"Form\",{ref:\"seacrhFormInline\",attrs:{model:t.seacrhFormInline,\"label-width\":100}},[e(\"Row\",{attrs:{gutter:16}},[e(\"Col\",{attrs:{span:\"8\"}},[e(\"FormItem\",{attrs:{prop:\"task_stage\",label:\"任务状态：\"}},[e(\"Select\",{attrs:{transfer:\"\",size:\"small\"},on:{\"on-change\":t.get_data},model:{value:t.seacrhFormInline.task_stage,callback:function(a){t.$set(t.seacrhFormInline,\"task_stage\",a)},expression:\"seacrhFormInline.task_stage\"}},t._l(t.taskStage,function(a){return e(\"Option\",{key:a.id,attrs:{value:a.typecode}},[t._v(t._s(a.typename))])}),1)],1)],1),t._v(\" \"),e(\"Col\",{attrs:{span:\"8\"}},[e(\"FormItem\",{attrs:{prop:\"task_kind\",label:\"任务类型：\"}},[e(\"Select\",{attrs:{transfer:\"\",size:\"small\"},on:{\"on-change\":t.get_data},model:{value:t.seacrhFormInline.task_kind,callback:function(a){t.$set(t.seacrhFormInline,\"task_kind\",a)},expression:\"seacrhFormInline.task_kind\"}},t._l(t.taskKind,function(a){return e(\"Option\",{key:a.id,attrs:{value:a.typecode}},[t._v(t._s(a.typename))])}),1)],1)],1),t._v(\" \"),e(\"Col\",{attrs:{span:\"8\"}},[e(\"FormItem\",{attrs:{prop:\"executor_name\",label:\"执行人：\"}},[e(\"Input\",{attrs:{type:\"text\",size:\"small\",placeholder:\"\"},model:{value:t.seacrhFormInline.executor_name,callback:function(a){t.$set(t.seacrhFormInline,\"executor_name\",a)},expression:\"seacrhFormInline.executor_name\"}})],1)],1)],1),t._v(\" \"),e(\"Row\",{attrs:{gutter:16}},[e(\"Col\",{attrs:{span:\"8\"}},[e(\"FormItem\",{attrs:{prop:\"plan_date\",label:\"计划时间\"}},[e(\"DatePicker\",{staticStyle:{width:\"100%\"},attrs:{type:\"daterange\",size:\"small\",placeholder:\"\"},model:{value:t.seacrhFormInline.plan_date,callback:function(a){t.$set(t.seacrhFormInline,\"plan_date\",a)},expression:\"seacrhFormInline.plan_date\"}})],1)],1)],1),t._v(\" \"),e(\"FormItem\",[e(\"Button\",{attrs:{type:\"primary\"},on:{click:t.search}},[t._v(\"搜索\")]),t._v(\" \"),e(\"Button\",{staticStyle:{\"margin-left\":\"20px\"},attrs:{type:\"ghost\"},on:{click:t.reset}},[t._v(\"重置\")])],1)],1)],1)],1)],1)],1),t._v(\" \"),e(\"Row\",{staticStyle:{\"margin-top\":\"10px\"}},[e(\"Table\",{ref:\"selection\",attrs:{\"highlight-row\":\"\",size:\"small\",loading:t.loading,columns:t.header,data:t.data},on:{\"on-row-dblclick\":t.open_task_detail}}),t._v(\" \"),e(\"Page\",{staticStyle:{\"margin-top\":\"10px\"},attrs:{placement:\"top\",size:\"small\",total:t.total,\"show-total\":\"\",\"show-elevator\":\"\"},on:{\"on-change\":t.pageChange}})],1)],1)},[],!1,null,null,null);i.options.__file=\"all.vue\";var l=i.exports,r={props:{taskKind:{type:[String,Array]},taskStage:{type:[String,Array]}},data:function(){var t=this;return{search_model:\"\",seacrhFormInline:{task_stage:\"\",task_kind:\"\",executor_name:\"\",plan_date:[]},loading:!1,header:[{title:\"任务对象\",key:\"companyName\",minWidth:180},{title:\"任务名称\",key:\"task_name\",minWidth:150},{title:\"执行人\",key:\"executor_name\",minWidth:120},{title:\"任务阶段\",key:\"task_stage_name\",minWidth:120},{title:\"安排时间\",key:\"plan_date\",minWidth:180},{title:\"操作\",minWidth:180,render:function(a,e){return a(\"div\",[a(\"Button\",{props:{type:\"text\",size:\"small\"},on:{click:function(){t.open_task_detail(e.row)}}},\"查看\"),a(\"Button\",{props:{type:\"text\",size:\"small\"},directives:[{name:\"permission\",value:\"mission.delete\"}],on:{click:function(){t.delete_task(e.row.id)}}},\"删除\")])}}],data:[],total:0,page:1,pageSize:10}},methods:{open_detail:function(t){},select_row:function(t){},pageChange:function(t){this.page=t,this.get_data()},get_data:function(){var t=this;t.loading=!0;var a={params:{page:t.page,pageSize:t.pageSize,sortField:\"plan_date\",task_level:\"importance\",task_stage:t.seacrhFormInline.task_stage,task_kind:t.seacrhFormInline.task_kind,executor_name:t.seacrhFormInline.executor_name,bplan_date:Object(n.a)(t.seacrhFormInline.plan_date[0]),eplan_date:Object(n.a)(t.seacrhFormInline.plan_date[1])}};this.$Get(\"api/task/list\",a,function(a){t.loading=!1,t.data=a.data.data.rows,t.total=a.data.data.total},function(a){t.loading=!1})},search:function(){this.get_data()},reset:function(){this.$refs.seacrhFormInline.resetFields(),this.get_data()},delete_task:function(t){var a=this,e={params:{taskId:t}};this.$Get(\"api/task/deleteTask\",e,function(t){a.get_data()})},open_task_detail:function(t){this.$bus.emit(\"OPEN_TASK_DETAIL\",t)}},created:function(){var t=this;this.get_data(),t.$bus.on(\"UPDATE_TASK_LIST_DEMO\",function(a){t.get_data()})}},c=Object(o.a)(r,function(){var t=this,a=t.$createElement,e=t._self._c||a;return e(\"Card\",[e(\"Row\",{staticStyle:{\"margin-bottom\":\"10px\"}},[e(\"Collapse\",{model:{value:t.search_model,callback:function(a){t.search_model=a},expression:\"search_model\"}},[e(\"Panel\",{attrs:{name:\"1\"}},[e(\"Icon\",{staticStyle:{\"margin-left\":\"20px\",\"margin-right\":\"5px\"},attrs:{type:\"search\"}}),t._v(\"\\n                筛选\\n                \"),e(\"div\",{attrs:{slot:\"content\"},on:{keydown:function(a){return\"button\"in a||!t._k(a.keyCode,\"enter\",13,a.key,\"Enter\")?t.search(a):null}},slot:\"content\"},[e(\"Form\",{ref:\"seacrhFormInline\",attrs:{model:t.seacrhFormInline,\"label-width\":100}},[e(\"Row\",{attrs:{gutter:16}},[e(\"Col\",{attrs:{span:\"8\"}},[e(\"FormItem\",{attrs:{prop:\"task_stage\",label:\"任务状态：\"}},[e(\"Select\",{attrs:{transfer:\"\",size:\"small\"},on:{\"on-change\":t.get_data},model:{value:t.seacrhFormInline.task_stage,callback:function(a){t.$set(t.seacrhFormInline,\"task_stage\",a)},expression:\"seacrhFormInline.task_stage\"}},t._l(t.taskStage,function(a){return e(\"Option\",{key:a.id,attrs:{value:a.typecode}},[t._v(t._s(a.typename))])}),1)],1)],1),t._v(\" \"),e(\"Col\",{attrs:{span:\"8\"}},[e(\"FormItem\",{attrs:{prop:\"task_kind\",label:\"任务类型：\"}},[e(\"Select\",{attrs:{transfer:\"\",size:\"small\"},on:{\"on-change\":t.get_data},model:{value:t.seacrhFormInline.task_kind,callback:function(a){t.$set(t.seacrhFormInline,\"task_kind\",a)},expression:\"seacrhFormInline.task_kind\"}},t._l(t.taskKind,function(a){return e(\"Option\",{key:a.id,attrs:{value:a.typecode}},[t._v(t._s(a.typename))])}),1)],1)],1),t._v(\" \"),e(\"Col\",{attrs:{span:\"8\"}},[e(\"FormItem\",{attrs:{prop:\"executor_name\",label:\"执行人：\"}},[e(\"Input\",{attrs:{type:\"text\",size:\"small\",placeholder:\"\"},model:{value:t.seacrhFormInline.executor_name,callback:function(a){t.$set(t.seacrhFormInline,\"executor_name\",a)},expression:\"seacrhFormInline.executor_name\"}})],1)],1)],1),t._v(\" \"),e(\"Row\",{attrs:{gutter:16}},[e(\"Col\",{attrs:{span:\"8\"}},[e(\"FormItem\",{attrs:{prop:\"plan_date\",label:\"计划时间\"}},[e(\"DatePicker\",{staticStyle:{width:\"100%\"},attrs:{type:\"daterange\",size:\"small\",placeholder:\"\"},model:{value:t.seacrhFormInline.plan_date,callback:function(a){t.$set(t.seacrhFormInline,\"plan_date\",a)},expression:\"seacrhFormInline.plan_date\"}})],1)],1)],1),t._v(\" \"),e(\"FormItem\",[e(\"Button\",{attrs:{type:\"primary\"},on:{click:t.search}},[t._v(\"搜索\")]),t._v(\" \"),e(\"Button\",{staticStyle:{\"margin-left\":\"20px\"},attrs:{type:\"ghost\"},on:{click:t.reset}},[t._v(\"重置\")])],1)],1)],1)],1)],1)],1),t._v(\" \"),e(\"Row\",{staticStyle:{\"margin-top\":\"10px\"}},[e(\"Table\",{ref:\"selection\",attrs:{\"highlight-row\":\"\",size:\"small\",loading:t.loading,columns:t.header,data:t.data},on:{\"on-row-dblclick\":t.open_task_detail}}),t._v(\" \"),e(\"Page\",{staticStyle:{\"margin-top\":\"10px\"},attrs:{placement:\"top\",size:\"small\",total:t.total,\"show-total\":\"\",\"show-elevator\":\"\"},on:{\"on-change\":t.pageChange}})],1)],1)},[],!1,null,null,null);c.options.__file=\"important.vue\";var d=c.exports,p={props:{taskKind:{type:[String,Array]},taskStage:{type:[String,Array]}},data:function(){var t=this;return{search_model:\"\",seacrhFormInline:{task_stage:\"\",task_kind:\"\",executor_name:\"\",plan_date:[]},loading:!1,header:[{title:\"任务对象\",key:\"companyName\",minWidth:180},{title:\"任务名称\",key:\"task_name\",minWidth:150},{title:\"执行人\",key:\"executor_name\",minWidth:120},{title:\"任务阶段\",key:\"task_stage_name\",minWidth:120},{title:\"安排时间\",key:\"plan_date\",minWidth:180},{title:\"操作\",minWidth:180,render:function(a,e){return a(\"div\",[a(\"Button\",{props:{type:\"text\",size:\"small\"},on:{click:function(){t.open_task_detail(e.row)}}},\"查看\"),a(\"Button\",{props:{type:\"text\",size:\"small\"},directives:[{name:\"permission\",value:\"mission.delete\"}],on:{click:function(){t.delete_task(e.row.id)}}},\"删除\")])}}],data:[],total:0,page:1,pageSize:10}},methods:{open_detail:function(t){},select_row:function(t){},pageChange:function(t){this.page=t,this.get_data()},get_data:function(){var t=this;t.loading=!0;var a={params:{page:t.page,pageSize:t.pageSize,sortField:\"plan_date\",task_level:\"both\",task_stage:t.seacrhFormInline.task_stage,task_kind:t.seacrhFormInline.task_kind,executor_name:t.seacrhFormInline.executor_name,bplan_date:Object(n.a)(t.seacrhFormInline.plan_date[0]),eplan_date:Object(n.a)(t.seacrhFormInline.plan_date[1])}};this.$Get(\"api/task/list\",a,function(a){t.loading=!1,t.data=a.data.data.rows,t.total=a.data.data.total},function(a){t.loading=!1})},search:function(){this.get_data()},reset:function(){this.$refs.seacrhFormInline.resetFields(),this.get_data()},delete_task:function(t){var a=this,e={params:{taskId:t}};this.$Get(\"api/task/deleteTask\",e,function(t){a.get_data()})},open_task_detail:function(t){this.$bus.emit(\"OPEN_TASK_DETAIL\",t)}},created:function(){var t=this;this.get_data(),t.$bus.on(\"UPDATE_TASK_LIST_DEMO\",function(a){t.get_data()})}},m=Object(o.a)(p,function(){var t=this,a=t.$createElement,e=t._self._c||a;return e(\"Card\",[e(\"Row\",{staticStyle:{\"margin-bottom\":\"10px\"}},[e(\"Collapse\",{model:{value:t.search_model,callback:function(a){t.search_model=a},expression:\"search_model\"}},[e(\"Panel\",{attrs:{name:\"1\"}},[e(\"Icon\",{staticStyle:{\"margin-left\":\"20px\",\"margin-right\":\"5px\"},attrs:{type:\"search\"}}),t._v(\"\\n                筛选\\n                \"),e(\"div\",{attrs:{slot:\"content\"},on:{keydown:function(a){return\"button\"in a||!t._k(a.keyCode,\"enter\",13,a.key,\"Enter\")?t.search(a):null}},slot:\"content\"},[e(\"Form\",{ref:\"seacrhFormInline\",attrs:{model:t.seacrhFormInline,\"label-width\":100}},[e(\"Row\",{attrs:{gutter:16}},[e(\"Col\",{attrs:{span:\"8\"}},[e(\"FormItem\",{attrs:{prop:\"task_stage\",label:\"任务状态：\"}},[e(\"Select\",{attrs:{transfer:\"\",size:\"small\"},on:{\"on-change\":t.get_data},model:{value:t.seacrhFormInline.task_stage,callback:function(a){t.$set(t.seacrhFormInline,\"task_stage\",a)},expression:\"seacrhFormInline.task_stage\"}},t._l(t.taskStage,function(a){return e(\"Option\",{key:a.id,attrs:{value:a.typecode}},[t._v(t._s(a.typename))])}),1)],1)],1),t._v(\" \"),e(\"Col\",{attrs:{span:\"8\"}},[e(\"FormItem\",{attrs:{prop:\"task_kind\",label:\"任务类型：\"}},[e(\"Select\",{attrs:{transfer:\"\",size:\"small\"},on:{\"on-change\":t.get_data},model:{value:t.seacrhFormInline.task_kind,callback:function(a){t.$set(t.seacrhFormInline,\"task_kind\",a)},expression:\"seacrhFormInline.task_kind\"}},t._l(t.taskKind,function(a){return e(\"Option\",{key:a.id,attrs:{value:a.typecode}},[t._v(t._s(a.typename))])}),1)],1)],1),t._v(\" \"),e(\"Col\",{attrs:{span:\"8\"}},[e(\"FormItem\",{attrs:{prop:\"executor_name\",label:\"执行人：\"}},[e(\"Input\",{attrs:{type:\"text\",size:\"small\",placeholder:\"\"},model:{value:t.seacrhFormInline.executor_name,callback:function(a){t.$set(t.seacrhFormInline,\"executor_name\",a)},expression:\"seacrhFormInline.executor_name\"}})],1)],1)],1),t._v(\" \"),e(\"Row\",{attrs:{gutter:16}},[e(\"Col\",{attrs:{span:\"8\"}},[e(\"FormItem\",{attrs:{prop:\"plan_date\",label:\"计划时间\"}},[e(\"DatePicker\",{staticStyle:{width:\"100%\"},attrs:{type:\"daterange\",size:\"small\",placeholder:\"\"},model:{value:t.seacrhFormInline.plan_date,callback:function(a){t.$set(t.seacrhFormInline,\"plan_date\",a)},expression:\"seacrhFormInline.plan_date\"}})],1)],1)],1),t._v(\" \"),e(\"FormItem\",[e(\"Button\",{attrs:{type:\"primary\"},on:{click:t.search}},[t._v(\"搜索\")]),t._v(\" \"),e(\"Button\",{staticStyle:{\"margin-left\":\"20px\"},attrs:{type:\"ghost\"},on:{click:t.reset}},[t._v(\"重置\")])],1)],1)],1)],1)],1)],1),t._v(\" \"),e(\"Row\",{staticStyle:{\"margin-top\":\"10px\"}},[e(\"Table\",{ref:\"selection\",attrs:{\"highlight-row\":\"\",size:\"small\",loading:t.loading,columns:t.header,data:t.data},on:{\"on-row-dblclick\":t.open_task_detail}}),t._v(\" \"),e(\"Page\",{staticStyle:{\"margin-top\":\"10px\"},attrs:{placement:\"top\",size:\"small\",total:t.total,\"show-total\":\"\",\"show-elevator\":\"\"},on:{\"on-change\":t.pageChange}})],1)],1)},[],!1,null,null,null);m.options.__file=\"importantAndPrimary.vue\";var _=m.exports,u={props:{taskKind:{type:[String,Array]},taskStage:{type:[String,Array]}},data:function(){var t=this;return{search_model:\"\",seacrhFormInline:{task_stage:\"\",task_kind:\"\",executor_name:\"\",plan_date:[]},loading:!1,header:[{title:\"任务对象\",key:\"companyName\",minWidth:180},{title:\"任务名称\",key:\"task_name\",minWidth:150},{title:\"执行人\",key:\"executor_name\",minWidth:120},{title:\"任务阶段\",key:\"task_stage_name\",minWidth:120},{title:\"安排时间\",key:\"plan_date\",minWidth:180},{title:\"操作\",minWidth:180,render:function(a,e){return a(\"div\",[a(\"Button\",{props:{type:\"text\",size:\"small\"},on:{click:function(){t.open_task_detail(e.row)}}},\"查看\"),a(\"Button\",{props:{type:\"text\",size:\"small\"},directives:[{name:\"permission\",value:\"mission.delete\"}],on:{click:function(){t.delete_task(e.row.id)}}},\"删除\")])}}],data:[],total:0,page:1,pageSize:10}},methods:{open_detail:function(t){},select_row:function(t){},pageChange:function(t){this.page=t,this.get_data()},get_data:function(){var t=this;t.loading=!0;var a={params:{page:t.page,pageSize:t.pageSize,sortField:\"plan_date\",task_level:\"normal\",task_stage:t.seacrhFormInline.task_stage,task_kind:t.seacrhFormInline.task_kind,executor_name:t.seacrhFormInline.executor_name,bplan_date:Object(n.a)(t.seacrhFormInline.plan_date[0]),eplan_date:Object(n.a)(t.seacrhFormInline.plan_date[1])}};this.$Get(\"api/task/list\",a,function(a){t.loading=!1,t.data=a.data.data.rows,t.total=a.data.data.total},function(a){t.loading=!1})},search:function(){this.get_data()},reset:function(){this.$refs.seacrhFormInline.resetFields(),this.get_data()},delete_task:function(t){var a=this,e={params:{taskId:t}};this.$Get(\"api/task/deleteTask\",e,function(t){a.get_data()})},open_task_detail:function(t){this.$bus.emit(\"OPEN_TASK_DETAIL\",t)}},created:function(){var t=this;this.get_data(),t.$bus.on(\"UPDATE_TASK_LIST_DEMO\",function(a){t.get_data()})}},k=Object(o.a)(u,function(){var t=this,a=t.$createElement,e=t._self._c||a;return e(\"Card\",[e(\"Row\",{staticStyle:{\"margin-bottom\":\"10px\"}},[e(\"Collapse\",{model:{value:t.search_model,callback:function(a){t.search_model=a},expression:\"search_model\"}},[e(\"Panel\",{attrs:{name:\"1\"}},[e(\"Icon\",{staticStyle:{\"margin-left\":\"20px\",\"margin-right\":\"5px\"},attrs:{type:\"search\"}}),t._v(\"\\n                筛选\\n                \"),e(\"div\",{attrs:{slot:\"content\"},on:{keydown:function(a){return\"button\"in a||!t._k(a.keyCode,\"enter\",13,a.key,\"Enter\")?t.search(a):null}},slot:\"content\"},[e(\"Form\",{ref:\"seacrhFormInline\",attrs:{model:t.seacrhFormInline,\"label-width\":100}},[e(\"Row\",{attrs:{gutter:16}},[e(\"Col\",{attrs:{span:\"8\"}},[e(\"FormItem\",{attrs:{prop:\"task_stage\",label:\"任务状态：\"}},[e(\"Select\",{attrs:{transfer:\"\",size:\"small\"},on:{\"on-change\":t.get_data},model:{value:t.seacrhFormInline.task_stage,callback:function(a){t.$set(t.seacrhFormInline,\"task_stage\",a)},expression:\"seacrhFormInline.task_stage\"}},t._l(t.taskStage,function(a){return e(\"Option\",{key:a.id,attrs:{value:a.typecode}},[t._v(t._s(a.typename))])}),1)],1)],1),t._v(\" \"),e(\"Col\",{attrs:{span:\"8\"}},[e(\"FormItem\",{attrs:{prop:\"task_kind\",label:\"任务类型：\"}},[e(\"Select\",{attrs:{transfer:\"\",size:\"small\"},on:{\"on-change\":t.get_data},model:{value:t.seacrhFormInline.task_kind,callback:function(a){t.$set(t.seacrhFormInline,\"task_kind\",a)},expression:\"seacrhFormInline.task_kind\"}},t._l(t.taskKind,function(a){return e(\"Option\",{key:a.id,attrs:{value:a.typecode}},[t._v(t._s(a.typename))])}),1)],1)],1),t._v(\" \"),e(\"Col\",{attrs:{span:\"8\"}},[e(\"FormItem\",{attrs:{prop:\"executor_name\",label:\"执行人：\"}},[e(\"Input\",{attrs:{type:\"text\",size:\"small\",placeholder:\"\"},model:{value:t.seacrhFormInline.executor_name,callback:function(a){t.$set(t.seacrhFormInline,\"executor_name\",a)},expression:\"seacrhFormInline.executor_name\"}})],1)],1)],1),t._v(\" \"),e(\"Row\",{attrs:{gutter:16}},[e(\"Col\",{attrs:{span:\"8\"}},[e(\"FormItem\",{attrs:{prop:\"plan_date\",label:\"计划时间\"}},[e(\"DatePicker\",{staticStyle:{width:\"100%\"},attrs:{type:\"daterange\",size:\"small\",placeholder:\"\"},model:{value:t.seacrhFormInline.plan_date,callback:function(a){t.$set(t.seacrhFormInline,\"plan_date\",a)},expression:\"seacrhFormInline.plan_date\"}})],1)],1)],1),t._v(\" \"),e(\"FormItem\",[e(\"Button\",{attrs:{type:\"primary\"},on:{click:t.search}},[t._v(\"搜索\")]),t._v(\" \"),e(\"Button\",{staticStyle:{\"margin-left\":\"20px\"},attrs:{type:\"ghost\"},on:{click:t.reset}},[t._v(\"重置\")])],1)],1)],1)],1)],1)],1),t._v(\" \"),e(\"Row\",{staticStyle:{\"margin-top\":\"10px\"}},[e(\"Table\",{ref:\"selection\",attrs:{\"highlight-row\":\"\",size:\"small\",loading:t.loading,columns:t.header,data:t.data},on:{\"on-row-dblclick\":t.open_task_detail}}),t._v(\" \"),e(\"Page\",{staticStyle:{\"margin-top\":\"10px\"},attrs:{placement:\"top\",size:\"small\",total:t.total,\"show-total\":\"\",\"show-elevator\":\"\"},on:{\"on-change\":t.pageChange}})],1)],1)},[],!1,null,null,null);k.options.__file=\"normal.vue\";var g=k.exports,h={props:{taskKind:{type:[String,Array]},taskStage:{type:[String,Array]}},data:function(){var t=this;return{search_model:\"\",seacrhFormInline:{task_stage:\"\",task_kind:\"\",executor_name:\"\",plan_date:[]},loading:!1,header:[{title:\"任务对象\",key:\"companyName\",minWidth:180},{title:\"任务名称\",key:\"task_name\",minWidth:150},{title:\"执行人\",key:\"executor_name\",minWidth:120},{title:\"任务阶段\",key:\"task_stage_name\",minWidth:120},{title:\"安排时间\",key:\"plan_date\",minWidth:180},{title:\"操作\",minWidth:180,render:function(a,e){return a(\"div\",[a(\"Button\",{props:{type:\"text\",size:\"small\"},on:{click:function(){t.open_task_detail(e.row)}}},\"查看\"),a(\"Button\",{props:{type:\"text\",size:\"small\"},directives:[{name:\"permission\",value:\"mission.delete\"}],on:{click:function(){t.delete_task(e.row.id)}}},\"删除\")])}}],data:[],total:0,page:1,pageSize:10}},methods:{open_detail:function(t){},select_row:function(t){},pageChange:function(t){this.page=t,this.get_data()},get_data:function(){var t=this;t.loading=!0;var a={params:{page:t.page,pageSize:t.pageSize,sortField:\"plan_date\",task_level:\"emergency\",task_stage:t.seacrhFormInline.task_stage,task_kind:t.seacrhFormInline.task_kind,executor_name:t.seacrhFormInline.executor_name,bplan_date:Object(n.a)(t.seacrhFormInline.plan_date[0]),eplan_date:Object(n.a)(t.seacrhFormInline.plan_date[1])}};this.$Get(\"api/task/list\",a,function(a){t.loading=!1,t.data=a.data.data.rows,t.total=a.data.data.total},function(a){t.loading=!1})},search:function(){this.get_data()},reset:function(){this.$refs.seacrhFormInline.resetFields(),this.get_data()},delete_task:function(t){var a=this,e={params:{taskId:t}};this.$Get(\"api/task/deleteTask\",e,function(t){a.get_data()})},open_task_detail:function(t){this.$bus.emit(\"OPEN_TASK_DETAIL\",t)}},created:function(){var t=this;t.$bus.on(\"UPDATE_TASK_LIST_DEMO\",function(a){t.get_data()})}},v=Object(o.a)(h,function(){var t=this,a=t.$createElement,e=t._self._c||a;return e(\"Card\",[e(\"Row\",{staticStyle:{\"margin-bottom\":\"10px\"}},[e(\"Collapse\",{model:{value:t.search_model,callback:function(a){t.search_model=a},expression:\"search_model\"}},[e(\"Panel\",{attrs:{name:\"1\"}},[e(\"Icon\",{staticStyle:{\"margin-left\":\"20px\",\"margin-right\":\"5px\"},attrs:{type:\"search\"}}),t._v(\"\\n                筛选\\n                \"),e(\"div\",{attrs:{slot:\"content\"},on:{keydown:function(a){return\"button\"in a||!t._k(a.keyCode,\"enter\",13,a.key,\"Enter\")?t.search(a):null}},slot:\"content\"},[e(\"Form\",{ref:\"seacrhFormInline\",attrs:{model:t.seacrhFormInline,\"label-width\":100}},[e(\"Row\",{attrs:{gutter:16}},[e(\"Col\",{attrs:{span:\"8\"}},[e(\"FormItem\",{attrs:{prop:\"task_stage\",label:\"任务状态：\"}},[e(\"Select\",{attrs:{transfer:\"\",size:\"small\"},on:{\"on-change\":t.get_data},model:{value:t.seacrhFormInline.task_stage,callback:function(a){t.$set(t.seacrhFormInline,\"task_stage\",a)},expression:\"seacrhFormInline.task_stage\"}},t._l(t.taskStage,function(a){return e(\"Option\",{key:a.id,attrs:{value:a.typecode}},[t._v(t._s(a.typename))])}),1)],1)],1),t._v(\" \"),e(\"Col\",{attrs:{span:\"8\"}},[e(\"FormItem\",{attrs:{prop:\"task_kind\",label:\"任务类型：\"}},[e(\"Select\",{attrs:{transfer:\"\",size:\"small\"},on:{\"on-change\":t.get_data},model:{value:t.seacrhFormInline.task_kind,callback:function(a){t.$set(t.seacrhFormInline,\"task_kind\",a)},expression:\"seacrhFormInline.task_kind\"}},t._l(t.taskKind,function(a){return e(\"Option\",{key:a.id,attrs:{value:a.typecode}},[t._v(t._s(a.typename))])}),1)],1)],1),t._v(\" \"),e(\"Col\",{attrs:{span:\"8\"}},[e(\"FormItem\",{attrs:{prop:\"executor_name\",label:\"执行人：\"}},[e(\"Input\",{attrs:{type:\"text\",size:\"small\",placeholder:\"\"},model:{value:t.seacrhFormInline.executor_name,callback:function(a){t.$set(t.seacrhFormInline,\"executor_name\",a)},expression:\"seacrhFormInline.executor_name\"}})],1)],1)],1),t._v(\" \"),e(\"Row\",{attrs:{gutter:16}},[e(\"Col\",{attrs:{span:\"8\"}},[e(\"FormItem\",{attrs:{prop:\"plan_date\",label:\"计划时间\"}},[e(\"DatePicker\",{staticStyle:{width:\"100%\"},attrs:{type:\"daterange\",size:\"small\",placeholder:\"\"},model:{value:t.seacrhFormInline.plan_date,callback:function(a){t.$set(t.seacrhFormInline,\"plan_date\",a)},expression:\"seacrhFormInline.plan_date\"}})],1)],1)],1),t._v(\" \"),e(\"FormItem\",[e(\"Button\",{attrs:{type:\"primary\"},on:{click:t.search}},[t._v(\"搜索\")]),t._v(\" \"),e(\"Button\",{staticStyle:{\"margin-left\":\"20px\"},attrs:{type:\"ghost\"},on:{click:t.reset}},[t._v(\"重置\")])],1)],1)],1)],1)],1)],1),t._v(\" \"),e(\"Row\",{staticStyle:{\"margin-top\":\"10px\"}},[e(\"Table\",{ref:\"selection\",attrs:{\"highlight-row\":\"\",size:\"small\",loading:t.loading,columns:t.header,data:t.data},on:{\"on-row-dblclick\":t.open_task_detail}}),t._v(\" \"),e(\"Page\",{staticStyle:{\"margin-top\":\"10px\"},attrs:{placement:\"top\",size:\"small\",total:t.total,\"show-total\":\"\",\"show-elevator\":\"\"},on:{\"on-change\":t.pageChange}})],1)],1)},[],!1,null,null,null);v.options.__file=\"primary.vue\";var y=v.exports,f={data:function(){return{id:\"\",discussLoading:!1,discuss:{rate:5,content:\"\"},loading:!1,openTaskDetail:!1,data:{taskData:[{task_name:\"\",id:\"\",expect_start_date:\"\",task_stage:\"\",plan_date:\"\",company_name:\"\",task_content:\"\",company_id:\"\"}],log:[],discuss:[]},taskStage:[],taskLevel:[],taskDesCode:[],task_memo:\"\",followUpContent:[{userName:\"\",createdate:\"\",followTypeName:\"\",serviceContent:\"\"}]}},computed:{openSubmit:function(){return!this.task_memo}},methods:{get_detail:function(t){var a=this,e={params:{taskId:t}};this.$Get(\"api/task/findTaskDetail\",e,function(t){a.data=t.data.data,t.data.data.taskData[0]?a.get_last_follow_up_content(t.data.data.taskData[0].company_id):a.data={taskData:[{task_name:\"\",id:\"\",expect_start_date:\"\",task_stage:\"\",plan_date:\"\",company_name:\"\",task_content:\"\",company_id:\"\"}],log:[],discuss:[]}})},delete_task:function(){var t=this,a={params:{taskId:t.data.taskData.id}};this.$Get(\"api/task/deleteTask\",a,function(a){t.openTaskDetail=!1})},get_data_center:function(){var t=this;this.$GetDataCenter(\"taskLevel,taskDesCode,taskKind,taskStage,market_status,markert_follow_up_type\",function(a){t.taskLevel=a.data.data.taskLevel,t.taskDesCode=a.data.data.taskDesCode,t.taskStage=a.data.data.taskStage})},update_task:function(){var t=this,a=new FormData;a.append(\"taskId\",t.id),a.append(\"taskStage\",t.data.taskData[0].task_stage),a.append(\"changeReason\",t.task_memo);t.data.taskData[0].id,t.data.taskData[0].task_stage;this.$Post(\"api/task/updateTaskStage\",a,function(a){t.update_content(),t.task_memo=\"\"},function(t){})},update_content:function(){var t=this,a={taskId:t.id,content:t.task_memo,creatorId:localStorage.getItem(\"id\"),creatorName:localStorage.getItem(\"realname\")};this.$Post(\"api/task/addTaskDiscuss\",a,function(a){t.loading=!1,t.get_detail(t.id)},function(a){t.loading=!1})},get_last_follow_up_content:function(t){var a=this,e={params:{companyId:t}};this.$Get(\"api/customer/findLastCustomerContentByCompanyId\",e,function(t){t.data.data&&(a.followUpContent=t.data.data)})},submit_discuss:function(){var t=this;t.discussLoading=!0;var a={taskId:t.id,content:t.discuss.content,evaluation:10*t.discuss.rate,creatorId:localStorage.getItem(\"id\"),creatorName:localStorage.getItem(\"realname\")};this.$Post(\"api/task/addTaskDiscuss\",a,function(a){t.discussLoading=!1,t.get_detail(t.id)},function(a){t.discussLoading=!1})}},created:function(){var t=this;this.$bus.on(\"OPEN_TASK_DETAIL\",function(a){t.task_memo=\"\",t.get_data_center(),t.id=a.id,t.get_detail(a.id),t.detail=a,t.openTaskDetail=!0})}},I=(e(290),Object(o.a)(f,function(){var t=this,a=t.$createElement,e=t._self._c||a;return e(\"div\",[e(\"Modal\",{attrs:{title:\"任务详情\",width:\"450\",scrollable:!0,\"class-name\":\"vertical-center-modal\"},model:{value:t.openTaskDetail,callback:function(a){t.openTaskDetail=a},expression:\"openTaskDetail\"}},[e(\"div\",{staticStyle:{\"min-height\":\"90vh\",width:\"400px\"}},[e(\"Row\",[e(\"Col\",{attrs:{span:\"16\"}},[e(\"Input\",{staticStyle:{width:\"100%\"},attrs:{type:\"text\",readonly:\"\"},model:{value:t.data.taskData[0].task_name,callback:function(a){t.$set(t.data.taskData[0],\"task_name\",a)},expression:\"data.taskData[0].task_name\"}})],1)],1),t._v(\" \"),e(\"Row\",{staticStyle:{\"margin-top\":\"20px\"}},[e(\"Row\",{staticStyle:{\"margin-top\":\"20px\"},attrs:{gutter:20}},[e(\"Col\",{attrs:{span:\"4\"}},[e(\"span\",{staticStyle:{\"line-height\":\"24px\"}},[t._v(\"任务对象\")])]),t._v(\" \"),e(\"Col\",{attrs:{span:\"20\"}},[e(\"span\",{staticStyle:{\"line-height\":\"24px\"}},[t._v(t._s(t.data.taskData[0].companyname)+\"\\n                        \")])])],1),t._v(\" \"),e(\"Row\",{staticStyle:{\"margin-top\":\"20px\"},attrs:{gutter:20}},[e(\"Col\",{attrs:{span:\"4\"}},[e(\"span\",{staticStyle:{\"line-height\":\"24px\"}},[t._v(\"执行者\")])]),t._v(\" \"),e(\"Col\",{attrs:{span:\"20\"}},[e(\"span\",{staticStyle:{\"line-height\":\"24px\"}},[t._v(t._s(t.data.taskData[0].executor_name)+\"\\n                        \")])])],1),t._v(\" \"),e(\"Row\",{staticStyle:{\"margin-top\":\"20px\"},attrs:{gutter:20}},[e(\"Col\",{attrs:{span:\"4\"}},[e(\"span\",{staticStyle:{\"line-height\":\"24px\"}},[t._v(\"任务级别\")])]),t._v(\" \"),e(\"Col\",{attrs:{span:\"20\"}},[e(\"Select\",{staticStyle:{width:\"180px\"},attrs:{size:\"small\",disabled:\"\"},model:{value:t.data.taskData[0].task_level,callback:function(a){t.$set(t.data.taskData[0],\"task_level\",a)},expression:\"data.taskData[0].task_level\"}},t._l(t.taskLevel,function(a){return e(\"Option\",{key:a.id,attrs:{value:a.typecode}},[t._v(t._s(a.typename))])}),1)],1)],1),t._v(\" \"),e(\"Row\",{staticStyle:{\"margin-top\":\"20px\"},attrs:{gutter:20}},[e(\"Col\",{attrs:{span:\"4\"}},[e(\"span\",{staticStyle:{\"line-height\":\"24px\"}},[t._v(\"开始时间\")])]),t._v(\" \"),e(\"Col\",{attrs:{span:\"20\"}},[e(\"DatePicker\",{staticStyle:{width:\"180px\"},attrs:{size:\"small\",type:\"datetime\",readonly:\"\"},model:{value:t.data.taskData[0].expect_start_date,callback:function(a){t.$set(t.data.taskData[0],\"expect_start_date\",a)},expression:\"data.taskData[0].expect_start_date\"}})],1)],1),t._v(\" \"),e(\"Row\",{staticStyle:{\"margin-top\":\"20px\"},attrs:{gutter:20}},[e(\"Col\",{attrs:{span:\"4\"}},[e(\"span\",{staticStyle:{\"line-height\":\"24px\"}},[t._v(\"提醒时间\")])]),t._v(\" \"),e(\"Col\",{attrs:{span:\"20\"}},[e(\"DatePicker\",{staticStyle:{width:\"180px\"},attrs:{size:\"small\",type:\"datetime\",readonly:\"\"},model:{value:t.data.taskData[0].plan_date,callback:function(a){t.$set(t.data.taskData[0],\"plan_date\",a)},expression:\"data.taskData[0].plan_date\"}})],1)],1),t._v(\" \"),e(\"Row\",{staticStyle:{\"margin-top\":\"20px\"},attrs:{gutter:20}},[e(\"Col\",{attrs:{span:\"4\"}},[e(\"span\",{staticStyle:{\"line-height\":\"24px\"}},[t._v(\"任务详情\")])]),t._v(\" \"),e(\"Col\",{attrs:{span:\"20\"}},[e(\"Input\",{staticStyle:{width:\"180px\"},attrs:{size:\"small\",type:\"textarea\",row:5,readonly:\"\",autosize:\"\"},model:{value:t.data.taskData[0].task_content,callback:function(a){t.$set(t.data.taskData[0],\"task_content\",a)},expression:\"data.taskData[0].task_content\"}})],1)],1),t._v(\" \"),e(\"Row\",{staticStyle:{\"margin-top\":\"20px\"},attrs:{gutter:20}},[e(\"Col\",{attrs:{span:\"4\"}},[e(\"span\",{staticStyle:{\"line-height\":\"24px\"}},[t._v(\"任务状态\")])]),t._v(\" \"),e(\"Col\",{attrs:{span:\"20\"}},[e(\"Select\",{staticStyle:{width:\"180px\"},attrs:{size:\"small\"},model:{value:t.data.taskData[0].task_stage,callback:function(a){t.$set(t.data.taskData[0],\"task_stage\",a)},expression:\"data.taskData[0].task_stage\"}},t._l(t.taskStage,function(a){return e(\"Option\",{key:a.id,attrs:{value:a.typecode}},[t._v(t._s(a.typename))])}),1)],1)],1),t._v(\" \"),e(\"Row\",{staticStyle:{\"margin-top\":\"20px\"},attrs:{gutter:20}},[e(\"Col\",{attrs:{span:\"4\"}},[e(\"span\",{staticStyle:{\"line-height\":\"24px\"}},[t._v(\"任务总结\")])]),t._v(\" \"),e(\"Col\",{attrs:{span:\"20\"}},[e(\"Input\",{staticStyle:{width:\"180px\"},attrs:{size:\"small\",type:\"textarea\",row:5,placeholder:\"变更状态时，需要填写！（完成时填写总结，取消或终止时请输入原因！）\"},model:{value:t.task_memo,callback:function(a){t.task_memo=a},expression:\"task_memo\"}})],1)],1),t._v(\" \"),e(\"Row\",{staticStyle:{\"margin-top\":\"40px\"}},[e(\"Button\",{staticStyle:{\"margin-left\":\"40px\"},attrs:{type:\"primary\",disabled:t.openSubmit,loading:t.loading},on:{click:t.update_task}},[t._v(\"修改\")])],1)],1),t._v(\" \"),e(\"Row\",{staticStyle:{\"margin-top\":\"20px\"}},[e(\"Tabs\",{attrs:{value:\"1\",size:\"small\"}},[e(\"TabPane\",{attrs:{label:\"日志\",name:\"1\"}},[e(\"Timeline\",t._l(t.data.log,function(a,n){return e(\"TimelineItem\",{key:n},[e(\"Row\",{attrs:{gutter:20}},[e(\"Col\",{attrs:{span:\"12\"}},[t._v(t._s(a.log_content))]),t._v(\" \"),e(\"Col\",{attrs:{span:\"12\"}},[t._v(t._s(a.log_date))])],1),t._v(\" \"),a.change_reason?e(\"Row\",{attrs:{gutter:20}},[e(\"Col\",[t._v(\"备注：\"+t._s(a.change_reason))])],1):t._e()],1)}),1)],1),t._v(\" \"),e(\"TabPane\",{attrs:{label:\"讨论\",name:\"2\"}},[e(\"Row\",{staticStyle:{\"padding-bottom\":\"10px\",\"padding-top\":\"5px\"}},[e(\"Input\",{staticStyle:{width:\"90%\",\"padding-right\":\"20px\"},attrs:{size:\"small\",placeholder:\"请输入内容参与讨论！\"},model:{value:t.discuss.content,callback:function(a){t.$set(t.discuss,\"content\",a)},expression:\"discuss.content\"}},[e(\"Button\",{attrs:{slot:\"append\",loading:t.discussLoading,type:\"primary\",size:\"small\"},on:{click:t.submit_discuss},slot:\"append\"},[t._v(\"发送\")])],1),t._v(\" \"),e(\"Rate\",{attrs:{size:\"small\"},model:{value:t.discuss.rate,callback:function(a){t.$set(t.discuss,\"rate\",a)},expression:\"discuss.rate\"}})],1),t._v(\" \"),e(\"Timeline\",t._l(t.data.discuss,function(a,n){return e(\"TimelineItem\",{key:n},[e(\"Row\",{attrs:{gutter:20}},[e(\"Col\",{attrs:{span:\"12\"}},[t._v(t._s(a.creator_name))]),t._v(\" \"),e(\"Col\",{attrs:{span:\"12\"}},[t._v(t._s(a.creator_date))])],1),t._v(\" \"),e(\"Row\",{staticStyle:{\"margin-top\":\"5px\"},attrs:{gutter:20}},[e(\"Col\",{attrs:{span:\"24\"}},[t._v(t._s(a.content))]),t._v(\" \"),e(\"Col\",{attrs:{span:\"12\"}},[e(\"Rate\",{attrs:{disabled:\"\",value:a.evaluation/10,size:\"small\"}})],1)],1)],1)}),1)],1),t._v(\" \"),e(\"TabPane\",{attrs:{label:\"最近跟进\",name:\"3\"}},[e(\"div\",[e(\"Timeline\",[e(\"TimelineItem\",[e(\"Row\",{attrs:{gutter:20}},[e(\"Col\",{attrs:{span:\"12\"}},[t._v(t._s(t.followUpContent.userName))]),t._v(\" \"),e(\"Col\",{attrs:{span:\"12\"}},[t._v(t._s(t.followUpContent.createdate))])],1),t._v(\" \"),e(\"Row\",{attrs:{gutter:20}},[e(\"Col\",{attrs:{span:\"12\"}},[t._v(t._s(t.followUpContent.followTypeName))]),t._v(\" \"),e(\"Col\",{attrs:{span:\"12\"}},[t._v(t._s(t.followUpContent.serviceContent))])],1)],1)],1)],1)])],1)],1)],1),t._v(\" \"),e(\"div\",{attrs:{slot:\"footer\"},slot:\"footer\"})])],1)},[],!1,null,null,null));I.options.__file=\"detailTask.vue\";var x={name:\"missionManagement_index\",components:{all:l,importance:d,importantAndPrimary:_,normal:g,primary:y,DetailTask:I.exports},data:function(){return{createLoading:!1,label:[\"领导\",\"领导2\",\"领导3\"],companyLoading:!1,userLoading:!1,newMission:{taskName:\"\",taskContent:\"\",planDate:new Date,specificDate:\"\",taskLevel:\"importance\",taskDesCode:\"\",taskKind:\"tkFollow\",taskStage:\"\",followResult:\"\",followUpType:\"\",companyId:\"\",executorId:localStorage.getItem(\"id\")},openAddMission:!1,taskLevel:[],taskDesCode:[],taskKind:[],taskStage:[],market_status:[],markert_follow_up_type:[],taskLevel_map:new Map,taskDesCode_map:new Map,taskKind_map:new Map,taskStage_map:new Map,market_status_map:new Map,markert_follow_up_type_map:new Map,companyList:[],userList:[{id:localStorage.getItem(\"id\"),realname:localStorage.getItem(\"realname\")}],allUserList:[],allUserList_map:new Map}},methods:{open_add_mission:function(){this.openAddMission=!0},get_data_center:function(){var t=this;this.$GetDataCenter(\"taskLevel,taskDesCode,taskKind,taskStage,market_status,markert_follow_up_type\",function(a){t.taskLevel=a.data.data.taskLevel,t.taskDesCode=a.data.data.taskDesCode,t.taskKind=a.data.data.taskKind,t.taskStage=a.data.data.taskStage,t.market_status=a.data.data.market_status,t.markert_follow_up_type=a.data.data.markert_follow_up_type,t.taskLevel_map=t.$array2map(t.taskLevel),t.taskDesCode_map=t.$array2map(t.taskDesCode),t.taskKind_map=t.$array2map(t.taskKind),t.taskStage_map=t.$array2map(t.taskStage),t.market_status_map=t.$array2map(t.market_status),t.markert_follow_up_type_map=t.$array2map(t.markert_follow_up_type)})},get_company:function(t){var a=this;a.companyLoading=!0;var e={params:{page:1,pageSize:10,companyname:t}};this.$Get(\"api/customer/company/list\",e,function(t){a.companyLoading=!1,a.companyList=t.data.data.rows})},get_user:function(t){var a=this;a.userLoading=!0;var e={params:{page:1,pageSize:5,realname:t}};this.$Get(\"api/user/list\",e,function(t){a.userLoading=!1,a.userList=t.data.data.rows})},get_all_user:function(){var t=this;this.$Get(\"api/user/list\",{params:{page:1,pageSize:1e3}},function(a){t.allUserList=a.data.data.rows;for(var e=0;e<t.allUserList.length;e++)t.allUserList_map.set(t.allUserList[e].id.toString(),t.allUserList[e].realname)})},create_task:function(){var t=this;t.createLoading=!0;var a={taskName:t.newMission.taskName,companyId:t.newMission.companyId,executorId:t.newMission.executorId,executorName:t.allUserList_map.get(t.newMission.executorId.toString()),taskContent:t.newMission.taskContent,taskLevel:t.newMission.taskLevel,planDate:Object(n.d)(t.newMission.planDate),taskKind:t.newMission.taskKind,taskStage:\"tesUnstarted\",taskLevelName:t.taskLevel_map.get(t.newMission.taskLevel),taskKindName:t.taskKind_map.get(t.newMission.taskKind),taskStageName:\"未开始\",creatorName:localStorage.getItem(\"realname\")};this.$Post(\"api/task/addTask\",a,function(a){t.createLoading=!1,t.openAddMission=!1,t.$bus.emit(\"UPDATE_TASK_LIST_DEMO\",!0),t.cancel_task()},function(a){t.createLoading=!1})},cancel_task:function(){this.$refs.newMission.resetFields()}},created:function(){this.get_data_center(),this.get_all_user()}},w=Object(o.a)(x,function(){var t=this,a=t.$createElement,e=t._self._c||a;return e(\"Card\",[e(\"Row\",{staticStyle:{\"margin-bottom\":\"10px\"}},[e(\"ButtonGroup\",[e(\"Button\",{attrs:{type:\"primary\"},on:{click:t.open_add_mission}},[t._v(\"新增任务\")])],1)],1),t._v(\" \"),e(\"div\",[e(\"Tabs\",{attrs:{value:\"6\"}},[e(\"TabPane\",{attrs:{label:\"全部任务\",name:\"6\"}},[e(\"all\",{attrs:{taskKind:t.taskKind,taskStage:t.taskStage}})],1),t._v(\" \"),e(\"TabPane\",{attrs:{label:\"重要且紧急\",name:\"1\"}},[e(\"important-and-primary\",{attrs:{taskKind:t.taskKind,taskStage:t.taskStage}})],1),t._v(\" \"),e(\"TabPane\",{attrs:{label:\"非常紧急\",name:\"2\"}},[e(\"primary\",{attrs:{taskKind:t.taskKind,taskStage:t.taskStage}})],1),t._v(\" \"),e(\"TabPane\",{attrs:{label:\"非常重要\",name:\"3\"}},[e(\"importance\",{attrs:{taskKind:t.taskKind,taskStage:t.taskStage}})],1),t._v(\" \"),e(\"TabPane\",{attrs:{label:\"一般\",name:\"4\"}},[e(\"normal\",{attrs:{taskKind:t.taskKind,taskStage:t.taskStage}})],1)],1)],1),t._v(\" \"),e(\"Modal\",{attrs:{title:\"新增任务\",width:\"800\",\"mask-closable\":!1},model:{value:t.openAddMission,callback:function(a){t.openAddMission=a},expression:\"openAddMission\"}},[e(\"Form\",{ref:\"newMission\",staticStyle:{\"margin-left\":\"50px\",\"margin-right\":\"50px\"},attrs:{model:t.newMission,\"label-width\":80}},[e(\"FormItem\",{attrs:{label:\"任务名称\",prop:\"taskName\"}},[e(\"Input\",{model:{value:t.newMission.taskName,callback:function(a){t.$set(t.newMission,\"taskName\",a)},expression:\"newMission.taskName\"}})],1),t._v(\" \"),e(\"FormItem\",{attrs:{label:\"任务对象\",prop:\"companyId\"}},[e(\"Select\",{attrs:{placeholder:\"输入公司名称搜索\",filterable:\"\",remote:\"\",\"remote-method\":t.get_company,loading:t.companyLoading},model:{value:t.newMission.companyId,callback:function(a){t.$set(t.newMission,\"companyId\",a)},expression:\"newMission.companyId\"}},t._l(t.companyList,function(a){return e(\"Option\",{key:a.id,attrs:{value:a.id}},[t._v(t._s(a.companyname))])}),1)],1),t._v(\" \"),e(\"FormItem\",{attrs:{label:\"执行者\",prop:\"executorId\"}},[e(\"Select\",{attrs:{placeholder:\"执行者\",filterable:\"\",remote:\"\",\"remote-method\":t.get_user,loading:t.userLoading},model:{value:t.newMission.executorId,callback:function(a){t.$set(t.newMission,\"executorId\",a)},expression:\"newMission.executorId\"}},t._l(t.userList,function(a){return e(\"Option\",{key:a.id,attrs:{value:a.id,label:a.realname}},[e(\"span\",[t._v(t._s(a.realname))]),t._v(\" \"),e(\"span\",{staticStyle:{float:\"right\",color:\"#ccc\"}},[t._v(t._s(a.departname))])])}),1)],1),t._v(\" \"),e(\"FormItem\",{attrs:{label:\"任务详情\",prop:\"taskContent\"}},[e(\"Input\",{attrs:{type:\"textarea\",rows:3},model:{value:t.newMission.taskContent,callback:function(a){t.$set(t.newMission,\"taskContent\",a)},expression:\"newMission.taskContent\"}})],1),t._v(\" \"),e(\"Row\",{attrs:{gutter:12}},[e(\"Col\",{attrs:{span:\"12\"}},[e(\"FormItem\",{attrs:{label:\"执行时间\",prop:\"planDate\"}},[e(\"DatePicker\",{staticStyle:{width:\"100%\"},attrs:{type:\"datetime\"},model:{value:t.newMission.planDate,callback:function(a){t.$set(t.newMission,\"planDate\",a)},expression:\"newMission.planDate\"}})],1)],1)],1),t._v(\" \"),e(\"Row\",{attrs:{gutter:12}},[e(\"Col\",{attrs:{span:\"12\"}},[e(\"FormItem\",{attrs:{label:\"任务级别\",prop:\"taskLevel\"}},[e(\"Select\",{attrs:{type:\"text\",transfer:\"\"},model:{value:t.newMission.taskLevel,callback:function(a){t.$set(t.newMission,\"taskLevel\",a)},expression:\"newMission.taskLevel\"}},t._l(t.taskLevel,function(a,n){return e(\"Option\",{key:n,attrs:{value:a.typecode}},[t._v(t._s(a.typename))])}),1)],1)],1),t._v(\" \"),e(\"Col\",{attrs:{span:\"12\"}},[e(\"FormItem\",{attrs:{label:\"任务类型\",prop:\"taskKind\"}},[e(\"Select\",{model:{value:t.newMission.taskKind,callback:function(a){t.$set(t.newMission,\"taskKind\",a)},expression:\"newMission.taskKind\"}},t._l(t.taskKind,function(a,n){return e(\"Option\",{key:n,attrs:{value:a.typecode}},[t._v(t._s(a.typename))])}),1)],1)],1)],1),t._v(\" \"),e(\"Row\",{attrs:{gutter:12}})],1),t._v(\" \"),e(\"div\",{attrs:{slot:\"footer\"},slot:\"footer\"},[e(\"Button\",{attrs:{type:\"primary\",loading:t.createLoading},on:{click:t.create_task}},[t._v(\"新增\")]),t._v(\" \"),e(\"Button\",{attrs:{type:\"ghost\"},on:{click:t.cancel_task}},[t._v(\"清空\")])],1)],1),t._v(\" \"),e(\"detail-task\")],1)},[],!1,null,null,null);w.options.__file=\"index.vue\";a.default=w.exports}}]);"}