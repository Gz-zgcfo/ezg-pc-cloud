{"source":"(window.webpackJsonp=window.webpackJsonp||[]).push([[38],{395:function(a,t,e){\"use strict\";e.r(t);var o={data:function(){return{data:[],header:[{title:\"公司名称\",key:\"companyname\"}],total:0,page:1,pageSize:10,loading:!1,search_model:\"\",formValidateSearch:{companyName:\"\",type:\"\"}}},methods:{Search:function(){this.page=1,this.get_data()},pageChange:function(a){this.page=a,this.get_data()},handleReset:function(){this.page=1,this.$refs.formValidateSearch.resetFields(),this.get_data()},get_data:function(){var a,t=this;t.loading=!0,a=\"notInRelation\"==t.formValidateSearch.type?{params:{page:t.page,pageSize:t.pageSize,companyName:t.formValidateSearch.companyName,notInRelation:\"1\"}}:\"inRelation\"==t.formValidateSearch.type?{params:{page:t.page,pageSize:t.pageSize,companyName:t.formValidateSearch.companyName,inRelation:\"1\"}}:{params:{page:t.page,pageSize:t.pageSize,companyName:t.formValidateSearch.companyName}},this.$Get(\"api/customer/company/gdetax/companyList\",a,function(a){t.loading=!1,t.total=a.data.data.total,t.data=a.data.data.rows})}},created:function(){this.get_data()}},n=e(2),r=Object(n.a)(o,function(){var a=this,t=a.$createElement,e=a._self._c||t;return e(\"div\",[e(\"Row\",{staticStyle:{\"margin-bottom\":\"10px\"}},[e(\"Collapse\",{model:{value:a.search_model,callback:function(t){a.search_model=t},expression:\"search_model\"}},[e(\"Panel\",{attrs:{name:\"1\"}},[e(\"Icon\",{staticStyle:{\"margin-left\":\"20px\",\"margin-right\":\"5px\"},attrs:{type:\"search\"}}),a._v(\"\\n                        筛选\\n                    \"),e(\"div\",{attrs:{slot:\"content\"},on:{keydown:function(t){return\"button\"in t||!a._k(t.keyCode,\"enter\",13,t.key,\"Enter\")?a.Search(t):null}},slot:\"content\"},[e(\"Form\",{ref:\"formValidateSearch\",attrs:{model:a.formValidateSearch,\"label-width\":100}},[e(\"Row\",{attrs:{gutter:16}},[e(\"Col\",{attrs:{span:\"8\"}},[e(\"FormItem\",{attrs:{label:\"企业名称：\",prop:\"companyName\"}},[e(\"Input\",{attrs:{size:\"small\"},model:{value:a.formValidateSearch.companyName,callback:function(t){a.$set(a.formValidateSearch,\"companyName\",t)},expression:\"formValidateSearch.companyName\"}})],1)],1),a._v(\" \"),e(\"Col\",{attrs:{span:\"8\"}},[e(\"FormItem\",{attrs:{label:\"关联关系：\",prop:\"type\"}},[e(\"Select\",{attrs:{size:\"small\"},model:{value:a.formValidateSearch.type,callback:function(t){a.$set(a.formValidateSearch,\"type\",t)},expression:\"formValidateSearch.type\"}},[e(\"Option\",{attrs:{value:\"all\"}},[a._v(\"全部\")]),a._v(\" \"),e(\"Option\",{attrs:{value:\"inRelation\"}},[a._v(\"关联\")]),a._v(\" \"),e(\"Option\",{attrs:{value:\"notInRelation\"}},[a._v(\"不关联\")])],1)],1)],1)],1),a._v(\" \"),e(\"center\",[e(\"FormItem\",[e(\"Button\",{attrs:{type:\"primary\"},on:{click:a.Search}},[a._v(\"搜索\")]),a._v(\" \"),e(\"Button\",{staticStyle:{\"margin-left\":\"8px\"},attrs:{type:\"ghost\"},on:{click:a.handleReset}},[a._v(\"重置\")])],1)],1)],1)],1)],1)],1)],1),a._v(\" \"),e(\"Row\",{staticStyle:{\"margin-top\":\"10px\"}},[e(\"Table\",{attrs:{loading:a.loading,\"highlight-row\":\"\",size:\"small\",border:\"\",columns:a.header,data:a.data}}),a._v(\" \"),e(\"Page\",{staticStyle:{\"margin-top\":\"10px\",\"padding-bottom\":\"10px\"},attrs:{size:\"small\",total:a.total,\"show-total\":\"\",\"show-elevator\":\"\",current:a.page},on:{\"update:current\":function(t){a.page=t},\"on-change\":a.pageChange}})],1)],1)},[],!1,null,null,null);r.options.__file=\"cycleCompany.vue\";var l=r.exports,i={data:function(){return{data:[],header:[{title:\"序号\",type:\"index\",minWidth:90},{title:\"服务人员\",key:\"kj_name\",minWidth:120},{title:\"企业名称\",key:\"qybdname\",minWidth:250,render:function(a,t){return a(\"div\",t.row.qybdname.split(\"（\")[0])}},{title:\"用户名\",key:\"user_name\",minWidth:150},{title:\"报税税期\",key:\"bs_month\",minWidth:150}],total:0,page:1,pageSize:10,loading:!1,search_model:\"\",formValidateSearch:{companyName:\"\",type:\"\"}}},methods:{Search:function(){this.page=1,this.get_data()},pageChange:function(a){this.page=a,this.get_data()},handleReset:function(){this.page=1,this.$refs.formValidateSearch.resetFields(),this.get_data()},get_data:function(){var a,t=this;t.loading=!0,a=\"notInRelation\"==t.formValidateSearch.type?{params:{page:t.page,pageSize:t.pageSize,qybdName:t.formValidateSearch.companyName,notInRelation:\"1\"}}:\"inRelation\"==t.formValidateSearch.type?{params:{page:t.page,pageSize:t.pageSize,qybdName:t.formValidateSearch.companyName,inRelation:\"1\"}}:{params:{page:t.page,pageSize:t.pageSize,qybdName:t.formValidateSearch.companyName}},this.$Get(\"api/customer/company/gdetax/etaxQyList\",a,function(a){t.loading=!1,t.total=a.data.data.total,t.data=a.data.data.rows})}},created:function(){this.get_data()}},s=Object(n.a)(i,function(){var a=this,t=a.$createElement,e=a._self._c||t;return e(\"div\",[e(\"Row\",{staticStyle:{\"margin-bottom\":\"10px\"}},[e(\"Collapse\",{model:{value:a.search_model,callback:function(t){a.search_model=t},expression:\"search_model\"}},[e(\"Panel\",{attrs:{name:\"1\"}},[e(\"Icon\",{staticStyle:{\"margin-left\":\"20px\",\"margin-right\":\"5px\"},attrs:{type:\"search\"}}),a._v(\"\\n                        筛选\\n                    \"),e(\"div\",{attrs:{slot:\"content\"},on:{keydown:function(t){return\"button\"in t||!a._k(t.keyCode,\"enter\",13,t.key,\"Enter\")?a.Search(t):null}},slot:\"content\"},[e(\"Form\",{ref:\"formValidateSearch\",attrs:{model:a.formValidateSearch,\"label-width\":100}},[e(\"Row\",{attrs:{gutter:16}},[e(\"Col\",{attrs:{span:\"8\"}},[e(\"FormItem\",{attrs:{label:\"企业名称：\",prop:\"companyName\"}},[e(\"Input\",{attrs:{size:\"small\"},model:{value:a.formValidateSearch.companyName,callback:function(t){a.$set(a.formValidateSearch,\"companyName\",t)},expression:\"formValidateSearch.companyName\"}})],1)],1),a._v(\" \"),e(\"Col\",{attrs:{span:\"8\"}},[e(\"FormItem\",{attrs:{label:\"关联关系：\",prop:\"type\"}},[e(\"Select\",{attrs:{size:\"small\"},model:{value:a.formValidateSearch.type,callback:function(t){a.$set(a.formValidateSearch,\"type\",t)},expression:\"formValidateSearch.type\"}},[e(\"Option\",{attrs:{value:\"all\"}},[a._v(\"全部\")]),a._v(\" \"),e(\"Option\",{attrs:{value:\"inRelation\"}},[a._v(\"关联\")]),a._v(\" \"),e(\"Option\",{attrs:{value:\"notInRelation\"}},[a._v(\"不关联\")])],1)],1)],1)],1),a._v(\" \"),e(\"center\",[e(\"FormItem\",[e(\"Button\",{attrs:{type:\"primary\"},on:{click:a.Search}},[a._v(\"搜索\")]),a._v(\" \"),e(\"Button\",{staticStyle:{\"margin-left\":\"8px\"},attrs:{type:\"ghost\"},on:{click:a.handleReset}},[a._v(\"重置\")])],1)],1)],1)],1)],1)],1)],1),a._v(\" \"),e(\"Row\",{staticStyle:{\"margin-top\":\"10px\"}},[e(\"Table\",{attrs:{loading:a.loading,\"highlight-row\":\"\",size:\"small\",border:\"\",columns:a.header,data:a.data}}),a._v(\" \"),e(\"Page\",{staticStyle:{\"margin-top\":\"10px\",\"padding-bottom\":\"10px\"},attrs:{size:\"small\",total:a.total,\"show-total\":\"\",\"show-elevator\":\"\",current:a.page},on:{\"update:current\":function(t){a.page=t},\"on-change\":a.pageChange}})],1)],1)},[],!1,null,null,null);s.options.__file=\"companyList.vue\";var c=s.exports,m={props:{relationData:{type:[Object,String],default:{companyid:\"\",id:\"\",qyname:\"\",companyname:\"\",kj:\"\"}}},data:function(){return{companyList:[],companyLoading:!1,openUpdateRelation:!0,ruleValidate:{},loading:!1}},methods:{valid:function(){var a=this;this.$refs.relationData.validate(function(t){t?a.create_account():a.loading=!1})},create_account:function(){var a=this;a.loading=!0;var t={id:a.relationData.id,companyId:a.relationData.companyid,kj:a.relationData.kj};this.$Post(\"api/customer/company/gdetax/updateEtaxQyAndCompany\",t,function(t){a.loading=!1,a.close()},function(t){a.loading=!1})},close:function(){this.$emit(\"close\")},get_company_list:function(a){var t=this,e=\"api/customer/company/list?page=1&pageSize=10&companyname=\"+a;this.$Get(e,{},function(a){t.companyList=a.data.data.rows})}},created:function(){this.get_company_list(this.relationData.companyname)}},d=Object(n.a)(m,function(){var a=this,t=a.$createElement,e=a._self._c||t;return e(\"div\",[e(\"Modal\",{attrs:{title:\"修改关联关系\",width:\"500\"},on:{\"on-cancel\":a.close},model:{value:a.openUpdateRelation,callback:function(t){a.openUpdateRelation=t},expression:\"openUpdateRelation\"}},[e(\"Form\",{ref:\"relationData\",attrs:{rules:a.ruleValidate,model:a.relationData,\"label-width\":150,\"label-position\":\"right\"}},[e(\"Row\",{attrs:{gutter:16}},[e(\"Col\",{attrs:{span:\"24\"}},[e(\"FormItem\",{attrs:{label:\"税务系统企业名称：\",prop:\"qyname\"}},[e(\"Input\",{attrs:{size:\"small\",readonly:\"\"},model:{value:a.relationData.qyname,callback:function(t){a.$set(a.relationData,\"qyname\",t)},expression:\"relationData.qyname\"}})],1)],1)],1),a._v(\" \"),e(\"Row\",{attrs:{gutter:16}},[e(\"Col\",{attrs:{span:\"24\"}},[e(\"FormItem\",{attrs:{label:\"系统对应企业名称：\",prop:\"companyid\"}},[e(\"Select\",{staticStyle:{width:\"200px\"},attrs:{placeholder:\"输入公司名称搜索\",filterable:\"\",remote:\"\",\"remote-method\":a.get_company_list,loading:a.companyLoading,size:\"small\"},model:{value:a.relationData.companyid,callback:function(t){a.$set(a.relationData,\"companyid\",t)},expression:\"relationData.companyid\"}},a._l(a.companyList,function(t){return e(\"Option\",{key:t.id,attrs:{value:t.id}},[a._v(a._s(t.companyname))])}),1)],1)],1)],1),a._v(\" \"),e(\"Row\",{attrs:{gutter:16}},[e(\"Col\",{attrs:{span:\"24\"}},[e(\"FormItem\",{attrs:{label:\"会计名称：\",prop:\"kj\"}},[e(\"Input\",{attrs:{size:\"small\"},model:{value:a.relationData.kj,callback:function(t){a.$set(a.relationData,\"kj\",t)},expression:\"relationData.kj\"}})],1)],1)],1)],1),a._v(\" \"),e(\"div\",{attrs:{slot:\"footer\"},slot:\"footer\"},[e(\"Button\",{attrs:{type:\"primary\",loading:a.loading},on:{click:a.valid}},[a._v(\"修改\")])],1)],1)],1)},[],!1,null,null,null);d.options.__file=\"updateRelation.vue\";var p={components:{updateRelation:d.exports},data:function(){var a=this;return{data:[],header:[{title:\"序号\",type:\"index\",width:90},{title:\"系统公司名称\",key:\"companyname\",minWidth:250},{title:\"税务局公司名称\",key:\"qyname\",minWidth:300},{title:\"服务人员\",key:\"kj\",minWidth:120},{title:\"操作\",minWidth:150,render:function(t,e){return t(\"div\",[t(\"Button\",{props:{size:\"small\",type:\"primary\"},on:{click:function(){a.currentRow=e.row,a.openUpdateRelation=!0}}},\"修改\"),t(\"Button\",{props:{type:\"warning\",size:\"small\"},style:{marginLeft:\"5px\"}},[t(\"Poptip\",{props:{transfer:!0,confirm:!0,title:\"您确定要删除此关系吗！\"},on:{\"on-ok\":function(){a.del_realation(e.row.id)}}},\"删除\")])])}}],total:0,page:1,pageSize:10,loading:!1,search_model:\"\",formValidateSearch:{companyName:\"\",kj:\"\",qyname:\"\"},currentRow:\"\",openUpdateRelation:!1}},methods:{Search:function(){this.page=1,this.get_data()},pageChange:function(a){this.page=a,this.get_data()},handleReset:function(){this.page=1,this.$refs.formValidateSearch.resetFields(),this.get_data()},get_data:function(){var a=this;a.loading=!0;var t={params:{page:a.page,pageSize:a.pageSize,companyName:a.formValidateSearch.companyName,kj:a.formValidateSearch.kj,qyname:a.formValidateSearch.qyname}};this.$Get(\"api/customer/company/gdetax/etaxQyAndCompanyList\",t,function(t){a.loading=!1,a.total=t.data.data.total,a.data=t.data.data.rows})},del_realation:function(a){var t=this,e={params:{id:a}};this.$Get(\"api/customer/company/gdetax/delEtaxQyAndCompany\",e,function(a){t.get_data()})},close_update_relation:function(){this.openUpdateRelation=!1,this.get_data()}},created:function(){this.get_data()}},u=Object(n.a)(p,function(){var a=this,t=a.$createElement,e=a._self._c||t;return e(\"div\",[e(\"Row\",{staticStyle:{\"margin-bottom\":\"10px\"}},[e(\"Collapse\",{model:{value:a.search_model,callback:function(t){a.search_model=t},expression:\"search_model\"}},[e(\"Panel\",{attrs:{name:\"1\"}},[e(\"Icon\",{staticStyle:{\"margin-left\":\"20px\",\"margin-right\":\"5px\"},attrs:{type:\"search\"}}),a._v(\"\\n                        筛选\\n                    \"),e(\"div\",{attrs:{slot:\"content\"},on:{keydown:function(t){return\"button\"in t||!a._k(t.keyCode,\"enter\",13,t.key,\"Enter\")?a.Search(t):null}},slot:\"content\"},[e(\"Form\",{ref:\"formValidateSearch\",attrs:{model:a.formValidateSearch,\"label-width\":120}},[e(\"Row\",{attrs:{gutter:16}},[e(\"Col\",{attrs:{span:\"8\"}},[e(\"FormItem\",{attrs:{label:\"系统企业名称：\",prop:\"companyName\"}},[e(\"Input\",{attrs:{size:\"small\"},model:{value:a.formValidateSearch.companyName,callback:function(t){a.$set(a.formValidateSearch,\"companyName\",t)},expression:\"formValidateSearch.companyName\"}})],1)],1),a._v(\" \"),e(\"Col\",{attrs:{span:\"8\"}},[e(\"FormItem\",{attrs:{label:\"税务局企业名称：\",prop:\"qyname\"}},[e(\"Input\",{attrs:{size:\"small\"},model:{value:a.formValidateSearch.qyname,callback:function(t){a.$set(a.formValidateSearch,\"qyname\",t)},expression:\"formValidateSearch.qyname\"}})],1)],1),a._v(\" \"),e(\"Col\",{attrs:{span:\"8\"}},[e(\"FormItem\",{attrs:{label:\"服务人员：\",prop:\"kj\"}},[e(\"Input\",{attrs:{size:\"small\"},model:{value:a.formValidateSearch.kj,callback:function(t){a.$set(a.formValidateSearch,\"kj\",t)},expression:\"formValidateSearch.kj\"}})],1)],1)],1),a._v(\" \"),e(\"center\",[e(\"FormItem\",[e(\"Button\",{attrs:{type:\"primary\"},on:{click:a.Search}},[a._v(\"搜索\")]),a._v(\" \"),e(\"Button\",{staticStyle:{\"margin-left\":\"8px\"},attrs:{type:\"ghost\"},on:{click:a.handleReset}},[a._v(\"重置\")])],1)],1)],1)],1)],1)],1)],1),a._v(\" \"),e(\"Row\",{staticStyle:{\"margin-top\":\"10px\"}},[e(\"Table\",{attrs:{loading:a.loading,\"highlight-row\":\"\",size:\"small\",border:\"\",columns:a.header,data:a.data}}),a._v(\" \"),e(\"Page\",{staticStyle:{\"margin-top\":\"10px\",\"padding-bottom\":\"10px\"},attrs:{size:\"small\",total:a.total,\"show-total\":\"\",\"show-elevator\":\"\",current:a.page},on:{\"update:current\":function(t){a.page=t},\"on-change\":a.pageChange}})],1),a._v(\" \"),a.openUpdateRelation?e(\"update-relation\",{attrs:{relationData:a.currentRow},on:{close:a.close_update_relation}}):a._e()],1)},[],!1,null,null,null);u.options.__file=\"relation.vue\";var h=u.exports,f={data:function(){return{openCreateAccount:!0,formValidate:{userName:\"\",passWord:\"\",realName:\"\"},ruleValidate:{userName:[{required:!0,trigger:\"change\",message:\"账号不能为空\"}],passWord:[{required:!0,message:\"密码不能为空\",trigger:\"change\"}]},loading:!1}},methods:{valid:function(){var a=this;this.$refs.formValidate.validate(function(t){t?a.create_account():a.loading=!1})},create_account:function(){var a=this;a.loading=!0;var t={userName:a.formValidate.userName,passWord:a.formValidate.passWord,realName:a.formValidate.realName};this.$Post(\"api/customer/company/gdetax/addEtaxAccounter\",t,function(t){a.loading=!1,a.close()},function(t){a.loading=!1})},close:function(){this.$emit(\"close\")}}},g=Object(n.a)(f,function(){var a=this,t=a.$createElement,e=a._self._c||t;return e(\"div\",[e(\"Modal\",{attrs:{title:\"新增账号\",width:\"500\"},on:{\"on-cancel\":a.close},model:{value:a.openCreateAccount,callback:function(t){a.openCreateAccount=t},expression:\"openCreateAccount\"}},[e(\"Form\",{ref:\"formValidate\",attrs:{rules:a.ruleValidate,model:a.formValidate,\"label-width\":120,\"label-position\":\"right\"}},[e(\"Row\",{attrs:{gutter:16}},[e(\"Col\",{attrs:{span:\"24\"}},[e(\"FormItem\",{attrs:{label:\"账号：\",prop:\"userName\"}},[e(\"Input\",{attrs:{size:\"small\"},model:{value:a.formValidate.userName,callback:function(t){a.$set(a.formValidate,\"userName\",t)},expression:\"formValidate.userName\"}})],1)],1)],1),a._v(\" \"),e(\"Row\",{attrs:{gutter:16}},[e(\"Col\",{attrs:{span:\"24\"}},[e(\"FormItem\",{attrs:{label:\"密码：\",prop:\"passWord\"}},[e(\"Input\",{attrs:{size:\"small\"},model:{value:a.formValidate.passWord,callback:function(t){a.$set(a.formValidate,\"passWord\",t)},expression:\"formValidate.passWord\"}})],1)],1)],1),a._v(\" \"),e(\"Row\",{attrs:{gutter:16}},[e(\"Col\",{attrs:{span:\"24\"}},[e(\"FormItem\",{attrs:{label:\"会计名称：\",prop:\"realName\"}},[e(\"Input\",{attrs:{size:\"small\"},model:{value:a.formValidate.realName,callback:function(t){a.$set(a.formValidate,\"realName\",t)},expression:\"formValidate.realName\"}})],1)],1)],1)],1),a._v(\" \"),e(\"div\",{attrs:{slot:\"footer\"},slot:\"footer\"},[e(\"Button\",{attrs:{type:\"primary\",loading:a.loading},on:{click:a.valid}},[a._v(\"新增\")]),a._v(\" \"),e(\"Button\",{staticStyle:{\"margin-left\":\"8px\"},attrs:{type:\"ghost\"},on:{click:a.close}},[a._v(\"关闭\")])],1)],1)],1)},[],!1,null,null,null);g.options.__file=\"createAccount.vue\";var _=g.exports,y={props:{formValidate:{type:[Object,String],default:{user_name:\"\",pass_word:\"\",real_name:\"\"}}},data:function(){return{openCreateAccount:!0,ruleValidate:{user_name:[{required:!0,trigger:\"change\",message:\"账号不能为空\"}],pass_word:[{required:!0,message:\"密码不能为空\",trigger:\"change\"}]},loading:!1}},methods:{valid:function(){var a=this;this.$refs.formValidate.validate(function(t){t?a.create_account():a.loading=!1})},create_account:function(){var a=this;a.loading=!0;var t={userName:a.formValidate.user_name,passWord:a.formValidate.pass_word,realName:a.formValidate.real_name};this.$Post(\"api/customer/company/gdetax/updateEtaxAccounter\",t,function(t){a.loading=!1,a.close(!0)},function(t){a.loading=!1})},close:function(a){this.$emit(\"close\",a)}}},v=Object(n.a)(y,function(){var a=this,t=a.$createElement,e=a._self._c||t;return e(\"div\",[e(\"Modal\",{attrs:{title:\"修改账号\",width:\"500\"},on:{\"on-cancel\":a.close},model:{value:a.openCreateAccount,callback:function(t){a.openCreateAccount=t},expression:\"openCreateAccount\"}},[e(\"Form\",{ref:\"formValidate\",attrs:{rules:a.ruleValidate,model:a.formValidate,\"label-width\":120,\"label-position\":\"right\"}},[e(\"Row\",{attrs:{gutter:16}},[e(\"Col\",{attrs:{span:\"24\"}},[e(\"FormItem\",{attrs:{label:\"账号：\",prop:\"user_name\"}},[e(\"Input\",{attrs:{size:\"small\",readonly:\"\"},model:{value:a.formValidate.user_name,callback:function(t){a.$set(a.formValidate,\"user_name\",t)},expression:\"formValidate.user_name\"}})],1)],1)],1),a._v(\" \"),e(\"Row\",{attrs:{gutter:16}},[e(\"Col\",{attrs:{span:\"24\"}},[e(\"FormItem\",{attrs:{label:\"密码：\",prop:\"pass_word\"}},[e(\"Input\",{attrs:{size:\"small\"},model:{value:a.formValidate.pass_word,callback:function(t){a.$set(a.formValidate,\"pass_word\",t)},expression:\"formValidate.pass_word\"}})],1)],1)],1),a._v(\" \"),e(\"Row\",{attrs:{gutter:16}},[e(\"Col\",{attrs:{span:\"24\"}},[e(\"FormItem\",{attrs:{label:\"会计名称：\",prop:\"real_name\"}},[e(\"Input\",{attrs:{size:\"small\"},model:{value:a.formValidate.real_name,callback:function(t){a.$set(a.formValidate,\"real_name\",t)},expression:\"formValidate.real_name\"}})],1)],1)],1)],1),a._v(\" \"),e(\"div\",{attrs:{slot:\"footer\"},slot:\"footer\"},[e(\"Button\",{attrs:{type:\"primary\",loading:a.loading},on:{click:a.valid}},[a._v(\"修改\")]),a._v(\" \"),e(\"Button\",{staticStyle:{\"margin-left\":\"8px\"},attrs:{type:\"ghost\"},on:{click:a.close}},[a._v(\"关闭\")])],1)],1)],1)},[],!1,null,null,null);v.options.__file=\"updateAccount.vue\";var S={components:{createAccount:_,updateAccount:v.exports},data:function(){var a=this;return{openCreateAccount:!1,data:[],header:[{title:\"序号\",type:\"index\",width:90},{title:\"账号用户名\",key:\"user_name\",minWidth:250},{title:\"密码\",key:\"pass_word\",minWidth:300},{title:\"备注\",key:\"accounter_name\",minWidth:120},{title:\"服务人员\",key:\"real_name\",minWidth:120},{title:\"操作\",minWidth:150,render:function(t,e){return t(\"div\",[t(\"Button\",{props:{size:\"small\",type:\"primary\"},on:{click:function(){a.currentRow=e.row,a.openUpdateAccount=!0}}},\"编辑\"),t(\"Button\",{props:{type:\"warning\",size:\"small\"},style:{marginLeft:\"5px\"}},[t(\"Poptip\",{props:{transfer:!0,confirm:!0,title:\"您确定要删除此附件吗！\"},on:{\"on-ok\":function(){a.del_account(e.row.user_name)}}},\"删除\")])])}}],total:0,page:1,pageSize:10,loading:!1,search_model:\"\",formValidateSearch:{userName:\"\",realname:\"\"},currentRow:\"\",openUpdateAccount:!1}},methods:{Search:function(){this.page=1,this.get_data()},pageChange:function(a){this.page=a,this.get_data()},handleReset:function(){this.page=1,this.$refs.formValidateSearch.resetFields(),this.get_data()},get_data:function(){var a=this;a.loading=!0;var t={params:{page:a.page,pageSize:a.pageSize,userName:a.formValidateSearch.userName,realName:a.formValidateSearch.realName,sortField:\"id\",order:\"desc\"}};this.$Get(\"api/customer/company/gdetax/etaxAccounterList\",t,function(t){a.loading=!1,a.total=t.data.data.total,a.data=t.data.data.rows})},closeCreateAccount:function(){this.openCreateAccount=!1,this.get_data()},closeUpdateAccount:function(){this.openUpdateAccount=!1,this.get_data()},del_account:function(a){var t=this,e={params:{userName:a}};this.$Get(\"api/customer/company/gdetax/delEtaxAccounter\",e,function(a){t.get_data()})}},created:function(){this.get_data()}},b=Object(n.a)(S,function(){var a=this,t=a.$createElement,e=a._self._c||t;return e(\"div\",[e(\"Row\",{staticStyle:{\"margin-bottom\":\"10px\"}},[e(\"Collapse\",{model:{value:a.search_model,callback:function(t){a.search_model=t},expression:\"search_model\"}},[e(\"Panel\",{attrs:{name:\"1\"}},[e(\"Icon\",{staticStyle:{\"margin-left\":\"20px\",\"margin-right\":\"5px\"},attrs:{type:\"search\"}}),a._v(\"\\n                        筛选\\n                    \"),e(\"div\",{attrs:{slot:\"content\"},on:{keydown:function(t){return\"button\"in t||!a._k(t.keyCode,\"enter\",13,t.key,\"Enter\")?a.Search(t):null}},slot:\"content\"},[e(\"Form\",{ref:\"formValidateSearch\",attrs:{model:a.formValidateSearch,\"label-width\":120}},[e(\"Row\",{attrs:{gutter:16}},[e(\"Col\",{attrs:{span:\"8\"}},[e(\"FormItem\",{attrs:{label:\"账号用户名：\",prop:\"userName\"}},[e(\"Input\",{attrs:{size:\"small\"},model:{value:a.formValidateSearch.userName,callback:function(t){a.$set(a.formValidateSearch,\"userName\",t)},expression:\"formValidateSearch.userName\"}})],1)],1),a._v(\" \"),e(\"Col\",{attrs:{span:\"8\"}},[e(\"FormItem\",{attrs:{label:\"服务人员：\",prop:\"realName\"}},[e(\"Input\",{attrs:{size:\"small\"},model:{value:a.formValidateSearch.realName,callback:function(t){a.$set(a.formValidateSearch,\"realName\",t)},expression:\"formValidateSearch.realName\"}})],1)],1)],1),a._v(\" \"),e(\"center\",[e(\"FormItem\",[e(\"Button\",{attrs:{type:\"primary\"},on:{click:a.Search}},[a._v(\"搜索\")]),a._v(\" \"),e(\"Button\",{staticStyle:{\"margin-left\":\"8px\"},attrs:{type:\"ghost\"},on:{click:a.handleReset}},[a._v(\"重置\")])],1)],1)],1)],1)],1)],1)],1),a._v(\" \"),e(\"Row\",[e(\"Button\",{attrs:{type:\"primary\"},on:{click:function(t){a.openCreateAccount=!0}}},[a._v(\"新增\")])],1),a._v(\" \"),e(\"Row\",{staticStyle:{\"margin-top\":\"10px\"}},[e(\"Table\",{attrs:{loading:a.loading,\"highlight-row\":\"\",size:\"small\",border:\"\",columns:a.header,data:a.data}}),a._v(\" \"),e(\"Page\",{staticStyle:{\"margin-top\":\"10px\",\"padding-bottom\":\"10px\"},attrs:{size:\"small\",total:a.total,\"show-total\":\"\",\"show-elevator\":\"\",current:a.page},on:{\"update:current\":function(t){a.page=t},\"on-change\":a.pageChange}})],1),a._v(\" \"),a.openCreateAccount?e(\"create-account\",{on:{close:a.closeCreateAccount}}):a._e(),a._v(\" \"),a.openUpdateAccount?e(\"update-account\",{attrs:{formValidate:a.currentRow},on:{close:a.closeUpdateAccount}}):a._e()],1)},[],!1,null,null,null);b.options.__file=\"accountList.vue\";var V={name:\"etaxAccount\",components:{cycleCompany:l,companyList:c,relation:h,accountList:b.exports},data:function(){return{tabIndex:\"1\"}}},x=Object(n.a)(V,function(){var a=this,t=a.$createElement,e=a._self._c||t;return e(\"div\",[e(\"Card\",[e(\"Tabs\",{model:{value:a.tabIndex,callback:function(t){a.tabIndex=t},expression:\"tabIndex\"}},[e(\"TabPane\",{attrs:{label:\"税务局账号列表\",name:\"1\"}},[e(\"account-list\")],1),a._v(\" \"),e(\"TabPane\",{attrs:{label:\"税务局企业列表\",name:\"2\"}},[e(\"company-list\")],1),a._v(\" \"),e(\"TabPane\",{attrs:{label:\"税务局账号企业关联\",name:\"3\"}},[e(\"relation\")],1),a._v(\" \"),e(\"TabPane\",{attrs:{label:\"在服企业\",name:\"4\"}},[e(\"cycle-company\")],1)],1)],1)],1)},[],!1,null,null,null);x.options.__file=\"index.vue\";t.default=x.exports}}]);"}