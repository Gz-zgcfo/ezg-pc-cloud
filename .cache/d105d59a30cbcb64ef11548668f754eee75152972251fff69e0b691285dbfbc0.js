{"source":"(window.webpackJsonp=window.webpackJsonp||[]).push([[24],{838:function(e,t,l){\"use strict\";l.r(t);var a={data:function(){return{openCreateTemplate:!1,loading:!1,clueTemplate:{name:\"\",detail:\"\",templateCode:\"\",templateContent:\"\",level:\"\"}}},methods:{create_templ:function(){var t=this;t.loading=!0;var e={name:t.clueTemplate.name,detail:t.clueTemplate.detail,templateCode:t.clueTemplate.templateCode,templateContent:t.clueTemplate.templateContent,level:t.clueTemplate.level};this.$Post(\"api/clue/template/create\",e,function(e){t.loading=!1,t.$refs.clueTemplate.resetFields(),t.openCreateTemplate=!1,t.$emit(\"update\",!0)},function(e){t.loading=!1})}},created:function(){var t=this;this.$bus.on(\"OPEN_CREATE_CLUE_TEMPLATE\",function(e){t.openCreateTemplate=!0})}},o=l(4),p=Object(o.a)(a,function(){var t=this,e=t.$createElement,l=t._self._c||e;return l(\"div\",[l(\"Modal\",{attrs:{width:\"80%\",title:\"创建线索模板\"},model:{value:t.openCreateTemplate,callback:function(e){t.openCreateTemplate=e},expression:\"openCreateTemplate\"}},[l(\"Form\",{ref:\"clueTemplate\",attrs:{model:t.clueTemplate,\"label-width\":120}},[l(\"FormItem\",{attrs:{label:\"模版名称\",prop:\"name\"}},[l(\"Input\",{attrs:{placeholder:\"\",type:\"text\"},model:{value:t.clueTemplate.name,callback:function(e){t.$set(t.clueTemplate,\"name\",e)},expression:\"clueTemplate.name\"}})],1),t._v(\" \"),l(\"FormItem\",{attrs:{label:\"模板详情\",prop:\"detail\"}},[l(\"Input\",{attrs:{placeholder:\"\",type:\"textarea\",rows:3},model:{value:t.clueTemplate.detail,callback:function(e){t.$set(t.clueTemplate,\"detail\",e)},expression:\"clueTemplate.detail\"}})],1),t._v(\" \"),l(\"FormItem\",{attrs:{label:\"模板编码\",prop:\"templateCode\"}},[l(\"Input\",{attrs:{placeholder:\"\",type:\"textarea\",rows:3},model:{value:t.clueTemplate.templateCode,callback:function(e){t.$set(t.clueTemplate,\"templateCode\",e)},expression:\"clueTemplate.templateCode\"}})],1),t._v(\" \"),l(\"FormItem\",{attrs:{label:\"模板代码块\",prop:\"templateContent\"}},[l(\"Input\",{attrs:{placeholder:\"\",type:\"textarea\",rows:10},model:{value:t.clueTemplate.templateContent,callback:function(e){t.$set(t.clueTemplate,\"templateContent\",e)},expression:\"clueTemplate.templateContent\"}})],1),t._v(\" \"),l(\"FormItem\",{attrs:{label:\"模板线索级别\",prop:\"level\"}},[l(\"Input\",{attrs:{placeholder:\"\"},model:{value:t.clueTemplate.level,callback:function(e){t.$set(t.clueTemplate,\"level\",e)},expression:\"clueTemplate.level\"}})],1)],1),t._v(\" \"),l(\"div\",{attrs:{slot:\"footer\"},slot:\"footer\"},[l(\"Button\",{attrs:{type:\"primary\",loading:t.loading},on:{click:t.create_templ}},[t._v(\"新增\")])],1)],1)],1)},[],!1,null,null,null);p.options.__file=\"create.vue\";var n=p.exports,m={data:function(){return{openUpdateTemplate:!1,loading:!1,clueTemplate:{name:\"\",detail:\"\",templateCode:\"\",templateContent:\"\",level:\"\",id:\"\"}}},methods:{update_templ:function(){var t=this;t.loading=!0;var e={name:t.clueTemplate.name,detail:t.clueTemplate.detail,templateCode:t.clueTemplate.templateCode,templateContent:t.clueTemplate.templateContent,level:t.clueTemplate.level,id:t.clueTemplate.id};this.$Post(\"api/clue/template/update\",e,function(e){t.loading=!1,t.$refs.clueTemplate.resetFields(),t.openUpdateTemplate=!1,t.$emit(\"update\",!0)},function(e){t.loading=!1})}},created:function(){var t=this;this.$bus.on(\"OPEN_EDIT_CLUE_TEMPLATE\",function(e){t.clueTemplate=e,t.clueTemplate.templateCode=e.template_code,t.clueTemplate.templateContent=e.template_content,t.openUpdateTemplate=!0})}},r=Object(o.a)(m,function(){var t=this,e=t.$createElement,l=t._self._c||e;return l(\"div\",[l(\"Modal\",{attrs:{width:\"80%\",title:\"修改线索模板\"},model:{value:t.openUpdateTemplate,callback:function(e){t.openUpdateTemplate=e},expression:\"openUpdateTemplate\"}},[l(\"Form\",{ref:\"clueTemplate\",attrs:{model:t.clueTemplate,\"label-width\":120}},[l(\"FormItem\",{attrs:{label:\"模版名称\",prop:\"name\"}},[l(\"Input\",{attrs:{placeholder:\"\",type:\"text\"},model:{value:t.clueTemplate.name,callback:function(e){t.$set(t.clueTemplate,\"name\",e)},expression:\"clueTemplate.name\"}})],1),t._v(\" \"),l(\"FormItem\",{attrs:{label:\"模板详情\",prop:\"detail\"}},[l(\"Input\",{attrs:{placeholder:\"\",type:\"textarea\",rows:3},model:{value:t.clueTemplate.detail,callback:function(e){t.$set(t.clueTemplate,\"detail\",e)},expression:\"clueTemplate.detail\"}})],1),t._v(\" \"),l(\"FormItem\",{attrs:{label:\"模板编码\",prop:\"templateCode\"}},[l(\"Input\",{attrs:{placeholder:\"\",type:\"textarea\",rows:3},model:{value:t.clueTemplate.templateCode,callback:function(e){t.$set(t.clueTemplate,\"templateCode\",e)},expression:\"clueTemplate.templateCode\"}})],1),t._v(\" \"),l(\"FormItem\",{attrs:{label:\"模板代码块\",prop:\"\\ttemplateContent\"}},[l(\"Input\",{attrs:{placeholder:\"\",type:\"textarea\",rows:10},model:{value:t.clueTemplate.templateContent,callback:function(e){t.$set(t.clueTemplate,\"templateContent\",e)},expression:\"clueTemplate.templateContent\"}})],1),t._v(\" \"),l(\"FormItem\",{attrs:{label:\"模板线索级别\",prop:\"level\"}},[l(\"Input\",{attrs:{placeholder:\"\"},model:{value:t.clueTemplate.level,callback:function(e){t.$set(t.clueTemplate,\"level\",e)},expression:\"clueTemplate.level\"}})],1)],1),t._v(\" \"),l(\"div\",{attrs:{slot:\"footer\"},slot:\"footer\"},[l(\"Button\",{attrs:{type:\"primary\",loading:t.loading},on:{click:t.update_templ}},[t._v(\"修改\")])],1)],1)],1)},[],!1,null,null,null);r.options.__file=\"update.vue\";var c=r.exports,i={data:function(){return{openShowTemplate:!1,loading:!1,clueTemplate:{name:\"\",detail:\"\",templateCode:\"\",templateContent:\"\",level:\"\",id:\"\"}}},methods:{},created:function(){var t=this;this.$bus.on(\"OPEN_SHOW_CLUE_TEMPLATE\",function(e){t.clueTemplate=e,t.clueTemplate.templateCode=e.template_code,t.clueTemplate.templateContent=e.template_content,t.openShowTemplate=!0})}},u=Object(o.a)(i,function(){var t=this,e=t.$createElement,l=t._self._c||e;return l(\"div\",[l(\"Modal\",{attrs:{width:\"80%\",title:\"查看线索模板\"},model:{value:t.openShowTemplate,callback:function(e){t.openShowTemplate=e},expression:\"openShowTemplate\"}},[l(\"Form\",{ref:\"clueTemplate\",attrs:{model:t.clueTemplate,\"label-width\":120}},[l(\"FormItem\",{attrs:{label:\"模版名称\",prop:\"name\"}},[l(\"Input\",{attrs:{placeholder:\"\",type:\"text\",readonly:\"\"},model:{value:t.clueTemplate.name,callback:function(e){t.$set(t.clueTemplate,\"name\",e)},expression:\"clueTemplate.name\"}})],1),t._v(\" \"),l(\"FormItem\",{attrs:{label:\"模板详情\",prop:\"detail\"}},[l(\"Input\",{attrs:{placeholder:\"\",type:\"textarea\",rows:3,readonly:\"\"},model:{value:t.clueTemplate.detail,callback:function(e){t.$set(t.clueTemplate,\"detail\",e)},expression:\"clueTemplate.detail\"}})],1),t._v(\" \"),l(\"FormItem\",{attrs:{label:\"模板编码\",prop:\"templateCode\"}},[l(\"Input\",{attrs:{placeholder:\"\",type:\"textarea\",rows:3,readonly:\"\"},model:{value:t.clueTemplate.templateCode,callback:function(e){t.$set(t.clueTemplate,\"templateCode\",e)},expression:\"clueTemplate.templateCode\"}})],1),t._v(\" \"),l(\"FormItem\",{attrs:{label:\"模板代码块\",prop:\"\\ttemplateContent\"}},[l(\"Input\",{attrs:{placeholder:\"\",type:\"textarea\",rows:10,readonly:\"\"},model:{value:t.clueTemplate.templateContent,callback:function(e){t.$set(t.clueTemplate,\"templateContent\",e)},expression:\"clueTemplate.templateContent\"}})],1),t._v(\" \"),l(\"FormItem\",{attrs:{label:\"模板线索级别\",prop:\"level\"}},[l(\"Input\",{attrs:{placeholder:\"\",readonly:\"\"},model:{value:t.clueTemplate.level,callback:function(e){t.$set(t.clueTemplate,\"level\",e)},expression:\"clueTemplate.level\"}})],1)],1),t._v(\" \"),l(\"div\",{attrs:{slot:\"footer\"},slot:\"footer\"})],1)],1)},[],!1,null,null,null);u.options.__file=\"show.vue\";var s={name:\"clueLibraryTemplate_index\",components:{createTemplate:n,updateTemplate:c,showTemplate:u.exports},data:function(){var l=this;return{loading:!1,pageSize:10,page:1,total:0,data:[],header:[{title:\"模板名称\",key:\"name\",width:200},{title:\"模板详情\",key:\"detail\",width:300},{title:\"创建时间\",key:\"createdate\",width:200},{title:\"更新时间\",key:\"updatedate\",width:200},{title:\"操作\",width:200,align:\"center\",render:function(e,t){return e(\"div\",[e(\"Button\",{props:{type:\"text\",size:\"small\"},style:{marginRight:\"5px\"},on:{click:function(){l.edit_tempalte(t)}}},\"[ 编辑 ]\"),e(\"Button\",{props:{type:\"text\",size:\"small\",disabled:new Boolean(1)},style:{marginRight:\"5px\"},on:{click:function(){l.$Message.warning(\"此功能暂未上线！\")}}},\"[ 删除 ]\")])}}]}},methods:{get_data:function(){var t=this;t.loading=!0;var e={params:{page:t.page,pageSize:t.pageSize,sortField:\"updatedate\",order:\"desc\"}};this.$Get(\"api/clue/template/list\",e,function(e){t.data=e.data.data.rows,t.total=e.data.data.total,t.loading=!1})},pageChange:function(e){this.page=e,this.get_data()},create_template:function(){this.$bus.emit(\"OPEN_CREATE_CLUE_TEMPLATE\",!0)},edit_tempalte:function(e){this.$bus.emit(\"OPEN_EDIT_CLUE_TEMPLATE\",e.row)},show_template:function(e){this.$bus.emit(\"OPEN_SHOW_CLUE_TEMPLATE\",e)}},created:function(){this.get_data()}},d=Object(o.a)(s,function(){var e=this,t=e.$createElement,l=e._self._c||t;return l(\"div\",[l(\"Card\",[l(\"Row\",[l(\"ButtonGroup\",{staticStyle:{float:\"left\"}},[l(\"Button\",{attrs:{type:\"primary\",icon:\"information-circled\"},on:{click:e.create_template}},[e._v(\"新增模板\")])],1)],1),e._v(\" \"),l(\"Table\",{staticStyle:{\"margin-top\":\"10px\"},attrs:{\"highlight-row\":\"\",data:e.data,columns:e.header},on:{\"on-row-dblclick\":e.show_template}}),e._v(\" \"),l(\"Page\",{staticStyle:{\"margin-top\":\"10px\"},attrs:{placement:\"top\",total:e.total,loading:e.loading,current:e.page,\"show-elevator\":\"\",size:\"small\"},on:{\"on-change\":e.pageChange}})],1),e._v(\" \"),l(\"create-template\",{on:{update:e.get_data}}),e._v(\" \"),l(\"update-template\",{on:{update:e.get_data}}),e._v(\" \"),l(\"show-template\")],1)},[],!1,null,null,null);d.options.__file=\"index.vue\";t.default=d.exports}}]);"}