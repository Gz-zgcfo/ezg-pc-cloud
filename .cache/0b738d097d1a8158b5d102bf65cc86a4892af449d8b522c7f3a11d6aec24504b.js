{"source":"(window.webpackJsonp=window.webpackJsonp||[]).push([[16],{406:function(t,e,a){},424:function(t,e,a){\"use strict\";var i=a(406);a.n(i).a},800:function(t,e,a){\"use strict\";a.r(e);var i=a(403),r=a.n(i),n={components:{VePie:r.a},props:{date:{type:Array},type:{type:String}},data:function(){return this.chartSettings={legendName:{},opacity:.5},{chartData:{columns:[\"name\",\"value\"],rows:[]}}},methods:{get_pie_chart:function(){var e=this,t={params:{begin_date:e.date[0],end_date:e.date[1],resulttype:e.type}};this.$Get(\"api/order/bussiness/index/field/analysis/report\",t,function(t){e.chartData.rows=t.data.data})}},created:function(){this.get_pie_chart()},watch:{date:\"get_pie_chart\",type:\"get_pie_chart\"}},s=a(4),o=Object(s.a)(n,function(){var t=this,e=t.$createElement;return(t._self._c||e)(\"ve-pie\",{attrs:{data:t.chartData,settings:t.chartSettings}})},[],!1,null,null,null);o.options.__file=\"field_anaylist.vue\";var l=o.exports,d={components:{VePie:r.a},props:{date:{type:Array},type:{type:String}},data:function(){return this.chartSettings={legendName:{},opacity:.5},{chartData:{columns:[\"name\",\"value\"],rows:[]}}},methods:{get_pie_chart:function(){var e=this,t={params:{begin_date:e.date[0],end_date:e.date[1],resulttype:e.type}};this.$Get(\"api/order/bussiness/index/work/order/analysis/report\",t,function(t){e.chartData.rows=t.data.data})}},created:function(){this.get_pie_chart()},watch:{date:\"get_pie_chart\",type:\"get_pie_chart\"}},p=Object(s.a)(d,function(){var t=this.$createElement;return(this._self._c||t)(\"ve-pie\",{attrs:{data:this.chartData,settings:this.chartSettings}})},[],!1,null,null,null);p.options.__file=\"workorder_anaylist.vue\";var c=p.exports,u={props:{date:{type:Array},type:{type:String}},data:function(){return{table_loading:!1,pageTotal:new Number,page:1,pageSize:10,header:[{title:\"服务人员\",key:\"realname\"},{title:\"命中外勤\",key:\"hit\"},{title:\"有效外勤\",key:\"valid\"},{title:\"无效外勤\",key:\"invalid\"},{title:\"完成工单\",key:\"finished_workorder\"},{title:\"新增工单\",key:\"new_workorder\"},{title:\"其他\",key:\"other\"}],data:[]}},methods:{getData:function(){var e=this;e.table_loading=!0;var t={params:{begin_date:e.date[0],end_date:e.date[1],resulttype:e.type}};this.$Get(\"api/order/bussiness/index/work/order/analysis/list\",t,function(t){e.table_loading=!1,e.data=t.data.data})}},created:function(){this.getData()},watch:{date:\"getData\",type:\"getData\"}},h=Object(s.a)(u,function(){var t=this,e=t.$createElement,a=t._self._c||e;return a(\"div\",[a(\"Table\",{attrs:{columns:t.header,data:t.data,loading:t.table_loading}})],1)},[],!1,null,null,null);h.options.__file=\"personSumTable.vue\";var y=h.exports,m={components:{},data:function(){return{data:[],columns:[{title:\"用户名\",key:\"realname\",minWidth:120},{title:\"全部\",key:\"all_num\",minWidth:120},{title:\"公司注册\",key:\"gszc_num\",minWidth:120},{title:\"公司注销\",key:\"zx_num\",minWidth:120},{title:\"变更\",key:\"bgfw_num\",minWidth:120},{title:\"其他\",key:\"other_num\",minWidth:129}]}},methods:{get_data:function(){var e=this;e.loading=!0,this.$Get(\"api/order/bussiness/index/work/order/product/type/report\",{params:{page:1,pageSize:10}},function(t){e.loading=!1,e.data=t.data.data.rows})}},created:function(){this.get_data()}},_=Object(s.a)(m,function(){var t=this.$createElement,e=this._self._c||t;return e(\"div\",[e(\"Table\",{attrs:{columns:this.columns,data:this.data}})],1)},[],!1,null,null,null);_.options.__file=\"detailAnalysis.vue\";var g={components:{fieldAnaylist:l,workorderAnaylist:c,personSumTable:y,detailAnalysis:_.exports},data:function(){return{count:\"\",teamCount:\"\",index:\"\",operatorId:\"\",validTimes:\"\",avagPersonValid:\"\",avagTeamValid:\"\",details:\"\",type:\"\",dataRange:[],dateTemp:[],dataAnalyz:[],workorderTip:!1,header:[{title:\"工单状态\",key:\"name\"},{title:\"数量\",key:\"value\"}]}},methods:{date_change:function(t){this.dateTemp=[],this.dateTemp.push(t[0]),this.dateTemp.push(t[1])},open_every_analyz:function(){var e=this;this.$http.get(\"api/order/bussiness/index/work/order/analysis/dataReport\").then(function(t){\"40000\"==t.data.msgCode?(e.workorderTip=!0,e.dataAnalyz=t.data.data):e.workorderTip=!1}).catch(function(t){e.workorderTip=!1})},to_workorder_list:function(){this.$router.push({name:\"commercialTaskManagement\"})}},created:function(){this.open_every_analyz()}},v=(a(424),Object(s.a)(g,function(){var e=this,t=e.$createElement,a=e._self._c||t;return a(\"div\",{staticStyle:{\"min-width\":\"1100px\"}},[a(\"Row\",[a(\"Col\",{staticStyle:{\"background-color\":\"#FFFFFF\",padding:\"10px\"},attrs:{span:\"24\"}},[a(\"div\",[a(\"Col\",{staticStyle:{padding:\"20px\"},attrs:{span:\"24\"}},[a(\"center\",[a(\"h2\",[e._v(\"外勤及工单分析\")])])],1),e._v(\" \"),a(\"Col\",{staticStyle:{\"padding-bottom\":\"20px\"},attrs:{span:\"24\"}},[a(\"center\",[a(\"Select\",{staticStyle:{width:\"150px\",\"margin-right\":\"20px\"},attrs:{size:\"small\",placeholder:\"所有\"},model:{value:e.type,callback:function(t){e.type=t},expression:\"type\"}},[a(\"Option\",{attrs:{value:\"\"}},[e._v(\"所有\")]),e._v(\" \"),a(\"Option\",{attrs:{value:\"invalid\"}},[e._v(\"无效\")]),e._v(\" \"),a(\"Option\",{attrs:{value:\"valid\"}},[e._v(\"有效\")]),e._v(\" \"),a(\"Option\",{attrs:{value:\"hit\"}},[e._v(\"命中\")])],1),e._v(\" \"),a(\"DatePicker\",{staticStyle:{width:\"200px\"},attrs:{size:\"small\",type:\"daterange\",placeholder:\"选择日期\",placement:\"bottom\"},on:{\"on-change\":e.date_change},model:{value:e.dataRange,callback:function(t){e.dataRange=t},expression:\"dataRange\"}})],1)],1)],1)])],1),e._v(\" \"),a(\"Row\",{staticClass:\"margin-top-10\",attrs:{gutter:10}},[a(\"Col\",{style:{marginBottom:\"10px\"},attrs:{span:\"12\"}},[a(\"Card\",{staticStyle:{height:\"500px\"}},[a(\"p\",{staticClass:\"card-title\",attrs:{slot:\"title\"},slot:\"title\"},[a(\"Icon\",{attrs:{type:\"android-map\"}}),e._v(\"\\n                    外勤分析\\n                \")],1),e._v(\" \"),a(\"div\",{staticClass:\"data-source-row\"},[a(\"field-anaylist\",{attrs:{date:e.dateTemp,type:e.type}})],1)])],1),e._v(\" \"),a(\"Col\",{style:{marginBottom:\"10px\"},attrs:{span:\"12\"}},[a(\"Card\",{staticStyle:{height:\"500px\"}},[a(\"p\",{staticClass:\"card-title\",attrs:{slot:\"title\"},slot:\"title\"},[a(\"Icon\",{attrs:{type:\"android-map\"}}),e._v(\"\\n                    工单分析\\n                \")],1),e._v(\" \"),a(\"div\",{staticClass:\"data-source-row\"},[a(\"workorder-anaylist\",{attrs:{date:e.dateTemp,type:e.type}})],1)])],1)],1),e._v(\" \"),a(\"Row\",{staticClass:\"margin-top-10\",staticStyle:{height:\"600px\"},attrs:{gutter:10}},[a(\"Col\",{style:{marginBottom:\"10px\"},attrs:{span:\"24\"}},[a(\"Card\",{staticStyle:{height:\"600px\"}},[a(\"div\",{staticClass:\"data-source-row\"},[a(\"person-sum-table\",{attrs:{date:e.dateTemp,type:e.type}})],1)])],1)],1),e._v(\" \"),a(\"Row\",{staticClass:\"margin-top-10\",staticStyle:{height:\"600px\"},attrs:{gutter:10}},[a(\"Col\",{style:{marginBottom:\"10px\"},attrs:{span:\"24\"}},[a(\"Card\",{staticStyle:{height:\"600px\"}},[a(\"div\",{staticClass:\"data-source-row\"},[a(\"detail-analysis\")],1)])],1)],1),e._v(\" \"),a(\"Modal\",{attrs:{title:\"工单提醒\",width:\"400\",closable:!1,\"mask-closable\":!1},model:{value:e.workorderTip,callback:function(t){e.workorderTip=t},expression:\"workorderTip\"}},[a(\"Row\",{attrs:{gutter:16}},[a(\"Table\",{ref:\"selection\",attrs:{\"highlight-row\":\"\",size:\"small\",columns:e.header,data:e.dataAnalyz}})],1),e._v(\" \"),a(\"Row\",{staticStyle:{\"margin-top\":\"20px\"},attrs:{gutter:16}},[a(\"center\",[a(\"Button\",{attrs:{type:\"error\"},on:{click:function(t){e.workorderTip=!1}}},[e._v(\"我知道了！\")]),e._v(\" \"),a(\"Button\",{staticStyle:{\"margin-left\":\"20px\"},attrs:{type:\"primary\"},on:{click:e.to_workorder_list}},[e._v(\"查看详情\")])],1)],1),e._v(\" \"),a(\"div\",{attrs:{slot:\"footer\"},slot:\"footer\"})],1)],1)},[],!1,null,null,null));v.options.__file=\"commercialIndex.vue\";e.default=v.exports}}]);"}