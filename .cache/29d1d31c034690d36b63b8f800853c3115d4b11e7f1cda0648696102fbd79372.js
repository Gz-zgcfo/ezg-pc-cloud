{"source":"(window.webpackJsonp=window.webpackJsonp||[]).push([[62],{870:function(e,t,a){\"use strict\";a.r(t);var o={name:\"tool_product_index\",data:function(){var a=this;return{currentRow:{productname:\"\",concessions:\"\",declaredate:\"\",id:\"\"},submitLoading:!1,editLoading:!1,loading:!1,openCreateProduct:!1,openEditProduct:!1,header:[{title:\"项目名称\",key:\"productname\",minWidth:200},{title:\"优惠补贴\",key:\"concessions\",minWidth:150},{title:\"预计申报时间\",key:\"declaredate\",minWidth:200},{title:\"操作\",key:\"productname\",minWidth:120,render:function(e,t){return e(\"Button\",{props:{type:\"primary\",size:\"small\"},on:{click:function(){a.currentRow.id=t.row.id,a.currentRow.productname=t.row.productname,a.currentRow.concessions=t.row.concessions,a.currentRow.declaredate=t.row.declaredate,a.openEditProduct=!0}}},\"编辑\")}}],total:0,data:[],page:1,openCompanyForm:!0,formValidate:{productname:\"\",concessions:\"\",declaredate:\"\"},ruleValidate:{productname:[{required:!0,message:\"请补全！\",trigger:\"change\"}],concessions:[{required:!0,message:\"请补全！\",trigger:\"change\"}],declaredate:[{required:!0,message:\"请补全！\",trigger:\"change\"}]}}},methods:{get_data:function(){var t=this;t.loading=!0;var e={params:{page:t.page,pageSize:10}};this.$Get(\"api/customer/program/ProgramProductList\",e,function(e){t.total=e.data.data.total,t.data=e.data.data.rows,t.loading=!1})},pageChange:function(e){this.page=e,this.get_data()},submit:function(){var t=this;t.submitLoading=!0;var e={productname:t.formValidate.productname,concessions:t.formValidate.concessions,declaredate:t.formValidate.declaredate};this.$Post(\"api/customer/program/saveProgramProduct\",e,function(e){t.submitLoading=!1,t.get_data(),t.openCreateProduct=!1,t.$refs.formValidate.resetFields()},function(e){t.submitLoading=!1})},edit:function(){var t=this;t.editLoading=!0;var e={id:t.currentRow.id,productname:t.currentRow.productname,concessions:t.currentRow.concessions,declaredate:t.currentRow.declaredate};this.$Post(\"api/customer/program/updateProgramProduct\",e,function(e){t.editLoading=!1,t.get_data(),t.openEditProduct=!1},function(e){t.editLoading=!1})}},created:function(){this.get_data()}},r=a(4),n=Object(r.a)(o,function(){var t=this,e=t.$createElement,a=t._self._c||e;return a(\"div\",[a(\"Card\",[a(\"ButtonGroup\",[a(\"Button\",{attrs:{type:\"primary\",icon:\"ios-color-filter-outline\"},on:{click:function(e){t.openCreateProduct=!0}}},[t._v(\"新增\")])],1),t._v(\" \"),a(\"Row\",{staticStyle:{\"margin-top\":\"10px\"}},[a(\"Table\",{attrs:{\"highlight-row\":\"\",size:\"small\",columns:t.header,data:t.data,loading:t.loading}}),t._v(\" \"),a(\"Page\",{staticStyle:{\"margin-top\":\"10px\"},attrs:{size:\"small\",total:t.total,\"show-total\":\"\",\"show-elevator\":\"\",placement:\"top\"},on:{\"on-change\":t.pageChange}})],1)],1),t._v(\" \"),a(\"Modal\",{attrs:{title:\"新增\",width:\"500\"},model:{value:t.openCreateProduct,callback:function(e){t.openCreateProduct=e},expression:\"openCreateProduct\"}},[a(\"Form\",{ref:\"formValidate\",attrs:{model:t.formValidate,rules:t.ruleValidate,\"label-width\":120}},[a(\"FormItem\",{attrs:{label:\"项目名称：\",prop:\"productname\"}},[a(\"Input\",{attrs:{size:\"small\"},model:{value:t.formValidate.productname,callback:function(e){t.$set(t.formValidate,\"productname\",e)},expression:\"formValidate.productname\"}})],1),t._v(\" \"),a(\"FormItem\",{attrs:{label:\"优惠补贴：\",prop:\"concessions\"}},[a(\"Input\",{attrs:{size:\"small\"},model:{value:t.formValidate.concessions,callback:function(e){t.$set(t.formValidate,\"concessions\",e)},expression:\"formValidate.concessions\"}})],1),t._v(\" \"),a(\"FormItem\",{attrs:{label:\"预计申报时间：\",prop:\"declaredate\"}},[a(\"Input\",{attrs:{size:\"small\"},model:{value:t.formValidate.declaredate,callback:function(e){t.$set(t.formValidate,\"declaredate\",e)},expression:\"formValidate.declaredate\"}})],1)],1),t._v(\" \"),a(\"div\",{attrs:{slot:\"footer\"},slot:\"footer\"},[a(\"Button\",{attrs:{type:\"primary\",loading:t.submitLoading},on:{click:t.submit}},[t._v(\"新增\")])],1)],1),t._v(\" \"),a(\"Modal\",{attrs:{title:\"编辑\",width:\"500\"},model:{value:t.openEditProduct,callback:function(e){t.openEditProduct=e},expression:\"openEditProduct\"}},[a(\"Form\",{ref:\"currentRow\",attrs:{model:t.currentRow,rules:t.ruleValidate,\"label-width\":120}},[a(\"FormItem\",{attrs:{label:\"项目名称：\",prop:\"productname\"}},[a(\"Input\",{attrs:{size:\"small\"},model:{value:t.currentRow.productname,callback:function(e){t.$set(t.currentRow,\"productname\",e)},expression:\"currentRow.productname\"}})],1),t._v(\" \"),a(\"FormItem\",{attrs:{label:\"优惠补贴：\",prop:\"concessions\"}},[a(\"Input\",{attrs:{size:\"small\"},model:{value:t.currentRow.concessions,callback:function(e){t.$set(t.currentRow,\"concessions\",e)},expression:\"currentRow.concessions\"}})],1),t._v(\" \"),a(\"FormItem\",{attrs:{label:\"预计申报时间：\",prop:\"declaredate\"}},[a(\"Input\",{attrs:{size:\"small\"},model:{value:t.currentRow.declaredate,callback:function(e){t.$set(t.currentRow,\"declaredate\",e)},expression:\"currentRow.declaredate\"}})],1)],1),t._v(\" \"),a(\"div\",{attrs:{slot:\"footer\"},slot:\"footer\"},[a(\"Button\",{attrs:{type:\"primary\",loading:t.editLoading},on:{click:t.edit}},[t._v(\"修改\")])],1)],1)],1)},[],!1,null,null,null);n.options.__file=\"index.vue\";t.default=n.exports}}]);"}