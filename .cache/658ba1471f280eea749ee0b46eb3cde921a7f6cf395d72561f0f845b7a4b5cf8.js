{"source":"(window.webpackJsonp=window.webpackJsonp||[]).push([[23],{420:function(e,t,l){\"use strict\";l.r(t);var a={data:function(){return{openCreateTemplate:!1,loading:!1,clueTemplate:{name:\"\",detail:\"\",templateCode:\"\",templateContent:\"\",level:\"\"}}},methods:{create_templ:function(){var e=this;e.loading=!0;var t={name:e.clueTemplate.name,detail:e.clueTemplate.detail,templateCode:e.clueTemplate.templateCode,templateContent:e.clueTemplate.templateContent,level:e.clueTemplate.level};this.$Post(\"api/clue/template/create\",t,function(t){e.loading=!1,e.$refs.clueTemplate.resetFields(),e.openCreateTemplate=!1,e.$emit(\"update\",!0)},function(t){e.loading=!1})}},created:function(){var e=this;this.$bus.on(\"OPEN_CREATE_CLUE_TEMPLATE\",function(t){e.openCreateTemplate=!0})}},o=l(2),p=Object(o.a)(a,function(){var e=this,t=e.$createElement,l=e._self._c||t;return l(\"div\",[l(\"Modal\",{attrs:{width:\"80%\",title:\"创建线索模板\"},model:{value:e.openCreateTemplate,callback:function(t){e.openCreateTemplate=t},expression:\"openCreateTemplate\"}},[l(\"Form\",{ref:\"clueTemplate\",attrs:{model:e.clueTemplate,\"label-width\":120}},[l(\"FormItem\",{attrs:{label:\"模版名称\",prop:\"name\"}},[l(\"Input\",{attrs:{placeholder:\"\",type:\"text\"},model:{value:e.clueTemplate.name,callback:function(t){e.$set(e.clueTemplate,\"name\",t)},expression:\"clueTemplate.name\"}})],1),e._v(\" \"),l(\"FormItem\",{attrs:{label:\"模板详情\",prop:\"detail\"}},[l(\"Input\",{attrs:{placeholder:\"\",type:\"textarea\",rows:3},model:{value:e.clueTemplate.detail,callback:function(t){e.$set(e.clueTemplate,\"detail\",t)},expression:\"clueTemplate.detail\"}})],1),e._v(\" \"),l(\"FormItem\",{attrs:{label:\"模板编码\",prop:\"templateCode\"}},[l(\"Input\",{attrs:{placeholder:\"\",type:\"textarea\",rows:3},model:{value:e.clueTemplate.templateCode,callback:function(t){e.$set(e.clueTemplate,\"templateCode\",t)},expression:\"clueTemplate.templateCode\"}})],1),e._v(\" \"),l(\"FormItem\",{attrs:{label:\"模板代码块\",prop:\"templateContent\"}},[l(\"Input\",{attrs:{placeholder:\"\",type:\"textarea\",rows:10},model:{value:e.clueTemplate.templateContent,callback:function(t){e.$set(e.clueTemplate,\"templateContent\",t)},expression:\"clueTemplate.templateContent\"}})],1),e._v(\" \"),l(\"FormItem\",{attrs:{label:\"模板线索级别\",prop:\"level\"}},[l(\"Input\",{attrs:{placeholder:\"\"},model:{value:e.clueTemplate.level,callback:function(t){e.$set(e.clueTemplate,\"level\",t)},expression:\"clueTemplate.level\"}})],1)],1),e._v(\" \"),l(\"div\",{attrs:{slot:\"footer\"},slot:\"footer\"},[l(\"Button\",{attrs:{type:\"primary\",loading:e.loading},on:{click:e.create_templ}},[e._v(\"新增\")])],1)],1)],1)},[],!1,null,null,null);p.options.__file=\"create.vue\";var n=p.exports,m={data:function(){return{openUpdateTemplate:!1,loading:!1,clueTemplate:{name:\"\",detail:\"\",templateCode:\"\",templateContent:\"\",level:\"\",id:\"\"}}},methods:{update_templ:function(){var e=this;e.loading=!0;var t={name:e.clueTemplate.name,detail:e.clueTemplate.detail,templateCode:e.clueTemplate.templateCode,templateContent:e.clueTemplate.templateContent,level:e.clueTemplate.level,id:e.clueTemplate.id};this.$Post(\"api/clue/template/update\",t,function(t){e.loading=!1,e.$refs.clueTemplate.resetFields(),e.openUpdateTemplate=!1,e.$emit(\"update\",!0)},function(t){e.loading=!1})}},created:function(){var e=this;this.$bus.on(\"OPEN_EDIT_CLUE_TEMPLATE\",function(t){e.clueTemplate=t,e.clueTemplate.templateCode=t.template_code,e.clueTemplate.templateContent=t.template_content,e.openUpdateTemplate=!0})}},r=Object(o.a)(m,function(){var e=this,t=e.$createElement,l=e._self._c||t;return l(\"div\",[l(\"Modal\",{attrs:{width:\"80%\",title:\"修改线索模板\"},model:{value:e.openUpdateTemplate,callback:function(t){e.openUpdateTemplate=t},expression:\"openUpdateTemplate\"}},[l(\"Form\",{ref:\"clueTemplate\",attrs:{model:e.clueTemplate,\"label-width\":120}},[l(\"FormItem\",{attrs:{label:\"模版名称\",prop:\"name\"}},[l(\"Input\",{attrs:{placeholder:\"\",type:\"text\"},model:{value:e.clueTemplate.name,callback:function(t){e.$set(e.clueTemplate,\"name\",t)},expression:\"clueTemplate.name\"}})],1),e._v(\" \"),l(\"FormItem\",{attrs:{label:\"模板详情\",prop:\"detail\"}},[l(\"Input\",{attrs:{placeholder:\"\",type:\"textarea\",rows:3},model:{value:e.clueTemplate.detail,callback:function(t){e.$set(e.clueTemplate,\"detail\",t)},expression:\"clueTemplate.detail\"}})],1),e._v(\" \"),l(\"FormItem\",{attrs:{label:\"模板编码\",prop:\"templateCode\"}},[l(\"Input\",{attrs:{placeholder:\"\",type:\"textarea\",rows:3},model:{value:e.clueTemplate.templateCode,callback:function(t){e.$set(e.clueTemplate,\"templateCode\",t)},expression:\"clueTemplate.templateCode\"}})],1),e._v(\" \"),l(\"FormItem\",{attrs:{label:\"模板代码块\",prop:\"\\ttemplateContent\"}},[l(\"Input\",{attrs:{placeholder:\"\",type:\"textarea\",rows:10},model:{value:e.clueTemplate.templateContent,callback:function(t){e.$set(e.clueTemplate,\"templateContent\",t)},expression:\"clueTemplate.templateContent\"}})],1),e._v(\" \"),l(\"FormItem\",{attrs:{label:\"模板线索级别\",prop:\"level\"}},[l(\"Input\",{attrs:{placeholder:\"\"},model:{value:e.clueTemplate.level,callback:function(t){e.$set(e.clueTemplate,\"level\",t)},expression:\"clueTemplate.level\"}})],1)],1),e._v(\" \"),l(\"div\",{attrs:{slot:\"footer\"},slot:\"footer\"},[l(\"Button\",{attrs:{type:\"primary\",loading:e.loading},on:{click:e.update_templ}},[e._v(\"修改\")])],1)],1)],1)},[],!1,null,null,null);r.options.__file=\"update.vue\";var c=r.exports,i={data:function(){return{openShowTemplate:!1,loading:!1,clueTemplate:{name:\"\",detail:\"\",templateCode:\"\",templateContent:\"\",level:\"\",id:\"\"}}},methods:{},created:function(){var e=this;this.$bus.on(\"OPEN_SHOW_CLUE_TEMPLATE\",function(t){e.clueTemplate=t,e.clueTemplate.templateCode=t.template_code,e.clueTemplate.templateContent=t.template_content,e.openShowTemplate=!0})}},u=Object(o.a)(i,function(){var e=this,t=e.$createElement,l=e._self._c||t;return l(\"div\",[l(\"Modal\",{attrs:{width:\"80%\",title:\"查看线索模板\"},model:{value:e.openShowTemplate,callback:function(t){e.openShowTemplate=t},expression:\"openShowTemplate\"}},[l(\"Form\",{ref:\"clueTemplate\",attrs:{model:e.clueTemplate,\"label-width\":120}},[l(\"FormItem\",{attrs:{label:\"模版名称\",prop:\"name\"}},[l(\"Input\",{attrs:{placeholder:\"\",type:\"text\",readonly:\"\"},model:{value:e.clueTemplate.name,callback:function(t){e.$set(e.clueTemplate,\"name\",t)},expression:\"clueTemplate.name\"}})],1),e._v(\" \"),l(\"FormItem\",{attrs:{label:\"模板详情\",prop:\"detail\"}},[l(\"Input\",{attrs:{placeholder:\"\",type:\"textarea\",rows:3,readonly:\"\"},model:{value:e.clueTemplate.detail,callback:function(t){e.$set(e.clueTemplate,\"detail\",t)},expression:\"clueTemplate.detail\"}})],1),e._v(\" \"),l(\"FormItem\",{attrs:{label:\"模板编码\",prop:\"templateCode\"}},[l(\"Input\",{attrs:{placeholder:\"\",type:\"textarea\",rows:3,readonly:\"\"},model:{value:e.clueTemplate.templateCode,callback:function(t){e.$set(e.clueTemplate,\"templateCode\",t)},expression:\"clueTemplate.templateCode\"}})],1),e._v(\" \"),l(\"FormItem\",{attrs:{label:\"模板代码块\",prop:\"\\ttemplateContent\"}},[l(\"Input\",{attrs:{placeholder:\"\",type:\"textarea\",rows:10,readonly:\"\"},model:{value:e.clueTemplate.templateContent,callback:function(t){e.$set(e.clueTemplate,\"templateContent\",t)},expression:\"clueTemplate.templateContent\"}})],1),e._v(\" \"),l(\"FormItem\",{attrs:{label:\"模板线索级别\",prop:\"level\"}},[l(\"Input\",{attrs:{placeholder:\"\",readonly:\"\"},model:{value:e.clueTemplate.level,callback:function(t){e.$set(e.clueTemplate,\"level\",t)},expression:\"clueTemplate.level\"}})],1)],1),e._v(\" \"),l(\"div\",{attrs:{slot:\"footer\"},slot:\"footer\"})],1)],1)},[],!1,null,null,null);u.options.__file=\"show.vue\";var s={name:\"clueLibraryTemplate_index\",components:{createTemplate:n,updateTemplate:c,showTemplate:u.exports},data:function(){var e=this;return{loading:!1,pageSize:10,page:1,total:0,data:[],header:[{title:\"模板名称\",key:\"name\",width:200},{title:\"模板详情\",key:\"detail\",width:300},{title:\"创建时间\",key:\"createdate\",width:200},{title:\"更新时间\",key:\"updatedate\",width:200},{title:\"操作\",width:200,align:\"center\",render:function(t,l){return t(\"div\",[t(\"Button\",{props:{type:\"text\",size:\"small\"},style:{marginRight:\"5px\"},on:{click:function(){e.edit_tempalte(l)}}},\"[ 编辑 ]\"),t(\"Button\",{props:{type:\"text\",size:\"small\",disabled:new Boolean(1)},style:{marginRight:\"5px\"},on:{click:function(){e.$Message.warning(\"此功能暂未上线！\")}}},\"[ 删除 ]\")])}}]}},methods:{get_data:function(){var e=this;e.loading=!0;var t={params:{page:e.page,pageSize:e.pageSize,sortField:\"updatedate\",order:\"desc\"}};this.$Get(\"api/clue/template/list\",t,function(t){e.data=t.data.data.rows,e.total=t.data.data.total,e.loading=!1})},pageChange:function(e){this.page=e,this.get_data()},create_template:function(){this.$bus.emit(\"OPEN_CREATE_CLUE_TEMPLATE\",!0)},edit_tempalte:function(e){this.$bus.emit(\"OPEN_EDIT_CLUE_TEMPLATE\",e.row)},show_template:function(e){this.$bus.emit(\"OPEN_SHOW_CLUE_TEMPLATE\",e)}},created:function(){this.get_data()}},d=Object(o.a)(s,function(){var e=this,t=e.$createElement,l=e._self._c||t;return l(\"div\",[l(\"Card\",[l(\"Row\",[l(\"ButtonGroup\",{staticStyle:{float:\"left\"}},[l(\"Button\",{attrs:{type:\"primary\",icon:\"information-circled\"},on:{click:e.create_template}},[e._v(\"新增模板\")])],1)],1),e._v(\" \"),l(\"Table\",{staticStyle:{\"margin-top\":\"10px\"},attrs:{\"highlight-row\":\"\",data:e.data,columns:e.header},on:{\"on-row-dblclick\":e.show_template}}),e._v(\" \"),l(\"Page\",{staticStyle:{\"margin-top\":\"10px\"},attrs:{placement:\"top\",total:e.total,loading:e.loading,current:e.page,\"show-elevator\":\"\",size:\"small\"},on:{\"on-change\":e.pageChange}})],1),e._v(\" \"),l(\"create-template\",{on:{update:e.get_data}}),e._v(\" \"),l(\"update-template\",{on:{update:e.get_data}}),e._v(\" \"),l(\"show-template\")],1)},[],!1,null,null,null);d.options.__file=\"index.vue\";t.default=d.exports}}]);"}