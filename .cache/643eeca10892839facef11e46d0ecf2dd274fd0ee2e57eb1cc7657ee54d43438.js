{"source":"(window.webpackJsonp=window.webpackJsonp||[]).push([[24],{146:function(e,a,t){},308:function(e,a,t){\"use strict\";var l=t(146);t.n(l).a},461:function(e,a,t){\"use strict\";t.r(a);var l={name:\"cluesLabels_index\",data:function(){var e=this;return{isEidt:!1,modal1:!1,modal2:!1,modal3:!1,loading:!0,issendValue:[],formValidate:{labelname:\"\",labelcode:\"\",labeltype:\"\",typecode:\"\",labelmemo:\"\"},formValidate2:{labelname:\"\",labelcode:\"\",labeltype:\"\",typecode:\"\",labelmemo:\"\"},formValidate3:{labelname:\"\",labelcode:\"\",labeltype:\"\",typecode:\"\",labelmemo:\"\"},ruleValidate:{labelname:[{required:!0,trigger:\"blur\",message:\"标签名称不能为空\"}],labelcode:[{required:!0,trigger:\"blur\",message:\"标签编码不能为空\"}],labeltype:[{required:!0,trigger:\"change\",message:\"请选择标签类别\"}]},columns:[{type:\"index\",width:60,align:\"center\"},{title:\"标签类型\",key:\"labelType\"},{title:\"类别编码\",key:\"typecode\"},{title:\"标签名称\",key:\"labelName\"},{title:\"标签编码\",key:\"labelCode\"},{title:\"创建时间\",key:\"createDate\"},{title:\"操作\",key:\"action\",align:\"center\",width:180,render:function(a,t){return a(\"div\",[a(\"Button\",{props:{type:\"text\",size:\"small\",permission:\"['cluesL.detail']\"},style:{marginRight:\"5px\"},on:{click:function(){e.detail(t.row)}}},\"详情\"),a(\"Button\",{props:{type:\"text\",size:\"small\",permission:\"['cluesL.edit']\"},style:{marginRight:\"5px\"},on:{click:function(){e.edit(t)}}},\"修改\")])}}],data:[],pageTotal:new Number,pageSize:10,customerid:\"\",currentPage:1}},methods:{getTableData:function(){var e=this;e.data=[],e.currentPage=1,this.GetData(\"/system/label/list?page=1&pageSize=10&sortField=id&order=desc\",function(a){e.pageTotal=a.data.data.total;for(var t=0;t<a.data.data.rows.length;t++)e.data.push({createDate:a.data.data.rows[t].createDate,id:a.data.data.rows[t].id,labelCode:a.data.data.rows[t].labelCode,labelName:a.data.data.rows[t].labelName,labelType:a.data.data.rows[t].labelType,typecode:a.data.data.rows[t].typecode})})},pageChange:function(e){var a=this,t=\"/system/label/list?page=\"+e+\"&pageSize=\"+a.pageSize+\"&sortField=id&order=desc\";a.data=[],this.GetData(t,function(e){a.pageTotal=e.data.data.total;for(var t=0;t<e.data.data.rows.length;t++)a.data.push({createDate:e.data.data.rows[t].createDate,id:e.data.data.rows[t].id,labelCode:e.data.data.rows[t].labelCode,labelName:e.data.data.rows[t].labelName,labelType:e.data.data.rows[t].labelType,typecode:e.data.data.rows[t].typecode})})},pageSizeChange:function(e){var a=this,t=\"/system/label/list?page=1&pageSize=\"+e+\"&sortField=id&order=desc\";a.pageSize=e,a.data=[],this.GetData(t,function(e){a.pageTotal=e.data.data.total;for(var t=0;t<e.data.data.rows.length;t++)a.data.push({createDate:e.data.data.rows[t].createDate,id:e.data.data.rows[t].id,labelCode:e.data.data.rows[t].labelCode,labelName:e.data.data.rows[t].labelName,labelType:e.data.data.rows[t].labelType,typecode:e.data.data.rows[t].typecode})})},detail:function(e){var a=this,t=\"/system/label/findLabelById/\"+e.id;a.modal2=!0,this.GetData(t,function(e){var t=e.data.data;a.formValidate2.id=t.id,a.formValidate2.labelcode=t.labelCode,a.formValidate2.labelmemo=t.labelMemo,a.formValidate2.labelname=t.labelName,a.formValidate2.labeltype=t.labelType,a.formValidate2.typecode=t.typeCode})},edit:function(e){var a=this,t=\"/system/label/findLabelById/\"+e.row.id;a.modal3=!0,this.GetData(t,function(e){var t=e.data.data;a.formValidate3.id=t.id,a.formValidate3.labelcode=t.labelCode,a.formValidate3.labelmemo=t.labelMemo,a.formValidate3.labelname=t.labelName,a.formValidate3.labeltype=t.labelType,a.formValidate3.typecode=t.typeCode})},ok:function(e){var a=this,t=this;setTimeout(function(){a.loading=!1,a.$refs[e].validate(function(e){if(e){a.PostData(\"/system/label/saveLabel\",t.formValidate,function(e){t.$Message.success(\"更新成功!\"),t.getTableData(),t.cancel(\"formValidate\"),t.modal1=!1})}else a.$nextTick(function(){a.loading=!0})})},2e3)},ok2:function(e){var a=this,t=this;setTimeout(function(){a.loading=!1;a.PostData(\"/system/label/updateLabel\",t.formValidate3,function(e){t.$Message.success(\"更新成功!\"),t.getTableData(),t.cancel(\"formValidate3\"),t.modal3=!1})},2e3)},cancel:function(e){this.$refs[e].resetFields()}},mounted:function(){this.getTableData()}},o=(t(308),t(2)),i=Object(o.a)(l,function(){var e=this,a=e.$createElement,t=e._self._c||a;return t(\"div\",[t(\"Card\",[t(\"Row\",[t(\"ButtonGroup\",[t(\"Button\",{directives:[{name:\"permission\",rawName:\"v-permission\",value:[\"cluesL.add\"],expression:\"['cluesL.add']\"}],attrs:{type:\"primary\",icon:\"ios-color-wand-outline\"},on:{click:function(a){e.modal1=!0}}},[e._v(\"新增\")])],1)],1),e._v(\" \"),t(\"Row\",{staticStyle:{\"margin-top\":\"10px\"}},[t(\"Table\",{attrs:{\"highlight-row\":\"\",size:\"small\",columns:e.columns,data:e.data},on:{\"on-row-dblclick\":e.detail}}),e._v(\" \"),t(\"Page\",{staticStyle:{\"margin-top\":\"10px\"},attrs:{size:\"small\",total:e.pageTotal,current:e.currentPage,\"show-total\":\"\",\"show-sizer\":\"\",\"show-elevator\":\"\"},on:{\"update:current\":function(a){e.currentPage=a},\"on-change\":e.pageChange,\"on-page-size-change\":e.pageSizeChange}})],1)],1),e._v(\" \"),t(\"Modal\",{attrs:{title:\"新增\",\"class-name\":\"vertical-center-modal\",loading:e.loading},on:{\"on-ok\":function(a){e.ok(\"formValidate\")},\"on-cancel\":function(a){e.cancel(\"formValidate\")}},model:{value:e.modal1,callback:function(a){e.modal1=a},expression:\"modal1\"}},[t(\"Form\",{ref:\"formValidate\",attrs:{model:e.formValidate,rules:e.ruleValidate,\"label-width\":70}},[t(\"FormItem\",{attrs:{label:\"标签名称\",prop:\"labelname\"}},[t(\"Input\",{model:{value:e.formValidate.labelname,callback:function(a){e.$set(e.formValidate,\"labelname\",a)},expression:\"formValidate.labelname\"}})],1),e._v(\" \"),t(\"FormItem\",{attrs:{label:\"标签编码\",prop:\"labelcode\"}},[t(\"Input\",{model:{value:e.formValidate.labelcode,callback:function(a){e.$set(e.formValidate,\"labelcode\",a)},expression:\"formValidate.labelcode\"}})],1),e._v(\" \"),t(\"FormItem\",{attrs:{label:\"标签类型\",prop:\"labeltype\"}},[t(\"Select\",{staticStyle:{width:\"200px\"},attrs:{transfer:\"\",transfer:\"\"},model:{value:e.formValidate.labeltype,callback:function(a){e.$set(e.formValidate,\"labeltype\",a)},expression:\"formValidate.labeltype\"}},[t(\"Option\",{attrs:{value:\"shangshilei\"}},[e._v(\"商事类\")]),e._v(\" \"),t(\"Option\",{attrs:{value:\"kuaijilei\"}},[e._v(\"会计类\")]),e._v(\" \"),t(\"Option\",{attrs:{value:\"qihualei\"}},[e._v(\"企划类\")]),e._v(\" \"),t(\"Option\",{attrs:{value:\"shenjilei\"}},[e._v(\"审计类\")])],1)],1),e._v(\" \"),t(\"FormItem\",{attrs:{label:\"类别编码\",prop:\"typecode\"}},[t(\"Input\",{model:{value:e.formValidate.typecode,callback:function(a){e.$set(e.formValidate,\"typecode\",a)},expression:\"formValidate.typecode\"}})],1),e._v(\" \"),t(\"FormItem\",{attrs:{label:\"标签说明\",prop:\"labelmemo\"}},[t(\"Input\",{attrs:{size:\"small\",type:\"textarea\"},model:{value:e.formValidate.labelmemo,callback:function(a){e.$set(e.formValidate,\"labelmemo\",a)},expression:\"formValidate.labelmemo\"}})],1)],1)],1),e._v(\" \"),t(\"Modal\",{attrs:{title:\"详情\",\"class-name\":\"vertical-center-modal\"},model:{value:e.modal2,callback:function(a){e.modal2=a},expression:\"modal2\"}},[t(\"Form\",{ref:\"formValidate2\",attrs:{model:e.formValidate2,\"label-width\":70}},[t(\"FormItem\",{attrs:{label:\"标签名称\",prop:\"labelname\"}},[t(\"Input\",{attrs:{disabled:\"\"},model:{value:e.formValidate2.labelname,callback:function(a){e.$set(e.formValidate2,\"labelname\",a)},expression:\"formValidate2.labelname\"}})],1),e._v(\" \"),t(\"FormItem\",{attrs:{label:\"标签编码\",prop:\"labelcode\"}},[t(\"Input\",{attrs:{disabled:\"\"},model:{value:e.formValidate2.labelcode,callback:function(a){e.$set(e.formValidate2,\"labelcode\",a)},expression:\"formValidate2.labelcode\"}})],1),e._v(\" \"),t(\"FormItem\",{attrs:{label:\"标签类型\",prop:\"labeltype\"}},[t(\"Select\",{staticStyle:{width:\"200px\"},attrs:{transfer:\"\",disabled:\"\",transfer:\"\"},model:{value:e.formValidate2.labeltype,callback:function(a){e.$set(e.formValidate2,\"labeltype\",a)},expression:\"formValidate2.labeltype\"}},[t(\"Option\",{attrs:{value:\"shangshilei\"}},[e._v(\"商事类\")]),e._v(\" \"),t(\"Option\",{attrs:{value:\"kuaijilei\"}},[e._v(\"会计类\")]),e._v(\" \"),t(\"Option\",{attrs:{value:\"qihualei\"}},[e._v(\"企划类\")]),e._v(\" \"),t(\"Option\",{attrs:{value:\"shenjilei\"}},[e._v(\"审计类\")])],1)],1),e._v(\" \"),t(\"FormItem\",{attrs:{label:\"类别编码\",prop:\"typecode\"}},[t(\"Input\",{attrs:{disabled:\"\"},model:{value:e.formValidate2.typecode,callback:function(a){e.$set(e.formValidate2,\"typecode\",a)},expression:\"formValidate2.typecode\"}})],1),e._v(\" \"),t(\"FormItem\",{attrs:{label:\"标签说明\",prop:\"labelmemo\"}},[t(\"Input\",{attrs:{size:\"small\",type:\"textarea\",disabled:\"\"},model:{value:e.formValidate2.labelmemo,callback:function(a){e.$set(e.formValidate2,\"labelmemo\",a)},expression:\"formValidate2.labelmemo\"}})],1)],1)],1),e._v(\" \"),t(\"Modal\",{attrs:{title:\"修改\",\"class-name\":\"vertical-center-modal\",loading:e.loading},on:{\"on-ok\":function(a){e.ok2(\"formValidate3\")},\"on-cancel\":function(a){e.cancel(\"formValidate3\")}},model:{value:e.modal3,callback:function(a){e.modal3=a},expression:\"modal3\"}},[t(\"Form\",{ref:\"formValidate3\",attrs:{model:e.formValidate3,\"label-width\":70}},[t(\"FormItem\",{attrs:{label:\"标签名称\",prop:\"labelname\"}},[t(\"Input\",{model:{value:e.formValidate3.labelname,callback:function(a){e.$set(e.formValidate3,\"labelname\",a)},expression:\"formValidate3.labelname\"}})],1),e._v(\" \"),t(\"FormItem\",{attrs:{label:\"标签编码\",prop:\"labelcode\"}},[t(\"Input\",{model:{value:e.formValidate3.labelcode,callback:function(a){e.$set(e.formValidate3,\"labelcode\",a)},expression:\"formValidate3.labelcode\"}})],1),e._v(\" \"),t(\"FormItem\",{attrs:{label:\"标签类型\",prop:\"labeltype\"}},[t(\"Select\",{staticStyle:{width:\"200px\"},attrs:{transfer:\"\",transfer:\"\"},model:{value:e.formValidate3.labeltype,callback:function(a){e.$set(e.formValidate3,\"labeltype\",a)},expression:\"formValidate3.labeltype\"}},[t(\"Option\",{attrs:{value:\"shangshilei\"}},[e._v(\"商事类\")]),e._v(\" \"),t(\"Option\",{attrs:{value:\"kuaijilei\"}},[e._v(\"会计类\")]),e._v(\" \"),t(\"Option\",{attrs:{value:\"qihualei\"}},[e._v(\"企划类\")]),e._v(\" \"),t(\"Option\",{attrs:{value:\"shenjilei\"}},[e._v(\"审计类\")])],1)],1),e._v(\" \"),t(\"FormItem\",{attrs:{label:\"类别编码\",prop:\"typecode\"}},[t(\"Input\",{attrs:{disabled:\"\"},model:{value:e.formValidate3.typecode,callback:function(a){e.$set(e.formValidate3,\"typecode\",a)},expression:\"formValidate3.typecode\"}})],1),e._v(\" \"),t(\"FormItem\",{attrs:{label:\"标签说明\",prop:\"labelmemo\"}},[t(\"Input\",{attrs:{size:\"small\",type:\"textarea\"},model:{value:e.formValidate3.labelmemo,callback:function(a){e.$set(e.formValidate3,\"labelmemo\",a)},expression:\"formValidate3.labelmemo\"}})],1)],1)],1)],1)},[],!1,null,null,null);i.options.__file=\"cluesLabels.vue\";a.default=i.exports}}]);"}