{"source":"(window.webpackJsonp=window.webpackJsonp||[]).push([[22],{142:function(e,t,a){},300:function(e,t,a){\"use strict\";var r=a(142);a.n(r).a},475:function(e,t,a){\"use strict\";a.r(t);var r={name:\"clueControl_index\",data:function(){var e=this;return{check_depart_id:\"\",departTree:[],tableLoading:!1,page:1,pageTotal:0,headers:[{title:\"用户\",key:\"realname\",minWidth:150},{title:\"线索领取上限\",key:\"realname\",minWidth:180,render:function(t,a){var r=e;return t(\"div\",[t(\"Input\",{props:{value:e.tableData[a.index].customer_receipt_max_num,autosize:!0,type:\"text\",size:\"small\"},class:{clueNum:!0},on:{\"on-blur\":function(e){r.save_new_clue_num(a.row.id,e.target.value)},\"on-enter\":function(e){r.save_new_clue_num(a.row.id,e.target.value)}},style:{width:\"100%\"}})])}}],tableData:[]}},methods:{getAllDepartTree:function(){var e=this;this.$Get(\"api/system/depart/tree/list\",{},function(t){e.departTree=t.data.data;for(var a=0;a<e.departTree.length;a++)if(e.departTree[a].title=e.departTree[a].departname,e.departTree[a].children)for(var r=0;r<e.departTree[a].children.length;r++)if(e.departTree[a].children[r].title=e.departTree[a].children[r].departname,e.departTree[a].children[r].children)for(var n=0;n<e.departTree[a].children[r].children.length;n++)if(e.departTree[a].children[r].children[n].title=e.departTree[a].children[r].children[n].departname,e.departTree[a].children[r].children[n].children)for(var i=0;i<e.departTree[a].children[r].children[n].children.length;i++)e.departTree[a].children[r].children[n].children[i].title=e.departTree[a].children[r].children[n].children[i].departname})},getCheckedNodes:function(e){0==e.length?this.check_depart_id=\"\":this.check_depart_id=e[0].ID,this.page=1,this.get_data()},get_data:function(){var e=this,t={params:{page:e.page,pageSize:10,departid:e.check_depart_id}};this.$Get(\"api/user/list\",t,function(t){e.tableData=t.data.data.rows,e.pageTotal=t.data.data.total})},page_change:function(e){this.page=e,this.get_data()},save_new_clue_num:function(e,t){var a=this,r={id:e,customerReceiptMaxNum:t};this.$Post(\"api/user/update/detail\",r,function(e){a.get_data()},function(e){a.get_data()})}},mounted:function(){this.getAllDepartTree(),this.get_data()}},n=(a(300),a(2)),i=Object(n.a)(r,function(){var e=this,t=e.$createElement,a=e._self._c||t;return a(\"div\",[a(\"Card\",[a(\"Row\",[a(\"Col\",{attrs:{span:\"6\"}},[a(\"div\",{staticStyle:{\"padding-bottom\":\"30px\",\"padding-top\":\"15px\"}},[e._v(\"部门：\")]),e._v(\" \"),a(\"Tree\",{ref:\"departTree\",attrs:{data:e.departTree,\"show-checkbox\":\"\"},on:{\"on-check-change\":e.getCheckedNodes}})],1),e._v(\" \"),a(\"Col\",{attrs:{span:\"18\"}},[a(\"Table\",{attrs:{columns:e.headers,data:e.tableData,size:\"small\"}}),e._v(\" \"),a(\"Page\",{staticStyle:{\"margin-top\":\"10px\"},attrs:{size:\"small\",total:e.pageTotal,current:e.page,\"show-total\":\"\",\"show-elevator\":\"\"},on:{\"update:current\":function(t){e.page=t},\"on-change\":e.page_change}})],1)],1)],1)],1)},[],!1,null,null,null);i.options.__file=\"index.vue\";t.default=i.exports}}]);"}