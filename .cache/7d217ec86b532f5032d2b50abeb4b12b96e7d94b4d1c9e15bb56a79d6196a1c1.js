{"source":"(window.webpackJsonp=window.webpackJsonp||[]).push([[46],{450:function(t,a,e){},714:function(t,a,e){\"use strict\";var n=e(450);e.n(n).a},819:function(t,a,e){\"use strict\";e.r(a);var n=e(114),s={props:{taskKind:{type:[String,Array]},taskStage:{type:[String,Array]}},data:function(){var e=this;return{search_model:\"\",seacrhFormInline:{task_stage:\"\",task_kind:\"\",executor_name:\"\",plan_date:[]},loading:!1,header:[{title:\"任务对象\",key:\"companyName\",minWidth:180},{title:\"任务名称\",key:\"task_name\",minWidth:150},{title:\"执行人\",key:\"executor_name\",minWidth:120},{title:\"任务阶段\",key:\"task_stage_name\",minWidth:120},{title:\"安排时间\",key:\"plan_date\",minWidth:180},{title:\"操作\",minWidth:180,render:function(t,a){return t(\"div\",[t(\"Button\",{props:{type:\"text\",size:\"small\"},on:{click:function(){e.open_task_detail(a.row)}}},\"查看\"),t(\"Button\",{props:{type:\"text\",size:\"small\"},directives:[{name:\"permission\",value:\"mission.delete\"}],on:{click:function(){e.delete_task(a.row.id)}}},\"删除\")])}}],data:[],total:0,page:1,pageSize:10}},methods:{open_detail:function(t){},select_row:function(t){},pageChange:function(t){this.page=t,this.get_data()},get_data:function(){var a=this;a.loading=!0;var t={params:{page:a.page,pageSize:a.pageSize,sortField:\"plan_date\",task_stage:a.seacrhFormInline.task_stage,task_kind:a.seacrhFormInline.task_kind,executor_name:a.seacrhFormInline.executor_name,bplan_date:Object(n.a)(a.seacrhFormInline.plan_date[0]),eplan_date:Object(n.a)(a.seacrhFormInline.plan_date[1])}};this.$Get(\"api/task/list\",t,function(t){a.loading=!1,a.data=t.data.data.rows,a.total=t.data.data.total})},search:function(){this.get_data()},reset:function(){this.$refs.seacrhFormInline.resetFields(),this.get_data()},delete_task:function(t){var a=this,e={params:{taskId:t}};this.$Get(\"api/task/deleteTask\",e,function(t){a.get_data()})},open_task_detail:function(t){this.$bus.emit(\"OPEN_TASK_DETAIL\",t)}},created:function(){var a=this;this.get_data(),a.$bus.on(\"UPDATE_TASK_LIST_DEMO\",function(t){a.get_data()})}},o=e(4),i=Object(o.a)(s,function(){var a=this,t=a.$createElement,e=a._self._c||t;return e(\"Card\",[e(\"Row\",{staticStyle:{\"margin-bottom\":\"10px\"}},[e(\"Collapse\",{model:{value:a.search_model,callback:function(t){a.search_model=t},expression:\"search_model\"}},[e(\"Panel\",{attrs:{name:\"1\"}},[e(\"Icon\",{staticStyle:{\"margin-left\":\"20px\",\"margin-right\":\"5px\"},attrs:{type:\"search\"}}),a._v(\"\\n                筛选\\n                \"),e(\"div\",{attrs:{slot:\"content\"},on:{keydown:function(t){return\"button\"in t||!a._k(t.keyCode,\"enter\",13,t.key,\"Enter\")?a.search(t):null}},slot:\"content\"},[e(\"Form\",{ref:\"seacrhFormInline\",attrs:{model:a.seacrhFormInline,\"label-width\":100}},[e(\"Row\",{attrs:{gutter:16}},[e(\"Col\",{attrs:{span:\"8\"}},[e(\"FormItem\",{attrs:{prop:\"task_stage\",label:\"任务状态：\"}},[e(\"Select\",{attrs:{transfer:\"\",size:\"small\"},on:{\"on-change\":a.get_data},model:{value:a.seacrhFormInline.task_stage,callback:function(t){a.$set(a.seacrhFormInline,\"task_stage\",t)},expression:\"seacrhFormInline.task_stage\"}},a._l(a.taskStage,function(t){return e(\"Option\",{key:t.id,attrs:{value:t.typecode}},[a._v(a._s(t.typename))])}),1)],1)],1),a._v(\" \"),e(\"Col\",{attrs:{span:\"8\"}},[e(\"FormItem\",{attrs:{prop:\"task_kind\",label:\"任务类型：\"}},[e(\"Select\",{attrs:{transfer:\"\",size:\"small\"},on:{\"on-change\":a.get_data},model:{value:a.seacrhFormInline.task_kind,callback:function(t){a.$set(a.seacrhFormInline,\"task_kind\",t)},expression:\"seacrhFormInline.task_kind\"}},a._l(a.taskKind,function(t){return e(\"Option\",{key:t.id,attrs:{value:t.typecode}},[a._v(a._s(t.typename))])}),1)],1)],1),a._v(\" \"),e(\"Col\",{attrs:{span:\"8\"}},[e(\"FormItem\",{attrs:{prop:\"executor_name\",label:\"执行人：\"}},[e(\"Input\",{attrs:{type:\"text\",size:\"small\",placeholder:\"\"},model:{value:a.seacrhFormInline.executor_name,callback:function(t){a.$set(a.seacrhFormInline,\"executor_name\",t)},expression:\"seacrhFormInline.executor_name\"}})],1)],1)],1),a._v(\" \"),e(\"Row\",{attrs:{gutter:16}},[e(\"Col\",{attrs:{span:\"8\"}},[e(\"FormItem\",{attrs:{prop:\"plan_date\",label:\"计划时间\"}},[e(\"DatePicker\",{staticStyle:{width:\"100%\"},attrs:{type:\"daterange\",size:\"small\",placeholder:\"\"},model:{value:a.seacrhFormInline.plan_date,callback:function(t){a.$set(a.seacrhFormInline,\"plan_date\",t)},expression:\"seacrhFormInline.plan_date\"}})],1)],1)],1),a._v(\" \"),e(\"FormItem\",[e(\"Button\",{attrs:{type:\"primary\"},on:{click:a.search}},[a._v(\"搜索\")]),a._v(\" \"),e(\"Button\",{staticStyle:{\"margin-left\":\"20px\"},attrs:{type:\"ghost\"},on:{click:a.reset}},[a._v(\"重置\")])],1)],1)],1)],1)],1)],1),a._v(\" \"),e(\"Row\",{staticStyle:{\"margin-top\":\"10px\"}},[e(\"Table\",{ref:\"selection\",attrs:{\"highlight-row\":\"\",size:\"small\",loading:a.loading,columns:a.header,data:a.data},on:{\"on-row-dblclick\":a.open_task_detail}}),a._v(\" \"),e(\"Page\",{staticStyle:{\"margin-top\":\"10px\"},attrs:{placement:\"top\",size:\"small\",total:a.total,\"show-total\":\"\",\"show-elevator\":\"\"},on:{\"on-change\":a.pageChange}})],1)],1)},[],!1,null,null,null);i.options.__file=\"all.vue\";var l=i.exports,r={props:{taskKind:{type:[String,Array]},taskStage:{type:[String,Array]}},data:function(){var e=this;return{search_model:\"\",seacrhFormInline:{task_stage:\"\",task_kind:\"\",executor_name:\"\",plan_date:[]},loading:!1,header:[{title:\"任务对象\",key:\"companyName\",minWidth:180},{title:\"任务名称\",key:\"task_name\",minWidth:150},{title:\"执行人\",key:\"executor_name\",minWidth:120},{title:\"任务阶段\",key:\"task_stage_name\",minWidth:120},{title:\"安排时间\",key:\"plan_date\",minWidth:180},{title:\"操作\",minWidth:180,render:function(t,a){return t(\"div\",[t(\"Button\",{props:{type:\"text\",size:\"small\"},on:{click:function(){e.open_task_detail(a.row)}}},\"查看\"),t(\"Button\",{props:{type:\"text\",size:\"small\"},directives:[{name:\"permission\",value:\"mission.delete\"}],on:{click:function(){e.delete_task(a.row.id)}}},\"删除\")])}}],data:[],total:0,page:1,pageSize:10}},methods:{open_detail:function(t){},select_row:function(t){},pageChange:function(t){this.page=t,this.get_data()},get_data:function(){var a=this;a.loading=!0;var t={params:{page:a.page,pageSize:a.pageSize,sortField:\"plan_date\",task_level:\"importance\",task_stage:a.seacrhFormInline.task_stage,task_kind:a.seacrhFormInline.task_kind,executor_name:a.seacrhFormInline.executor_name,bplan_date:Object(n.a)(a.seacrhFormInline.plan_date[0]),eplan_date:Object(n.a)(a.seacrhFormInline.plan_date[1])}};this.$Get(\"api/task/list\",t,function(t){a.loading=!1,a.data=t.data.data.rows,a.total=t.data.data.total},function(t){a.loading=!1})},search:function(){this.get_data()},reset:function(){this.$refs.seacrhFormInline.resetFields(),this.get_data()},delete_task:function(t){var a=this,e={params:{taskId:t}};this.$Get(\"api/task/deleteTask\",e,function(t){a.get_data()})},open_task_detail:function(t){this.$bus.emit(\"OPEN_TASK_DETAIL\",t)}},created:function(){var a=this;this.get_data(),a.$bus.on(\"UPDATE_TASK_LIST_DEMO\",function(t){a.get_data()})}},c=Object(o.a)(r,function(){var a=this,t=a.$createElement,e=a._self._c||t;return e(\"Card\",[e(\"Row\",{staticStyle:{\"margin-bottom\":\"10px\"}},[e(\"Collapse\",{model:{value:a.search_model,callback:function(t){a.search_model=t},expression:\"search_model\"}},[e(\"Panel\",{attrs:{name:\"1\"}},[e(\"Icon\",{staticStyle:{\"margin-left\":\"20px\",\"margin-right\":\"5px\"},attrs:{type:\"search\"}}),a._v(\"\\n                筛选\\n                \"),e(\"div\",{attrs:{slot:\"content\"},on:{keydown:function(t){return\"button\"in t||!a._k(t.keyCode,\"enter\",13,t.key,\"Enter\")?a.search(t):null}},slot:\"content\"},[e(\"Form\",{ref:\"seacrhFormInline\",attrs:{model:a.seacrhFormInline,\"label-width\":100}},[e(\"Row\",{attrs:{gutter:16}},[e(\"Col\",{attrs:{span:\"8\"}},[e(\"FormItem\",{attrs:{prop:\"task_stage\",label:\"任务状态：\"}},[e(\"Select\",{attrs:{transfer:\"\",size:\"small\"},on:{\"on-change\":a.get_data},model:{value:a.seacrhFormInline.task_stage,callback:function(t){a.$set(a.seacrhFormInline,\"task_stage\",t)},expression:\"seacrhFormInline.task_stage\"}},a._l(a.taskStage,function(t){return e(\"Option\",{key:t.id,attrs:{value:t.typecode}},[a._v(a._s(t.typename))])}),1)],1)],1),a._v(\" \"),e(\"Col\",{attrs:{span:\"8\"}},[e(\"FormItem\",{attrs:{prop:\"task_kind\",label:\"任务类型：\"}},[e(\"Select\",{attrs:{transfer:\"\",size:\"small\"},on:{\"on-change\":a.get_data},model:{value:a.seacrhFormInline.task_kind,callback:function(t){a.$set(a.seacrhFormInline,\"task_kind\",t)},expression:\"seacrhFormInline.task_kind\"}},a._l(a.taskKind,function(t){return e(\"Option\",{key:t.id,attrs:{value:t.typecode}},[a._v(a._s(t.typename))])}),1)],1)],1),a._v(\" \"),e(\"Col\",{attrs:{span:\"8\"}},[e(\"FormItem\",{attrs:{prop:\"executor_name\",label:\"执行人：\"}},[e(\"Input\",{attrs:{type:\"text\",size:\"small\",placeholder:\"\"},model:{value:a.seacrhFormInline.executor_name,callback:function(t){a.$set(a.seacrhFormInline,\"executor_name\",t)},expression:\"seacrhFormInline.executor_name\"}})],1)],1)],1),a._v(\" \"),e(\"Row\",{attrs:{gutter:16}},[e(\"Col\",{attrs:{span:\"8\"}},[e(\"FormItem\",{attrs:{prop:\"plan_date\",label:\"计划时间\"}},[e(\"DatePicker\",{staticStyle:{width:\"100%\"},attrs:{type:\"daterange\",size:\"small\",placeholder:\"\"},model:{value:a.seacrhFormInline.plan_date,callback:function(t){a.$set(a.seacrhFormInline,\"plan_date\",t)},expression:\"seacrhFormInline.plan_date\"}})],1)],1)],1),a._v(\" \"),e(\"FormItem\",[e(\"Button\",{attrs:{type:\"primary\"},on:{click:a.search}},[a._v(\"搜索\")]),a._v(\" \"),e(\"Button\",{staticStyle:{\"margin-left\":\"20px\"},attrs:{type:\"ghost\"},on:{click:a.reset}},[a._v(\"重置\")])],1)],1)],1)],1)],1)],1),a._v(\" \"),e(\"Row\",{staticStyle:{\"margin-top\":\"10px\"}},[e(\"Table\",{ref:\"selection\",attrs:{\"highlight-row\":\"\",size:\"small\",loading:a.loading,columns:a.header,data:a.data},on:{\"on-row-dblclick\":a.open_task_detail}}),a._v(\" \"),e(\"Page\",{staticStyle:{\"margin-top\":\"10px\"},attrs:{placement:\"top\",size:\"small\",total:a.total,\"show-total\":\"\",\"show-elevator\":\"\"},on:{\"on-change\":a.pageChange}})],1)],1)},[],!1,null,null,null);c.options.__file=\"important.vue\";var d=c.exports,p={props:{taskKind:{type:[String,Array]},taskStage:{type:[String,Array]}},data:function(){var e=this;return{search_model:\"\",seacrhFormInline:{task_stage:\"\",task_kind:\"\",executor_name:\"\",plan_date:[]},loading:!1,header:[{title:\"任务对象\",key:\"companyName\",minWidth:180},{title:\"任务名称\",key:\"task_name\",minWidth:150},{title:\"执行人\",key:\"executor_name\",minWidth:120},{title:\"任务阶段\",key:\"task_stage_name\",minWidth:120},{title:\"安排时间\",key:\"plan_date\",minWidth:180},{title:\"操作\",minWidth:180,render:function(t,a){return t(\"div\",[t(\"Button\",{props:{type:\"text\",size:\"small\"},on:{click:function(){e.open_task_detail(a.row)}}},\"查看\"),t(\"Button\",{props:{type:\"text\",size:\"small\"},directives:[{name:\"permission\",value:\"mission.delete\"}],on:{click:function(){e.delete_task(a.row.id)}}},\"删除\")])}}],data:[],total:0,page:1,pageSize:10}},methods:{open_detail:function(t){},select_row:function(t){},pageChange:function(t){this.page=t,this.get_data()},get_data:function(){var a=this;a.loading=!0;var t={params:{page:a.page,pageSize:a.pageSize,sortField:\"plan_date\",task_level:\"both\",task_stage:a.seacrhFormInline.task_stage,task_kind:a.seacrhFormInline.task_kind,executor_name:a.seacrhFormInline.executor_name,bplan_date:Object(n.a)(a.seacrhFormInline.plan_date[0]),eplan_date:Object(n.a)(a.seacrhFormInline.plan_date[1])}};this.$Get(\"api/task/list\",t,function(t){a.loading=!1,a.data=t.data.data.rows,a.total=t.data.data.total},function(t){a.loading=!1})},search:function(){this.get_data()},reset:function(){this.$refs.seacrhFormInline.resetFields(),this.get_data()},delete_task:function(t){var a=this,e={params:{taskId:t}};this.$Get(\"api/task/deleteTask\",e,function(t){a.get_data()})},open_task_detail:function(t){this.$bus.emit(\"OPEN_TASK_DETAIL\",t)}},created:function(){var a=this;this.get_data(),a.$bus.on(\"UPDATE_TASK_LIST_DEMO\",function(t){a.get_data()})}},m=Object(o.a)(p,function(){var a=this,t=a.$createElement,e=a._self._c||t;return e(\"Card\",[e(\"Row\",{staticStyle:{\"margin-bottom\":\"10px\"}},[e(\"Collapse\",{model:{value:a.search_model,callback:function(t){a.search_model=t},expression:\"search_model\"}},[e(\"Panel\",{attrs:{name:\"1\"}},[e(\"Icon\",{staticStyle:{\"margin-left\":\"20px\",\"margin-right\":\"5px\"},attrs:{type:\"search\"}}),a._v(\"\\n                筛选\\n                \"),e(\"div\",{attrs:{slot:\"content\"},on:{keydown:function(t){return\"button\"in t||!a._k(t.keyCode,\"enter\",13,t.key,\"Enter\")?a.search(t):null}},slot:\"content\"},[e(\"Form\",{ref:\"seacrhFormInline\",attrs:{model:a.seacrhFormInline,\"label-width\":100}},[e(\"Row\",{attrs:{gutter:16}},[e(\"Col\",{attrs:{span:\"8\"}},[e(\"FormItem\",{attrs:{prop:\"task_stage\",label:\"任务状态：\"}},[e(\"Select\",{attrs:{transfer:\"\",size:\"small\"},on:{\"on-change\":a.get_data},model:{value:a.seacrhFormInline.task_stage,callback:function(t){a.$set(a.seacrhFormInline,\"task_stage\",t)},expression:\"seacrhFormInline.task_stage\"}},a._l(a.taskStage,function(t){return e(\"Option\",{key:t.id,attrs:{value:t.typecode}},[a._v(a._s(t.typename))])}),1)],1)],1),a._v(\" \"),e(\"Col\",{attrs:{span:\"8\"}},[e(\"FormItem\",{attrs:{prop:\"task_kind\",label:\"任务类型：\"}},[e(\"Select\",{attrs:{transfer:\"\",size:\"small\"},on:{\"on-change\":a.get_data},model:{value:a.seacrhFormInline.task_kind,callback:function(t){a.$set(a.seacrhFormInline,\"task_kind\",t)},expression:\"seacrhFormInline.task_kind\"}},a._l(a.taskKind,function(t){return e(\"Option\",{key:t.id,attrs:{value:t.typecode}},[a._v(a._s(t.typename))])}),1)],1)],1),a._v(\" \"),e(\"Col\",{attrs:{span:\"8\"}},[e(\"FormItem\",{attrs:{prop:\"executor_name\",label:\"执行人：\"}},[e(\"Input\",{attrs:{type:\"text\",size:\"small\",placeholder:\"\"},model:{value:a.seacrhFormInline.executor_name,callback:function(t){a.$set(a.seacrhFormInline,\"executor_name\",t)},expression:\"seacrhFormInline.executor_name\"}})],1)],1)],1),a._v(\" \"),e(\"Row\",{attrs:{gutter:16}},[e(\"Col\",{attrs:{span:\"8\"}},[e(\"FormItem\",{attrs:{prop:\"plan_date\",label:\"计划时间\"}},[e(\"DatePicker\",{staticStyle:{width:\"100%\"},attrs:{type:\"daterange\",size:\"small\",placeholder:\"\"},model:{value:a.seacrhFormInline.plan_date,callback:function(t){a.$set(a.seacrhFormInline,\"plan_date\",t)},expression:\"seacrhFormInline.plan_date\"}})],1)],1)],1),a._v(\" \"),e(\"FormItem\",[e(\"Button\",{attrs:{type:\"primary\"},on:{click:a.search}},[a._v(\"搜索\")]),a._v(\" \"),e(\"Button\",{staticStyle:{\"margin-left\":\"20px\"},attrs:{type:\"ghost\"},on:{click:a.reset}},[a._v(\"重置\")])],1)],1)],1)],1)],1)],1),a._v(\" \"),e(\"Row\",{staticStyle:{\"margin-top\":\"10px\"}},[e(\"Table\",{ref:\"selection\",attrs:{\"highlight-row\":\"\",size:\"small\",loading:a.loading,columns:a.header,data:a.data},on:{\"on-row-dblclick\":a.open_task_detail}}),a._v(\" \"),e(\"Page\",{staticStyle:{\"margin-top\":\"10px\"},attrs:{placement:\"top\",size:\"small\",total:a.total,\"show-total\":\"\",\"show-elevator\":\"\"},on:{\"on-change\":a.pageChange}})],1)],1)},[],!1,null,null,null);m.options.__file=\"importantAndPrimary.vue\";var _=m.exports,u={props:{taskKind:{type:[String,Array]},taskStage:{type:[String,Array]}},data:function(){var e=this;return{search_model:\"\",seacrhFormInline:{task_stage:\"\",task_kind:\"\",executor_name:\"\",plan_date:[]},loading:!1,header:[{title:\"任务对象\",key:\"companyName\",minWidth:180},{title:\"任务名称\",key:\"task_name\",minWidth:150},{title:\"执行人\",key:\"executor_name\",minWidth:120},{title:\"任务阶段\",key:\"task_stage_name\",minWidth:120},{title:\"安排时间\",key:\"plan_date\",minWidth:180},{title:\"操作\",minWidth:180,render:function(t,a){return t(\"div\",[t(\"Button\",{props:{type:\"text\",size:\"small\"},on:{click:function(){e.open_task_detail(a.row)}}},\"查看\"),t(\"Button\",{props:{type:\"text\",size:\"small\"},directives:[{name:\"permission\",value:\"mission.delete\"}],on:{click:function(){e.delete_task(a.row.id)}}},\"删除\")])}}],data:[],total:0,page:1,pageSize:10}},methods:{open_detail:function(t){},select_row:function(t){},pageChange:function(t){this.page=t,this.get_data()},get_data:function(){var a=this;a.loading=!0;var t={params:{page:a.page,pageSize:a.pageSize,sortField:\"plan_date\",task_level:\"normal\",task_stage:a.seacrhFormInline.task_stage,task_kind:a.seacrhFormInline.task_kind,executor_name:a.seacrhFormInline.executor_name,bplan_date:Object(n.a)(a.seacrhFormInline.plan_date[0]),eplan_date:Object(n.a)(a.seacrhFormInline.plan_date[1])}};this.$Get(\"api/task/list\",t,function(t){a.loading=!1,a.data=t.data.data.rows,a.total=t.data.data.total},function(t){a.loading=!1})},search:function(){this.get_data()},reset:function(){this.$refs.seacrhFormInline.resetFields(),this.get_data()},delete_task:function(t){var a=this,e={params:{taskId:t}};this.$Get(\"api/task/deleteTask\",e,function(t){a.get_data()})},open_task_detail:function(t){this.$bus.emit(\"OPEN_TASK_DETAIL\",t)}},created:function(){var a=this;this.get_data(),a.$bus.on(\"UPDATE_TASK_LIST_DEMO\",function(t){a.get_data()})}},k=Object(o.a)(u,function(){var a=this,t=a.$createElement,e=a._self._c||t;return e(\"Card\",[e(\"Row\",{staticStyle:{\"margin-bottom\":\"10px\"}},[e(\"Collapse\",{model:{value:a.search_model,callback:function(t){a.search_model=t},expression:\"search_model\"}},[e(\"Panel\",{attrs:{name:\"1\"}},[e(\"Icon\",{staticStyle:{\"margin-left\":\"20px\",\"margin-right\":\"5px\"},attrs:{type:\"search\"}}),a._v(\"\\n                筛选\\n                \"),e(\"div\",{attrs:{slot:\"content\"},on:{keydown:function(t){return\"button\"in t||!a._k(t.keyCode,\"enter\",13,t.key,\"Enter\")?a.search(t):null}},slot:\"content\"},[e(\"Form\",{ref:\"seacrhFormInline\",attrs:{model:a.seacrhFormInline,\"label-width\":100}},[e(\"Row\",{attrs:{gutter:16}},[e(\"Col\",{attrs:{span:\"8\"}},[e(\"FormItem\",{attrs:{prop:\"task_stage\",label:\"任务状态：\"}},[e(\"Select\",{attrs:{transfer:\"\",size:\"small\"},on:{\"on-change\":a.get_data},model:{value:a.seacrhFormInline.task_stage,callback:function(t){a.$set(a.seacrhFormInline,\"task_stage\",t)},expression:\"seacrhFormInline.task_stage\"}},a._l(a.taskStage,function(t){return e(\"Option\",{key:t.id,attrs:{value:t.typecode}},[a._v(a._s(t.typename))])}),1)],1)],1),a._v(\" \"),e(\"Col\",{attrs:{span:\"8\"}},[e(\"FormItem\",{attrs:{prop:\"task_kind\",label:\"任务类型：\"}},[e(\"Select\",{attrs:{transfer:\"\",size:\"small\"},on:{\"on-change\":a.get_data},model:{value:a.seacrhFormInline.task_kind,callback:function(t){a.$set(a.seacrhFormInline,\"task_kind\",t)},expression:\"seacrhFormInline.task_kind\"}},a._l(a.taskKind,function(t){return e(\"Option\",{key:t.id,attrs:{value:t.typecode}},[a._v(a._s(t.typename))])}),1)],1)],1),a._v(\" \"),e(\"Col\",{attrs:{span:\"8\"}},[e(\"FormItem\",{attrs:{prop:\"executor_name\",label:\"执行人：\"}},[e(\"Input\",{attrs:{type:\"text\",size:\"small\",placeholder:\"\"},model:{value:a.seacrhFormInline.executor_name,callback:function(t){a.$set(a.seacrhFormInline,\"executor_name\",t)},expression:\"seacrhFormInline.executor_name\"}})],1)],1)],1),a._v(\" \"),e(\"Row\",{attrs:{gutter:16}},[e(\"Col\",{attrs:{span:\"8\"}},[e(\"FormItem\",{attrs:{prop:\"plan_date\",label:\"计划时间\"}},[e(\"DatePicker\",{staticStyle:{width:\"100%\"},attrs:{type:\"daterange\",size:\"small\",placeholder:\"\"},model:{value:a.seacrhFormInline.plan_date,callback:function(t){a.$set(a.seacrhFormInline,\"plan_date\",t)},expression:\"seacrhFormInline.plan_date\"}})],1)],1)],1),a._v(\" \"),e(\"FormItem\",[e(\"Button\",{attrs:{type:\"primary\"},on:{click:a.search}},[a._v(\"搜索\")]),a._v(\" \"),e(\"Button\",{staticStyle:{\"margin-left\":\"20px\"},attrs:{type:\"ghost\"},on:{click:a.reset}},[a._v(\"重置\")])],1)],1)],1)],1)],1)],1),a._v(\" \"),e(\"Row\",{staticStyle:{\"margin-top\":\"10px\"}},[e(\"Table\",{ref:\"selection\",attrs:{\"highlight-row\":\"\",size:\"small\",loading:a.loading,columns:a.header,data:a.data},on:{\"on-row-dblclick\":a.open_task_detail}}),a._v(\" \"),e(\"Page\",{staticStyle:{\"margin-top\":\"10px\"},attrs:{placement:\"top\",size:\"small\",total:a.total,\"show-total\":\"\",\"show-elevator\":\"\"},on:{\"on-change\":a.pageChange}})],1)],1)},[],!1,null,null,null);k.options.__file=\"normal.vue\";var g=k.exports,h={props:{taskKind:{type:[String,Array]},taskStage:{type:[String,Array]}},data:function(){var e=this;return{search_model:\"\",seacrhFormInline:{task_stage:\"\",task_kind:\"\",executor_name:\"\",plan_date:[]},loading:!1,header:[{title:\"任务对象\",key:\"companyName\",minWidth:180},{title:\"任务名称\",key:\"task_name\",minWidth:150},{title:\"执行人\",key:\"executor_name\",minWidth:120},{title:\"任务阶段\",key:\"task_stage_name\",minWidth:120},{title:\"安排时间\",key:\"plan_date\",minWidth:180},{title:\"操作\",minWidth:180,render:function(t,a){return t(\"div\",[t(\"Button\",{props:{type:\"text\",size:\"small\"},on:{click:function(){e.open_task_detail(a.row)}}},\"查看\"),t(\"Button\",{props:{type:\"text\",size:\"small\"},directives:[{name:\"permission\",value:\"mission.delete\"}],on:{click:function(){e.delete_task(a.row.id)}}},\"删除\")])}}],data:[],total:0,page:1,pageSize:10}},methods:{open_detail:function(t){},select_row:function(t){},pageChange:function(t){this.page=t,this.get_data()},get_data:function(){var a=this;a.loading=!0;var t={params:{page:a.page,pageSize:a.pageSize,sortField:\"plan_date\",task_level:\"emergency\",task_stage:a.seacrhFormInline.task_stage,task_kind:a.seacrhFormInline.task_kind,executor_name:a.seacrhFormInline.executor_name,bplan_date:Object(n.a)(a.seacrhFormInline.plan_date[0]),eplan_date:Object(n.a)(a.seacrhFormInline.plan_date[1])}};this.$Get(\"api/task/list\",t,function(t){a.loading=!1,a.data=t.data.data.rows,a.total=t.data.data.total},function(t){a.loading=!1})},search:function(){this.get_data()},reset:function(){this.$refs.seacrhFormInline.resetFields(),this.get_data()},delete_task:function(t){var a=this,e={params:{taskId:t}};this.$Get(\"api/task/deleteTask\",e,function(t){a.get_data()})},open_task_detail:function(t){this.$bus.emit(\"OPEN_TASK_DETAIL\",t)}},created:function(){var a=this;a.$bus.on(\"UPDATE_TASK_LIST_DEMO\",function(t){a.get_data()})}},v=Object(o.a)(h,function(){var a=this,t=a.$createElement,e=a._self._c||t;return e(\"Card\",[e(\"Row\",{staticStyle:{\"margin-bottom\":\"10px\"}},[e(\"Collapse\",{model:{value:a.search_model,callback:function(t){a.search_model=t},expression:\"search_model\"}},[e(\"Panel\",{attrs:{name:\"1\"}},[e(\"Icon\",{staticStyle:{\"margin-left\":\"20px\",\"margin-right\":\"5px\"},attrs:{type:\"search\"}}),a._v(\"\\n                筛选\\n                \"),e(\"div\",{attrs:{slot:\"content\"},on:{keydown:function(t){return\"button\"in t||!a._k(t.keyCode,\"enter\",13,t.key,\"Enter\")?a.search(t):null}},slot:\"content\"},[e(\"Form\",{ref:\"seacrhFormInline\",attrs:{model:a.seacrhFormInline,\"label-width\":100}},[e(\"Row\",{attrs:{gutter:16}},[e(\"Col\",{attrs:{span:\"8\"}},[e(\"FormItem\",{attrs:{prop:\"task_stage\",label:\"任务状态：\"}},[e(\"Select\",{attrs:{transfer:\"\",size:\"small\"},on:{\"on-change\":a.get_data},model:{value:a.seacrhFormInline.task_stage,callback:function(t){a.$set(a.seacrhFormInline,\"task_stage\",t)},expression:\"seacrhFormInline.task_stage\"}},a._l(a.taskStage,function(t){return e(\"Option\",{key:t.id,attrs:{value:t.typecode}},[a._v(a._s(t.typename))])}),1)],1)],1),a._v(\" \"),e(\"Col\",{attrs:{span:\"8\"}},[e(\"FormItem\",{attrs:{prop:\"task_kind\",label:\"任务类型：\"}},[e(\"Select\",{attrs:{transfer:\"\",size:\"small\"},on:{\"on-change\":a.get_data},model:{value:a.seacrhFormInline.task_kind,callback:function(t){a.$set(a.seacrhFormInline,\"task_kind\",t)},expression:\"seacrhFormInline.task_kind\"}},a._l(a.taskKind,function(t){return e(\"Option\",{key:t.id,attrs:{value:t.typecode}},[a._v(a._s(t.typename))])}),1)],1)],1),a._v(\" \"),e(\"Col\",{attrs:{span:\"8\"}},[e(\"FormItem\",{attrs:{prop:\"executor_name\",label:\"执行人：\"}},[e(\"Input\",{attrs:{type:\"text\",size:\"small\",placeholder:\"\"},model:{value:a.seacrhFormInline.executor_name,callback:function(t){a.$set(a.seacrhFormInline,\"executor_name\",t)},expression:\"seacrhFormInline.executor_name\"}})],1)],1)],1),a._v(\" \"),e(\"Row\",{attrs:{gutter:16}},[e(\"Col\",{attrs:{span:\"8\"}},[e(\"FormItem\",{attrs:{prop:\"plan_date\",label:\"计划时间\"}},[e(\"DatePicker\",{staticStyle:{width:\"100%\"},attrs:{type:\"daterange\",size:\"small\",placeholder:\"\"},model:{value:a.seacrhFormInline.plan_date,callback:function(t){a.$set(a.seacrhFormInline,\"plan_date\",t)},expression:\"seacrhFormInline.plan_date\"}})],1)],1)],1),a._v(\" \"),e(\"FormItem\",[e(\"Button\",{attrs:{type:\"primary\"},on:{click:a.search}},[a._v(\"搜索\")]),a._v(\" \"),e(\"Button\",{staticStyle:{\"margin-left\":\"20px\"},attrs:{type:\"ghost\"},on:{click:a.reset}},[a._v(\"重置\")])],1)],1)],1)],1)],1)],1),a._v(\" \"),e(\"Row\",{staticStyle:{\"margin-top\":\"10px\"}},[e(\"Table\",{ref:\"selection\",attrs:{\"highlight-row\":\"\",size:\"small\",loading:a.loading,columns:a.header,data:a.data},on:{\"on-row-dblclick\":a.open_task_detail}}),a._v(\" \"),e(\"Page\",{staticStyle:{\"margin-top\":\"10px\"},attrs:{placement:\"top\",size:\"small\",total:a.total,\"show-total\":\"\",\"show-elevator\":\"\"},on:{\"on-change\":a.pageChange}})],1)],1)},[],!1,null,null,null);v.options.__file=\"primary.vue\";var y=v.exports,f={data:function(){return{id:\"\",discussLoading:!1,discuss:{rate:5,content:\"\"},loading:!1,openTaskDetail:!1,data:{taskData:[{task_name:\"\",id:\"\",expect_start_date:\"\",task_stage:\"\",plan_date:\"\",company_name:\"\",task_content:\"\",company_id:\"\"}],log:[],discuss:[]},taskStage:[],taskLevel:[],taskDesCode:[],task_memo:\"\",followUpContent:[{userName:\"\",createdate:\"\",followTypeName:\"\",serviceContent:\"\"}]}},computed:{openSubmit:function(){return!this.task_memo}},methods:{get_detail:function(t){var a=this,e={params:{taskId:t}};this.$Get(\"api/task/findTaskDetail\",e,function(t){a.data=t.data.data,t.data.data.taskData[0]?a.get_last_follow_up_content(t.data.data.taskData[0].company_id):a.data={taskData:[{task_name:\"\",id:\"\",expect_start_date:\"\",task_stage:\"\",plan_date:\"\",company_name:\"\",task_content:\"\",company_id:\"\"}],log:[],discuss:[]}})},delete_task:function(){var a=this,t={params:{taskId:a.data.taskData.id}};this.$Get(\"api/task/deleteTask\",t,function(t){a.openTaskDetail=!1})},get_data_center:function(){var a=this;this.$GetDataCenter(\"taskLevel,taskDesCode,taskKind,taskStage,market_status,markert_follow_up_type\",function(t){a.taskLevel=t.data.data.taskLevel,a.taskDesCode=t.data.data.taskDesCode,a.taskStage=t.data.data.taskStage})},update_task:function(){var a=this,t=new FormData;t.append(\"taskId\",a.id),t.append(\"taskStage\",a.data.taskData[0].task_stage),t.append(\"changeReason\",a.task_memo);a.data.taskData[0].id,a.data.taskData[0].task_stage;this.$Post(\"api/task/updateTaskStage\",t,function(t){a.update_content(),a.task_memo=\"\"},function(t){})},update_content:function(){var a=this,t={taskId:a.id,content:a.task_memo,creatorId:localStorage.getItem(\"id\"),creatorName:localStorage.getItem(\"realname\")};this.$Post(\"api/task/addTaskDiscuss\",t,function(t){a.loading=!1,a.get_detail(a.id)},function(t){a.loading=!1})},get_last_follow_up_content:function(t){var a=this,e={params:{companyId:t}};this.$Get(\"api/customer/findLastCustomerContentByCompanyId\",e,function(t){t.data.data&&(a.followUpContent=t.data.data)})},submit_discuss:function(){var a=this;a.discussLoading=!0;var t={taskId:a.id,content:a.discuss.content,evaluation:10*a.discuss.rate,creatorId:localStorage.getItem(\"id\"),creatorName:localStorage.getItem(\"realname\")};this.$Post(\"api/task/addTaskDiscuss\",t,function(t){a.discussLoading=!1,a.get_detail(a.id)},function(t){a.discussLoading=!1})}},created:function(){var a=this;this.$bus.on(\"OPEN_TASK_DETAIL\",function(t){a.task_memo=\"\",a.get_data_center(),a.id=t.id,a.get_detail(t.id),a.detail=t,a.openTaskDetail=!0})}},I=(e(714),Object(o.a)(f,function(){var e=this,t=e.$createElement,n=e._self._c||t;return n(\"div\",[n(\"Modal\",{attrs:{title:\"任务详情\",width:\"450\",scrollable:!0,\"class-name\":\"vertical-center-modal\"},model:{value:e.openTaskDetail,callback:function(t){e.openTaskDetail=t},expression:\"openTaskDetail\"}},[n(\"div\",{staticStyle:{\"min-height\":\"90vh\",width:\"400px\"}},[n(\"Row\",[n(\"Col\",{attrs:{span:\"16\"}},[n(\"Input\",{staticStyle:{width:\"100%\"},attrs:{type:\"text\",readonly:\"\"},model:{value:e.data.taskData[0].task_name,callback:function(t){e.$set(e.data.taskData[0],\"task_name\",t)},expression:\"data.taskData[0].task_name\"}})],1)],1),e._v(\" \"),n(\"Row\",{staticStyle:{\"margin-top\":\"20px\"}},[n(\"Row\",{staticStyle:{\"margin-top\":\"20px\"},attrs:{gutter:20}},[n(\"Col\",{attrs:{span:\"4\"}},[n(\"span\",{staticStyle:{\"line-height\":\"24px\"}},[e._v(\"任务对象\")])]),e._v(\" \"),n(\"Col\",{attrs:{span:\"20\"}},[n(\"span\",{staticStyle:{\"line-height\":\"24px\"}},[e._v(e._s(e.data.taskData[0].companyname)+\"\\n                        \")])])],1),e._v(\" \"),n(\"Row\",{staticStyle:{\"margin-top\":\"20px\"},attrs:{gutter:20}},[n(\"Col\",{attrs:{span:\"4\"}},[n(\"span\",{staticStyle:{\"line-height\":\"24px\"}},[e._v(\"执行者\")])]),e._v(\" \"),n(\"Col\",{attrs:{span:\"20\"}},[n(\"span\",{staticStyle:{\"line-height\":\"24px\"}},[e._v(e._s(e.data.taskData[0].executor_name)+\"\\n                        \")])])],1),e._v(\" \"),n(\"Row\",{staticStyle:{\"margin-top\":\"20px\"},attrs:{gutter:20}},[n(\"Col\",{attrs:{span:\"4\"}},[n(\"span\",{staticStyle:{\"line-height\":\"24px\"}},[e._v(\"任务级别\")])]),e._v(\" \"),n(\"Col\",{attrs:{span:\"20\"}},[n(\"Select\",{staticStyle:{width:\"180px\"},attrs:{size:\"small\",disabled:\"\"},model:{value:e.data.taskData[0].task_level,callback:function(t){e.$set(e.data.taskData[0],\"task_level\",t)},expression:\"data.taskData[0].task_level\"}},e._l(e.taskLevel,function(t){return n(\"Option\",{key:t.id,attrs:{value:t.typecode}},[e._v(e._s(t.typename))])}),1)],1)],1),e._v(\" \"),n(\"Row\",{staticStyle:{\"margin-top\":\"20px\"},attrs:{gutter:20}},[n(\"Col\",{attrs:{span:\"4\"}},[n(\"span\",{staticStyle:{\"line-height\":\"24px\"}},[e._v(\"开始时间\")])]),e._v(\" \"),n(\"Col\",{attrs:{span:\"20\"}},[n(\"DatePicker\",{staticStyle:{width:\"180px\"},attrs:{size:\"small\",type:\"datetime\",readonly:\"\"},model:{value:e.data.taskData[0].expect_start_date,callback:function(t){e.$set(e.data.taskData[0],\"expect_start_date\",t)},expression:\"data.taskData[0].expect_start_date\"}})],1)],1),e._v(\" \"),n(\"Row\",{staticStyle:{\"margin-top\":\"20px\"},attrs:{gutter:20}},[n(\"Col\",{attrs:{span:\"4\"}},[n(\"span\",{staticStyle:{\"line-height\":\"24px\"}},[e._v(\"提醒时间\")])]),e._v(\" \"),n(\"Col\",{attrs:{span:\"20\"}},[n(\"DatePicker\",{staticStyle:{width:\"180px\"},attrs:{size:\"small\",type:\"datetime\",readonly:\"\"},model:{value:e.data.taskData[0].plan_date,callback:function(t){e.$set(e.data.taskData[0],\"plan_date\",t)},expression:\"data.taskData[0].plan_date\"}})],1)],1),e._v(\" \"),n(\"Row\",{staticStyle:{\"margin-top\":\"20px\"},attrs:{gutter:20}},[n(\"Col\",{attrs:{span:\"4\"}},[n(\"span\",{staticStyle:{\"line-height\":\"24px\"}},[e._v(\"任务详情\")])]),e._v(\" \"),n(\"Col\",{attrs:{span:\"20\"}},[n(\"Input\",{staticStyle:{width:\"180px\"},attrs:{size:\"small\",type:\"textarea\",row:5,readonly:\"\",autosize:\"\"},model:{value:e.data.taskData[0].task_content,callback:function(t){e.$set(e.data.taskData[0],\"task_content\",t)},expression:\"data.taskData[0].task_content\"}})],1)],1),e._v(\" \"),n(\"Row\",{staticStyle:{\"margin-top\":\"20px\"},attrs:{gutter:20}},[n(\"Col\",{attrs:{span:\"4\"}},[n(\"span\",{staticStyle:{\"line-height\":\"24px\"}},[e._v(\"任务状态\")])]),e._v(\" \"),n(\"Col\",{attrs:{span:\"20\"}},[n(\"Select\",{staticStyle:{width:\"180px\"},attrs:{size:\"small\"},model:{value:e.data.taskData[0].task_stage,callback:function(t){e.$set(e.data.taskData[0],\"task_stage\",t)},expression:\"data.taskData[0].task_stage\"}},e._l(e.taskStage,function(t){return n(\"Option\",{key:t.id,attrs:{value:t.typecode}},[e._v(e._s(t.typename))])}),1)],1)],1),e._v(\" \"),n(\"Row\",{staticStyle:{\"margin-top\":\"20px\"},attrs:{gutter:20}},[n(\"Col\",{attrs:{span:\"4\"}},[n(\"span\",{staticStyle:{\"line-height\":\"24px\"}},[e._v(\"任务总结\")])]),e._v(\" \"),n(\"Col\",{attrs:{span:\"20\"}},[n(\"Input\",{staticStyle:{width:\"180px\"},attrs:{size:\"small\",type:\"textarea\",row:5,placeholder:\"变更状态时，需要填写！（完成时填写总结，取消或终止时请输入原因！）\"},model:{value:e.task_memo,callback:function(t){e.task_memo=t},expression:\"task_memo\"}})],1)],1),e._v(\" \"),n(\"Row\",{staticStyle:{\"margin-top\":\"40px\"}},[n(\"Button\",{staticStyle:{\"margin-left\":\"40px\"},attrs:{type:\"primary\",disabled:e.openSubmit,loading:e.loading},on:{click:e.update_task}},[e._v(\"修改\")])],1)],1),e._v(\" \"),n(\"Row\",{staticStyle:{\"margin-top\":\"20px\"}},[n(\"Tabs\",{attrs:{value:\"1\",size:\"small\"}},[n(\"TabPane\",{attrs:{label:\"日志\",name:\"1\"}},[n(\"Timeline\",e._l(e.data.log,function(t,a){return n(\"TimelineItem\",{key:a},[n(\"Row\",{attrs:{gutter:20}},[n(\"Col\",{attrs:{span:\"12\"}},[e._v(e._s(t.log_content))]),e._v(\" \"),n(\"Col\",{attrs:{span:\"12\"}},[e._v(e._s(t.log_date))])],1),e._v(\" \"),t.change_reason?n(\"Row\",{attrs:{gutter:20}},[n(\"Col\",[e._v(\"备注：\"+e._s(t.change_reason))])],1):e._e()],1)}),1)],1),e._v(\" \"),n(\"TabPane\",{attrs:{label:\"讨论\",name:\"2\"}},[n(\"Row\",{staticStyle:{\"padding-bottom\":\"10px\",\"padding-top\":\"5px\"}},[n(\"Input\",{staticStyle:{width:\"90%\",\"padding-right\":\"20px\"},attrs:{size:\"small\",placeholder:\"请输入内容参与讨论！\"},model:{value:e.discuss.content,callback:function(t){e.$set(e.discuss,\"content\",t)},expression:\"discuss.content\"}},[n(\"Button\",{attrs:{slot:\"append\",loading:e.discussLoading,type:\"primary\",size:\"small\"},on:{click:e.submit_discuss},slot:\"append\"},[e._v(\"发送\")])],1),e._v(\" \"),n(\"Rate\",{attrs:{size:\"small\"},model:{value:e.discuss.rate,callback:function(t){e.$set(e.discuss,\"rate\",t)},expression:\"discuss.rate\"}})],1),e._v(\" \"),n(\"Timeline\",e._l(e.data.discuss,function(t,a){return n(\"TimelineItem\",{key:a},[n(\"Row\",{attrs:{gutter:20}},[n(\"Col\",{attrs:{span:\"12\"}},[e._v(e._s(t.creator_name))]),e._v(\" \"),n(\"Col\",{attrs:{span:\"12\"}},[e._v(e._s(t.creator_date))])],1),e._v(\" \"),n(\"Row\",{staticStyle:{\"margin-top\":\"5px\"},attrs:{gutter:20}},[n(\"Col\",{attrs:{span:\"24\"}},[e._v(e._s(t.content))]),e._v(\" \"),n(\"Col\",{attrs:{span:\"12\"}},[n(\"Rate\",{attrs:{disabled:\"\",value:t.evaluation/10,size:\"small\"}})],1)],1)],1)}),1)],1),e._v(\" \"),n(\"TabPane\",{attrs:{label:\"最近跟进\",name:\"3\"}},[n(\"div\",[n(\"Timeline\",[n(\"TimelineItem\",[n(\"Row\",{attrs:{gutter:20}},[n(\"Col\",{attrs:{span:\"12\"}},[e._v(e._s(e.followUpContent.userName))]),e._v(\" \"),n(\"Col\",{attrs:{span:\"12\"}},[e._v(e._s(e.followUpContent.createdate))])],1),e._v(\" \"),n(\"Row\",{attrs:{gutter:20}},[n(\"Col\",{attrs:{span:\"12\"}},[e._v(e._s(e.followUpContent.followTypeName))]),e._v(\" \"),n(\"Col\",{attrs:{span:\"12\"}},[e._v(e._s(e.followUpContent.serviceContent))])],1)],1)],1)],1)])],1)],1)],1),e._v(\" \"),n(\"div\",{attrs:{slot:\"footer\"},slot:\"footer\"})])],1)},[],!1,null,null,null));I.options.__file=\"detailTask.vue\";var x={name:\"missionManagement_index\",components:{all:l,importance:d,importantAndPrimary:_,normal:g,primary:y,DetailTask:I.exports},data:function(){return{createLoading:!1,label:[\"领导\",\"领导2\",\"领导3\"],companyLoading:!1,userLoading:!1,newMission:{taskName:\"\",taskContent:\"\",planDate:new Date,specificDate:\"\",taskLevel:\"importance\",taskDesCode:\"\",taskKind:\"tkFollow\",taskStage:\"\",followResult:\"\",followUpType:\"\",companyId:\"\",executorId:localStorage.getItem(\"id\")},openAddMission:!1,taskLevel:[],taskDesCode:[],taskKind:[],taskStage:[],market_status:[],markert_follow_up_type:[],taskLevel_map:new Map,taskDesCode_map:new Map,taskKind_map:new Map,taskStage_map:new Map,market_status_map:new Map,markert_follow_up_type_map:new Map,companyList:[],userList:[{id:localStorage.getItem(\"id\"),realname:localStorage.getItem(\"realname\")}],allUserList:[],allUserList_map:new Map}},methods:{open_add_mission:function(){this.openAddMission=!0},get_data_center:function(){var a=this;this.$GetDataCenter(\"taskLevel,taskDesCode,taskKind,taskStage,market_status,markert_follow_up_type\",function(t){a.taskLevel=t.data.data.taskLevel,a.taskDesCode=t.data.data.taskDesCode,a.taskKind=t.data.data.taskKind,a.taskStage=t.data.data.taskStage,a.market_status=t.data.data.market_status,a.markert_follow_up_type=t.data.data.markert_follow_up_type,a.taskLevel_map=a.$array2map(a.taskLevel),a.taskDesCode_map=a.$array2map(a.taskDesCode),a.taskKind_map=a.$array2map(a.taskKind),a.taskStage_map=a.$array2map(a.taskStage),a.market_status_map=a.$array2map(a.market_status),a.markert_follow_up_type_map=a.$array2map(a.markert_follow_up_type)})},get_company:function(t){var a=this;a.companyLoading=!0;var e={params:{page:1,pageSize:10,companyname:t}};this.$Get(\"api/customer/company/list\",e,function(t){a.companyLoading=!1,a.companyList=t.data.data.rows})},get_user:function(t){var a=this;a.userLoading=!0;var e={params:{page:1,pageSize:5,realname:t}};this.$Get(\"api/user/list\",e,function(t){a.userLoading=!1,a.userList=t.data.data.rows})},get_all_user:function(){var e=this;this.$Get(\"api/user/list\",{params:{page:1,pageSize:1e3}},function(t){e.allUserList=t.data.data.rows;for(var a=0;a<e.allUserList.length;a++)e.allUserList_map.set(e.allUserList[a].id.toString(),e.allUserList[a].realname)})},create_task:function(){var a=this;a.createLoading=!0;var t={taskName:a.newMission.taskName,companyId:a.newMission.companyId,executorId:a.newMission.executorId,executorName:a.allUserList_map.get(a.newMission.executorId.toString()),taskContent:a.newMission.taskContent,taskLevel:a.newMission.taskLevel,planDate:Object(n.d)(a.newMission.planDate),taskKind:a.newMission.taskKind,taskStage:\"tesUnstarted\",taskLevelName:a.taskLevel_map.get(a.newMission.taskLevel),taskKindName:a.taskKind_map.get(a.newMission.taskKind),taskStageName:\"未开始\",creatorName:localStorage.getItem(\"realname\")};this.$Post(\"api/task/addTask\",t,function(t){a.createLoading=!1,a.openAddMission=!1,a.$bus.emit(\"UPDATE_TASK_LIST_DEMO\",!0),a.cancel_task()},function(t){a.createLoading=!1})},cancel_task:function(){this.$refs.newMission.resetFields()}},created:function(){this.get_data_center(),this.get_all_user()}},w=Object(o.a)(x,function(){var e=this,t=e.$createElement,n=e._self._c||t;return n(\"Card\",[n(\"Row\",{staticStyle:{\"margin-bottom\":\"10px\"}},[n(\"ButtonGroup\",[n(\"Button\",{attrs:{type:\"primary\"},on:{click:e.open_add_mission}},[e._v(\"新增任务\")])],1)],1),e._v(\" \"),n(\"div\",[n(\"Tabs\",{attrs:{value:\"6\"}},[n(\"TabPane\",{attrs:{label:\"全部任务\",name:\"6\"}},[n(\"all\",{attrs:{taskKind:e.taskKind,taskStage:e.taskStage}})],1),e._v(\" \"),n(\"TabPane\",{attrs:{label:\"重要且紧急\",name:\"1\"}},[n(\"important-and-primary\",{attrs:{taskKind:e.taskKind,taskStage:e.taskStage}})],1),e._v(\" \"),n(\"TabPane\",{attrs:{label:\"非常紧急\",name:\"2\"}},[n(\"primary\",{attrs:{taskKind:e.taskKind,taskStage:e.taskStage}})],1),e._v(\" \"),n(\"TabPane\",{attrs:{label:\"非常重要\",name:\"3\"}},[n(\"importance\",{attrs:{taskKind:e.taskKind,taskStage:e.taskStage}})],1),e._v(\" \"),n(\"TabPane\",{attrs:{label:\"一般\",name:\"4\"}},[n(\"normal\",{attrs:{taskKind:e.taskKind,taskStage:e.taskStage}})],1)],1)],1),e._v(\" \"),n(\"Modal\",{attrs:{title:\"新增任务\",width:\"800\",\"mask-closable\":!1},model:{value:e.openAddMission,callback:function(t){e.openAddMission=t},expression:\"openAddMission\"}},[n(\"Form\",{ref:\"newMission\",staticStyle:{\"margin-left\":\"50px\",\"margin-right\":\"50px\"},attrs:{model:e.newMission,\"label-width\":80}},[n(\"FormItem\",{attrs:{label:\"任务名称\",prop:\"taskName\"}},[n(\"Input\",{model:{value:e.newMission.taskName,callback:function(t){e.$set(e.newMission,\"taskName\",t)},expression:\"newMission.taskName\"}})],1),e._v(\" \"),n(\"FormItem\",{attrs:{label:\"任务对象\",prop:\"companyId\"}},[n(\"Select\",{attrs:{placeholder:\"输入公司名称搜索\",filterable:\"\",remote:\"\",\"remote-method\":e.get_company,loading:e.companyLoading},model:{value:e.newMission.companyId,callback:function(t){e.$set(e.newMission,\"companyId\",t)},expression:\"newMission.companyId\"}},e._l(e.companyList,function(t){return n(\"Option\",{key:t.id,attrs:{value:t.id}},[e._v(e._s(t.companyname))])}),1)],1),e._v(\" \"),n(\"FormItem\",{attrs:{label:\"执行者\",prop:\"executorId\"}},[n(\"Select\",{attrs:{placeholder:\"执行者\",filterable:\"\",remote:\"\",\"remote-method\":e.get_user,loading:e.userLoading},model:{value:e.newMission.executorId,callback:function(t){e.$set(e.newMission,\"executorId\",t)},expression:\"newMission.executorId\"}},e._l(e.userList,function(t){return n(\"Option\",{key:t.id,attrs:{value:t.id,label:t.realname}},[n(\"span\",[e._v(e._s(t.realname))]),e._v(\" \"),n(\"span\",{staticStyle:{float:\"right\",color:\"#ccc\"}},[e._v(e._s(t.departname))])])}),1)],1),e._v(\" \"),n(\"FormItem\",{attrs:{label:\"任务详情\",prop:\"taskContent\"}},[n(\"Input\",{attrs:{type:\"textarea\",rows:3},model:{value:e.newMission.taskContent,callback:function(t){e.$set(e.newMission,\"taskContent\",t)},expression:\"newMission.taskContent\"}})],1),e._v(\" \"),n(\"Row\",{attrs:{gutter:12}},[n(\"Col\",{attrs:{span:\"12\"}},[n(\"FormItem\",{attrs:{label:\"执行时间\",prop:\"planDate\"}},[n(\"DatePicker\",{staticStyle:{width:\"100%\"},attrs:{type:\"datetime\"},model:{value:e.newMission.planDate,callback:function(t){e.$set(e.newMission,\"planDate\",t)},expression:\"newMission.planDate\"}})],1)],1)],1),e._v(\" \"),n(\"Row\",{attrs:{gutter:12}},[n(\"Col\",{attrs:{span:\"12\"}},[n(\"FormItem\",{attrs:{label:\"任务级别\",prop:\"taskLevel\"}},[n(\"Select\",{attrs:{type:\"text\",transfer:\"\"},model:{value:e.newMission.taskLevel,callback:function(t){e.$set(e.newMission,\"taskLevel\",t)},expression:\"newMission.taskLevel\"}},e._l(e.taskLevel,function(t,a){return n(\"Option\",{key:a,attrs:{value:t.typecode}},[e._v(e._s(t.typename))])}),1)],1)],1),e._v(\" \"),n(\"Col\",{attrs:{span:\"12\"}},[n(\"FormItem\",{attrs:{label:\"任务类型\",prop:\"taskKind\"}},[n(\"Select\",{model:{value:e.newMission.taskKind,callback:function(t){e.$set(e.newMission,\"taskKind\",t)},expression:\"newMission.taskKind\"}},e._l(e.taskKind,function(t,a){return n(\"Option\",{key:a,attrs:{value:t.typecode}},[e._v(e._s(t.typename))])}),1)],1)],1)],1),e._v(\" \"),n(\"Row\",{attrs:{gutter:12}})],1),e._v(\" \"),n(\"div\",{attrs:{slot:\"footer\"},slot:\"footer\"},[n(\"Button\",{attrs:{type:\"primary\",loading:e.createLoading},on:{click:e.create_task}},[e._v(\"新增\")]),e._v(\" \"),n(\"Button\",{attrs:{type:\"ghost\"},on:{click:e.cancel_task}},[e._v(\"清空\")])],1)],1),e._v(\" \"),n(\"detail-task\")],1)},[],!1,null,null,null);w.options.__file=\"index.vue\";a.default=w.exports}}]);"}